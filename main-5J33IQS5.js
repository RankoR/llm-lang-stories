import{a as D,b as B,c as T,d as Zh}from"./chunk-JO6FHGF5.js";function Qc(n,e){return Object.is(n,e)}var xe=null,Ps=!1,Jc=1,Ct=Symbol("SIGNAL");function W(n){let e=xe;return xe=n,e}function Xc(){return xe}var lo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function co(n){if(Ps)throw new Error("");if(xe===null)return;xe.consumerOnSignalRead(n);let e=xe.nextProducerIndex++;if(Vs(xe),e<xe.producerNode.length&&xe.producerNode[e]!==n&&ao(xe)){let t=xe.producerNode[e];Ls(t,xe.producerIndexOfThis[e])}xe.producerNode[e]!==n&&(xe.producerNode[e]=n,xe.producerIndexOfThis[e]=ao(xe)?Jh(n,xe,e):0),xe.producerLastReadVersion[e]=n.version}function Qh(){Jc++}function eu(n){if(!(ao(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Jc)){if(!n.producerMustRecompute(n)&&!ru(n)){Zc(n);return}n.producerRecomputeValue(n),Zc(n)}}function tu(n){if(n.liveConsumerNode===void 0)return;let e=Ps;Ps=!0;try{for(let t of n.liveConsumerNode)t.dirty||eD(t)}finally{Ps=e}}function nu(){return xe?.consumerAllowSignalWrites!==!1}function eD(n){n.dirty=!0,tu(n),n.consumerMarkedDirty?.(n)}function Zc(n){n.dirty=!1,n.lastCleanEpoch=Jc}function Fs(n){return n&&(n.nextProducerIndex=0),W(n)}function iu(n,e){if(W(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ao(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ls(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ru(n){Vs(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(eu(t),i!==t.version))return!0}return!1}function ou(n){if(Vs(n),ao(n))for(let e=0;e<n.producerNode.length;e++)Ls(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Jh(n,e,t){if(Xh(n),n.liveConsumerNode.length===0&&eg(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Jh(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ls(n,e){if(Xh(n),n.liveConsumerNode.length===1&&eg(n))for(let i=0;i<n.producerNode.length;i++)Ls(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Vs(r),r.producerIndexOfThis[i]=e}}function ao(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Vs(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Xh(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function eg(n){return n.producerNode!==void 0}function su(n,e){let t=Object.create(tD);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(eu(t),co(t),t.value===ks)throw t.error;return t.value};return i[Ct]=t,i}var Yc=Symbol("UNSET"),Kc=Symbol("COMPUTING"),ks=Symbol("ERRORED"),tD=B(D({},lo),{value:Yc,dirty:!0,error:null,equal:Qc,kind:"computed",producerMustRecompute(n){return n.value===Yc||n.value===Kc},producerRecomputeValue(n){if(n.value===Kc)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Kc;let t=Fs(n),i,r=!1;try{i=n.computation(),W(null),r=e!==Yc&&e!==ks&&i!==ks&&n.equal(e,i)}catch(o){i=ks,n.error=o}finally{iu(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function nD(){throw new Error}var tg=nD;function ng(n){tg(n)}function au(n){tg=n}var iD=null;function lu(n,e){let t=Object.create(Bs);t.value=n,e!==void 0&&(t.equal=e);let i=()=>(co(t),t.value);return i[Ct]=t,i}function uo(n,e){nu()||ng(n),n.equal(n.value,e)||(n.value=e,rD(n))}function cu(n,e){nu()||ng(n),uo(n,e(n.value))}var Bs=B(D({},lo),{equal:Qc,value:void 0,kind:"signal"});function rD(n){n.version++,Qh(),tu(n),iD?.()}function uu(n){let e=W(null);try{return n()}finally{W(e)}}var du;function fo(){return du}function dn(n){let e=du;return du=n,e}var Us=Symbol("NotFound");function R(n){return typeof n=="function"}function Hi(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hs=Hi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function oi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(R(i))try{i()}catch(o){e=o instanceof Hs?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{ig(o)}catch(s){e=e??[],s instanceof Hs?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hs(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ig(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oi(t,e)}remove(e){let{_finalizers:t}=this;t&&oi(t,e),e instanceof n&&e._removeParent(this)}};me.EMPTY=(()=>{let n=new me;return n.closed=!0,n})();var fu=me.EMPTY;function $s(n){return n instanceof me||n&&"closed"in n&&R(n.remove)&&R(n.add)&&R(n.unsubscribe)}function ig(n){R(n)?n():n.unsubscribe()}var kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $i={setTimeout(n,e,...t){let{delegate:i}=$i;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$i;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Gs(n){$i.setTimeout(()=>{let{onUnhandledError:e}=kt;if(e)e(n);else throw n})}function fn(){}var rg=pu("C",void 0,void 0);function og(n){return pu("E",void 0,n)}function sg(n){return pu("N",n,void 0)}function pu(n,e,t){return{kind:n,value:e,error:t}}var si=null;function Gi(n){if(kt.useDeprecatedSynchronousErrorHandling){let e=!si;if(e&&(si={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=si;if(si=null,t)throw i}}else n()}function ag(n){kt.useDeprecatedSynchronousErrorHandling&&si&&(si.errorThrown=!0,si.error=n)}var ai=class extends me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$s(e)&&e.add(this)):this.destination=uD}static create(e,t,i){return new ji(e,t,i)}next(e){this.isStopped?gu(sg(e),this):this._next(e)}error(e){this.isStopped?gu(og(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gu(rg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lD=Function.prototype.bind;function hu(n,e){return lD.call(n,e)}var mu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){js(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){js(i)}else js(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){js(t)}}},ji=class extends ai{constructor(e,t,i){super();let r;if(R(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&kt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&hu(e.next,o),error:e.error&&hu(e.error,o),complete:e.complete&&hu(e.complete,o)}):r=e}this.destination=new mu(r)}};function js(n){kt.useDeprecatedSynchronousErrorHandling?ag(n):Gs(n)}function cD(n){throw n}function gu(n,e){let{onStoppedNotification:t}=kt;t&&$i.setTimeout(()=>t(n,e))}var uD={closed:!0,next:fn,error:cD,complete:fn};var Wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function He(n){return n}function vu(...n){return yu(n)}function yu(n){return n.length===0?He:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var G=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=fD(t)?t:new ji(t,i,r);return Gi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=lg(i),new i((r,o)=>{let s=new ji({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Wi](){return this}pipe(...t){return yu(t)(this)}toPromise(t){return t=lg(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function lg(n){var e;return(e=n??kt.Promise)!==null&&e!==void 0?e:Promise}function dD(n){return n&&R(n.next)&&R(n.error)&&R(n.complete)}function fD(n){return n&&n instanceof ai||dD(n)&&$s(n)}function _u(n){return R(n?.lift)}function U(n){return e=>{if(_u(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function k(n,e,t,i,r){return new Cu(n,e,t,i,r)}var Cu=class extends ai{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zi(){return U((n,e)=>{let t=null;n._refCount++;let i=k(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var qi=class extends G{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_u(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new me;let t=this.getSubject();e.add(this.source.subscribe(k(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=me.EMPTY)}return e}refCount(){return zi()(this)}};var cg=Hi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class n extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Ws(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new cg}next(t){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?fu:(this.currentObservers=null,o.push(t),new me(()=>{this.currentObservers=null,oi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new G;return t.source=this,t}}return n.create=(e,t)=>new Ws(e,t),n})(),Ws=class extends re{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:fu}};var fe=class extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Du={now(){return(Du.delegate||Date).now()},delegate:void 0};var zs=class extends me{constructor(e,t){super()}schedule(e,t=0){return this}};var po={setInterval(n,e,...t){let{delegate:i}=po;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=po;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var qs=class extends zs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return po.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&po.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oi(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Yi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Yi.now=Du.now;var Ys=class extends Yi{constructor(e,t=Yi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var ho=new Ys(qs),ug=ho;var Pe=new G(n=>n.complete());function Ks(n){return n&&R(n.schedule)}function wu(n){return n[n.length-1]}function Ki(n){return R(wu(n))?n.pop():void 0}function qt(n){return Ks(wu(n))?n.pop():void 0}function dg(n,e){return typeof wu(n)=="number"?n.pop():e}function pg(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{d(i.next(f))}catch(p){s(p)}}function l(f){try{d(i.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):r(f.value).then(a,l)}d((i=i.apply(n,e||[])).next())})}function fg(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(n){return this instanceof li?(this.v=n,this):new li(n)}function hg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(m){return Promise.resolve(m).then(h,p)}}function a(h,m){i[h]&&(r[h]=function(v){return new Promise(function(_,C){o.push([h,v,_,C])>1||l(h,v)})},m&&(r[h]=m(r[h])))}function l(h,m){try{d(i[h](m))}catch(v){g(o[0][3],v)}}function d(h){h.value instanceof li?Promise.resolve(h.value.v).then(f,p):g(o[0][2],h)}function f(h){l("next",h)}function p(h){l("throw",h)}function g(h,m){h(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function gg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof fg=="function"?fg(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Zi=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zs(n){return R(n?.then)}function Qs(n){return R(n[Wi])}function Js(n){return Symbol.asyncIterator&&R(n?.[Symbol.asyncIterator])}function Xs(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ea=pD();function ta(n){return R(n?.[ea])}function na(n){return hg(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield li(t.read());if(r)return yield li(void 0);yield yield li(i)}}finally{t.releaseLock()}})}function ia(n){return R(n?.getReader)}function ne(n){if(n instanceof G)return n;if(n!=null){if(Qs(n))return hD(n);if(Zi(n))return gD(n);if(Zs(n))return mD(n);if(Js(n))return mg(n);if(ta(n))return vD(n);if(ia(n))return yD(n)}throw Xs(n)}function hD(n){return new G(e=>{let t=n[Wi]();if(R(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gD(n){return new G(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function mD(n){return new G(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Gs)})}function vD(n){return new G(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function mg(n){return new G(e=>{_D(n,e).catch(t=>e.error(t))})}function yD(n){return mg(na(n))}function _D(n,e){var t,i,r,o;return pg(this,void 0,void 0,function*(){try{for(t=gg(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function rt(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ra(n,e=0){return U((t,i)=>{t.subscribe(k(i,r=>rt(i,n,()=>i.next(r),e),()=>rt(i,n,()=>i.complete(),e),r=>rt(i,n,()=>i.error(r),e)))})}function oa(n,e=0){return U((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function vg(n,e){return ne(n).pipe(oa(e),ra(e))}function yg(n,e){return ne(n).pipe(oa(e),ra(e))}function _g(n,e){return new G(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Cg(n,e){return new G(t=>{let i;return rt(t,e,()=>{i=n[ea](),rt(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>R(i?.return)&&i.return()})}function sa(n,e){if(!n)throw new Error("Iterable cannot be null");return new G(t=>{rt(t,e,()=>{let i=n[Symbol.asyncIterator]();rt(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Dg(n,e){return sa(na(n),e)}function wg(n,e){if(n!=null){if(Qs(n))return vg(n,e);if(Zi(n))return _g(n,e);if(Zs(n))return yg(n,e);if(Js(n))return sa(n,e);if(ta(n))return Cg(n,e);if(ia(n))return Dg(n,e)}throw Xs(n)}function ve(n,e){return e?wg(n,e):ne(n)}function P(...n){let e=qt(n);return ve(n,e)}function Yt(n,e){let t=R(n)?n:()=>n,i=r=>r.error(t());return new G(e?r=>e.schedule(i,0,r):i)}function bu(n){return!!n&&(n instanceof G||R(n.lift)&&R(n.subscribe))}var pn=Hi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bg(n){return n instanceof Date&&!isNaN(n)}function F(n,e){return U((t,i)=>{let r=0;t.subscribe(k(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:CD}=Array;function DD(n,e){return CD(e)?n(...e):n(e)}function Qi(n){return F(e=>DD(n,e))}var{isArray:wD}=Array,{getPrototypeOf:bD,prototype:ED,keys:SD}=Object;function aa(n){if(n.length===1){let e=n[0];if(wD(e))return{args:e,keys:null};if(TD(e)){let t=SD(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function TD(n){return n&&typeof n=="object"&&bD(n)===ED}function la(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ci(...n){let e=qt(n),t=Ki(n),{args:i,keys:r}=aa(n);if(i.length===0)return ve([],e);let o=new G(ID(i,e,r?s=>la(r,s):He));return t?o.pipe(Qi(t)):o}function ID(n,e,t=He){return i=>{Eg(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)Eg(e,()=>{let d=ve(n[l],e),f=!1;d.subscribe(k(i,p=>{o[l]=p,f||(f=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Eg(n,e,t){n?rt(t,n,e):e()}function Sg(n,e,t,i,r,o,s,a){let l=[],d=0,f=0,p=!1,g=()=>{p&&!l.length&&!d&&e.complete()},h=v=>d<i?m(v):l.push(v),m=v=>{o&&e.next(v),d++;let _=!1;ne(t(v,f++)).subscribe(k(e,C=>{r?.(C),o?h(C):e.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(d--;l.length&&d<i;){let C=l.shift();s?rt(e,s,()=>m(C)):m(C)}g()}catch(C){e.error(C)}}))};return n.subscribe(k(e,h,()=>{p=!0,g()})),()=>{a?.()}}function pe(n,e,t=1/0){return R(e)?pe((i,r)=>F((o,s)=>e(i,o,r,s))(ne(n(i,r))),t):(typeof e=="number"&&(t=e),U((i,r)=>Sg(i,r,n,t)))}function ca(n=1/0){return pe(He,n)}function Tg(){return ca(1)}function Kt(...n){return Tg()(ve(n,qt(n)))}function ua(n){return new G(e=>{ne(n()).subscribe(e)})}function Eu(...n){let e=Ki(n),{args:t,keys:i}=aa(n),r=new G(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let f=0;f<s;f++){let p=!1;ne(t[f]).subscribe(k(o,g=>{p||(p=!0,d--),a[f]=g},()=>l--,void 0,()=>{(!l||!p)&&(d||o.next(i?la(i,a):a),o.complete())}))}});return e?r.pipe(Qi(e)):r}var MD=["addListener","removeListener"],xD=["addEventListener","removeEventListener"],ND=["on","off"];function Ft(n,e,t,i){if(R(t)&&(i=t,t=void 0),i)return Ft(n,e,t).pipe(Qi(i));let[r,o]=OD(n)?xD.map(s=>a=>n[s](e,a,t)):AD(n)?MD.map(Ig(n,e)):RD(n)?ND.map(Ig(n,e)):[];if(!r&&Zi(n))return pe(s=>Ft(s,e,t))(ne(n));if(!r)throw new TypeError("Invalid event target");return new G(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Ig(n,e){return t=>i=>n[t](e,i)}function AD(n){return R(n.addListener)&&R(n.removeListener)}function RD(n){return R(n.on)&&R(n.off)}function OD(n){return R(n.addEventListener)&&R(n.removeEventListener)}function go(n=0,e,t=ug){let i=-1;return e!=null&&(Ks(e)?t=e:i=e),new G(r=>{let o=bg(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function da(...n){let e=qt(n),t=dg(n,1/0),i=n;return i.length?i.length===1?ne(i[0]):ca(t)(ve(i,e)):Pe}var{isArray:PD}=Array;function Mg(n){return n.length===1&&PD(n[0])?n[0]:n}function $e(n,e){return U((t,i)=>{let r=0;t.subscribe(k(i,o=>n.call(e,o,r++)&&i.next(o)))})}function fa(...n){return n=Mg(n),n.length===1?ne(n[0]):new G(kD(n))}function kD(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(ne(n[i]).subscribe(k(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}function xn(n){return U((e,t)=>{let i=null,r=!1,o;i=e.subscribe(k(t,void 0,void 0,s=>{o=ne(n(s,xn(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function xg(n,e,t,i,r){return(o,s)=>{let a=t,l=e,d=0;o.subscribe(k(s,f=>{let p=d++;l=a?n(l,f,p):(a=!0,f),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Ji(n,e){return R(e)?pe(n,e,1):pe(n,1)}function Su(n,e=ho){return U((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let d=o;o=null,i.next(d)}};function l(){let d=s+n,f=e.now();if(f<d){r=this.schedule(void 0,d-f),i.add(r);return}a()}t.subscribe(k(i,d=>{o=d,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Nn(n){return U((e,t)=>{let i=!1;e.subscribe(k(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Je(n){return n<=0?()=>Pe:U((e,t)=>{let i=0;e.subscribe(k(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ng(){return U((n,e)=>{n.subscribe(k(e,fn))})}function Ag(n){return F(()=>n)}function Tu(n,e){return e?t=>Kt(e.pipe(Je(1),Ng()),t.pipe(Tu(n))):pe((t,i)=>ne(n(t,i)).pipe(Je(1),Ag(t)))}function Iu(n,e=ho){let t=go(n,e);return Tu(()=>t)}function pa(n,e=He){return n=n??FD,U((t,i)=>{let r,o=!0;t.subscribe(k(i,s=>{let a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function FD(n,e){return n===e}function ha(n=LD){return U((e,t)=>{let i=!1;e.subscribe(k(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function LD(){return new pn}function Mu(...n){return e=>Kt(e,P(...n))}function Xi(n){return U((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function hn(n,e){let t=arguments.length>=2;return i=>i.pipe(n?$e((r,o)=>n(r,o,i)):He,Je(1),t?Nn(e):ha(()=>new pn))}function er(n){return n<=0?()=>Pe:U((e,t)=>{let i=[];e.subscribe(k(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function xu(n,e){let t=arguments.length>=2;return i=>i.pipe(n?$e((r,o)=>n(r,o,i)):He,er(1),t?Nn(e):ha(()=>new pn))}function Nu(n,e){return U(xg(n,e,arguments.length>=2,!0))}function ga(...n){let e=qt(n);return U((t,i)=>{(e?Kt(n,t,e):Kt(n,t)).subscribe(i)})}function ft(n,e){return U((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(k(i,l=>{r?.unsubscribe();let d=0,f=o++;ne(n(l,f)).subscribe(r=k(i,p=>i.next(e?e(l,p,f,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Zt(n){return U((e,t)=>{ne(n).subscribe(k(t,()=>t.complete(),fn)),!t.closed&&e.subscribe(t)})}function Se(n,e,t){let i=R(n)||e||t?{next:n,error:e,complete:t}:n;return i?U((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(k(o,l=>{var d;(d=i.next)===null||d===void 0||d.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,l),o.error(l)},()=>{var l,d;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):He}function Au(...n){let e=Ki(n);return U((t,i)=>{let r=n.length,o=new Array(r),s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)ne(n[l]).subscribe(k(i,d=>{o[l]=d,!a&&!s[l]&&(s[l]=!0,(a=s.every(He))&&(s=null))},fn));t.subscribe(k(i,l=>{if(a){let d=[l,...o];i.next(e?e(...d):d)}}))})}var VD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(e,t){super(UD(e,t)),this.code=e}};function BD(n){return`NG0${Math.abs(n)}`}function UD(n,e){return`${BD(n)}${e?": "+e:""}`}var vm=Symbol("InputSignalNode#UNSET"),HD=B(D({},Bs),{transformFn:void 0,applyValueToInputSignal(n,e){uo(n,e)}});function ym(n,e){let t=Object.create(HD);t.value=n,t.transformFn=e?.transform;function i(){if(co(t),t.value===vm){let r=null;throw new I(-950,r)}return t.value}return i[Ct]=t,i}function Mo(n){return{toString:n}.toString()}var ma="__parameters__";function $D(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function _m(n,e,t){return Mo(()=>{let i=$D(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,f){let p=l.hasOwnProperty(ma)?l[ma]:Object.defineProperty(l,ma,{value:[]})[ma];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),l}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function ae(n){for(let e in n)if(n[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function GD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function st(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(st).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function zu(n,e){return n?e?`${n} ${e}`:n:e||""}var jD=ae({__forward_ref__:ae});function kn(n){return n.__forward_ref__=kn,n.toString=function(){return st(this())},n}function Xe(n){return Cm(n)?n():n}function Cm(n){return typeof n=="function"&&n.hasOwnProperty(jD)&&n.__forward_ref__===kn}function E(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Et(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ka(n){return Rg(n,wm)||Rg(n,bm)}function Dm(n){return Ka(n)!==null}function Rg(n,e){return n.hasOwnProperty(e)?n[e]:null}function WD(n){let e=n&&(n[wm]||n[bm]);return e||null}function Og(n){return n&&(n.hasOwnProperty(Pg)||n.hasOwnProperty(zD))?n[Pg]:null}var wm=ae({\u0275prov:ae}),Pg=ae({\u0275inj:ae}),bm=ae({ngInjectableDef:ae}),zD=ae({ngInjectorDef:ae}),M=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=E({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Em(n){return n&&!!n.\u0275providers}var qD=ae({\u0275cmp:ae}),YD=ae({\u0275dir:ae}),KD=ae({\u0275pipe:ae}),ZD=ae({\u0275mod:ae}),Ea=ae({\u0275fac:ae}),_o=ae({__NG_ELEMENT_ID__:ae}),kg=ae({__NG_ENV_ID__:ae});function Yd(n){return typeof n=="string"?n:n==null?"":String(n)}function QD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Yd(n)}function Sm(n,e){throw new I(-200,n)}function Kd(n,e){throw new I(-201,!1)}var z=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(z||{}),qu;function Tm(){return qu}function Dt(n){let e=qu;return qu=n,e}function Im(n,e,t){let i=Ka(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&z.Optional)return null;if(e!==void 0)return e;Kd(n,"Injector")}var JD={},ui=JD,Yu="__NG_DI_FLAG__",Sa=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=t;return this.injector.get(e,i.optional?Us:ui,i)}},Ta="ngTempTokenPath",XD="ngTokenPath",ew=/\n/gm,tw="\u0275",Fg="__source";function nw(n,e=z.Default){if(fo()===void 0)throw new I(-203,!1);if(fo()===null)return Im(n,void 0,e);{let t=fo(),i;return t instanceof Sa?i=t.injector:i=t,i.get(n,e&z.Optional?null:void 0,e)}}function j(n,e=z.Default){return(Tm()||nw)(Xe(n),e)}function y(n,e=z.Default){return j(n,Za(e))}function Za(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ku(n){let e=[];for(let t=0;t<n.length;t++){let i=Xe(n[t]);if(Array.isArray(i)){if(i.length===0)throw new I(900,!1);let r,o=z.Default;for(let s=0;s<i.length;s++){let a=i[s],l=iw(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(j(r,o))}else e.push(j(i))}return e}function Mm(n,e){return n[Yu]=e,n.prototype[Yu]=e,n}function iw(n){return n[Yu]}function rw(n,e,t,i){let r=n[Ta];throw e[Fg]&&r.unshift(e[Fg]),n.message=ow(`
`+n.message,r,t,i),n[XD]=r,n[Ta]=null,n}function ow(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==tw?n.slice(2):n;let r=st(e);if(Array.isArray(e))r=e.map(st).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):st(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(ew,`
  `)}`}var sw=Mm(_m("Optional"),8);var aw=Mm(_m("SkipSelf"),4);function ar(n,e){let t=n.hasOwnProperty(Ea);return t?n[Ea]:null}function lw(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function cw(n){return n.flat(Number.POSITIVE_INFINITY)}function Zd(n,e){n.forEach(t=>Array.isArray(t)?Zd(t,e):e(t))}function xm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ia(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function uw(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function dw(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function Qd(n,e,t){let i=xo(n,e);return i>=0?n[i|1]=t:(i=~i,dw(n,i,e,t)),i}function Ru(n,e){let t=xo(n,e);if(t>=0)return n[t|1]}function xo(n,e){return fw(n,e,1)}function fw(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var fi={},ot=[],Co=new M(""),Nm=new M("",-1),Am=new M(""),Ma=class{get(e,t=ui){if(t===ui){let i=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw i.name="NullInjectorError",i}return t}};function Rm(n,e){let t=n[ZD]||null;if(!t&&e===!0)throw new Error(`Type ${st(n)} does not have '\u0275mod' property.`);return t}function lr(n){return n[qD]||null}function pw(n){return n[YD]||null}function hw(n){return n[KD]||null}function Jd(n){return{\u0275providers:n}}function gw(...n){return{\u0275providers:Om(!0,n),\u0275fromNgModule:!0}}function Om(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return Zd(e,s=>{let a=s;Zu(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Pm(r,o),t}function Pm(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Xd(r,o=>{e(o,i)})}}function Zu(n,e,t,i){if(n=Xe(n),!n)return!1;let r=null,o=Og(n),s=!o&&lr(n);if(!o&&!s){let l=n.ngModule;if(o=Og(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Zu(d,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{Zd(o.imports,f=>{Zu(f,e,t,i)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Pm(d,e)}if(!a){let d=ar(r)||(()=>new r);e({provide:r,useFactory:d,deps:ot},r),e({provide:Am,useValue:r,multi:!0},r),e({provide:Co,useValue:()=>j(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=n;Xd(l,f=>{e(f,d)})}}else return!1;return r!==n&&n.providers!==void 0}function Xd(n,e){for(let t of n)Em(t)&&(t=t.\u0275providers),Array.isArray(t)?Xd(t,e):e(t)}var mw=ae({provide:String,useValue:ae});function km(n){return n!==null&&typeof n=="object"&&mw in n}function vw(n){return!!(n&&n.useExisting)}function yw(n){return!!(n&&n.useFactory)}function cr(n){return typeof n=="function"}function _w(n){return!!n.useClass}var Qa=new M(""),ya={},Lg={},Ou;function ef(){return Ou===void 0&&(Ou=new Ma),Ou}var pt=class{},Do=class extends pt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Ju(e,s=>this.processProvider(s)),this.records.set(Nm,tr(void 0,this)),r.has("environment")&&this.records.set(pt,tr(void 0,this));let o=this.records.get(Qa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Am,ot,z.Self))}retrieve(e,t){let i=t;return this.get(e,i.optional?Us:ui,i)}destroy(){vo(this),this._destroyed=!0;let e=W(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return vo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){vo(this);let t=dn(this),i=Dt(void 0),r;try{return e()}finally{dn(t),Dt(i)}}get(e,t=ui,i=z.Default){if(vo(this),e.hasOwnProperty(kg))return e[kg](this);i=Za(i);let r,o=dn(this),s=Dt(void 0);try{if(!(i&z.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=Ew(e)&&Ka(e);d&&this.injectableDefInScope(d)?l=tr(Qu(e),ya):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&z.Self?ef():this.parent;return t=i&z.Optional&&t===ui?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ta]=a[Ta]||[]).unshift(st(e)),o)throw a;return rw(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(s),dn(o)}}resolveInjectorInitializers(){let e=W(null),t=dn(this),i=Dt(void 0),r;try{let o=this.get(Co,ot,z.Self);for(let s of o)s()}finally{dn(t),Dt(i),W(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(st(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Xe(e);let t=cr(e)?e:Xe(e&&e.provide),i=Dw(e);if(!cr(e)&&e.multi===!0){let r=this.records.get(t);r||(r=tr(void 0,ya,!0),r.factory=()=>Ku(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=W(null);try{return t.value===Lg?Sm(st(e)):t.value===ya&&(t.value=Lg,t.value=t.factory()),typeof t.value=="object"&&t.value&&bw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{W(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Xe(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Qu(n){let e=Ka(n),t=e!==null?e.factory:ar(n);if(t!==null)return t;if(n instanceof M)throw new I(204,!1);if(n instanceof Function)return Cw(n);throw new I(204,!1)}function Cw(n){if(n.length>0)throw new I(204,!1);let t=WD(n);return t!==null?()=>t.factory(n):()=>new n}function Dw(n){if(km(n))return tr(void 0,n.useValue);{let e=Fm(n);return tr(e,ya)}}function Fm(n,e,t){let i;if(cr(n)){let r=Xe(n);return ar(r)||Qu(r)}else if(km(n))i=()=>Xe(n.useValue);else if(yw(n))i=()=>n.useFactory(...Ku(n.deps||[]));else if(vw(n))i=()=>j(Xe(n.useExisting));else{let r=Xe(n&&(n.useClass||n.provide));if(ww(n))i=()=>new r(...Ku(n.deps));else return ar(r)||Qu(r)}return i}function vo(n){if(n.destroyed)throw new I(205,!1)}function tr(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ww(n){return!!n.deps}function bw(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Ew(n){return typeof n=="function"||typeof n=="object"&&n instanceof M}function Ju(n,e){for(let t of n)Array.isArray(t)?Ju(t,e):t&&Em(t)?Ju(t.\u0275providers,e):e(t)}function Ut(n,e){let t;n instanceof Do?(vo(n),t=n):t=new Sa(n);let i,r=dn(t),o=Dt(void 0);try{return e()}finally{dn(r),Dt(o)}}function Lm(){return Tm()!==void 0||fo()!=null}function Vm(n){if(!Lm())throw new I(-203,!1)}function Sw(n){return typeof n=="function"}var yn=0,H=1,L=2,qe=3,Bt=4,at=5,ur=6,xa=7,Ne=8,dr=9,On=10,ye=11,wo=12,Vg=13,Cr=14,ht=15,pi=16,nr=17,gn=18,Ja=19,Bm=20,An=21,Pu=22,Na=23,wt=24,or=25,Ye=26,Um=1;var hi=7,Aa=8,fr=9,ze=10;function Rn(n){return Array.isArray(n)&&typeof n[Um]=="object"}function _n(n){return Array.isArray(n)&&n[Um]===!0}function tf(n){return(n.flags&4)!==0}function Dr(n){return n.componentOffset>-1}function Xa(n){return(n.flags&1)===1}function Jt(n){return!!n.template}function Ra(n){return(n[L]&512)!==0}function No(n){return(n[L]&256)===256}var Xu=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Hm(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var gt=(()=>{let n=()=>$m;return n.ngInherit=!0,n})();function $m(n){return n.type.prototype.ngOnChanges&&(n.setInput=Iw),Tw}function Tw(){let n=jm(this),e=n?.current;if(e){let t=n.previous;if(t===fi)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Iw(n,e,t,i,r){let o=this.declaredInputs[i],s=jm(n)||Mw(n,{previous:fi,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Xu(d&&d.currentValue,t,l===fi),Hm(n,e,r,t)}var Gm="__ngSimpleChanges__";function jm(n){return n[Gm]||null}function Mw(n,e){return n[Gm]=e}var Bg=null;var se=function(n,e=null,t){Bg?.(n,e,t)},xw="svg",Nw="math";function Xt(n){for(;Array.isArray(n);)n=n[yn];return n}function Wm(n,e){return Xt(e[n])}function on(n,e){return Xt(e[n.index])}function nf(n,e){return n.data[e]}function Aw(n,e){return n[e]}function en(n,e){let t=e[n];return Rn(t)?t:t[yn]}function Rw(n){return(n[L]&4)===4}function rf(n){return(n[L]&128)===128}function Ow(n){return _n(n[qe])}function Pn(n,e){return e==null?null:n[e]}function zm(n){n[nr]=0}function qm(n){n[L]&1024||(n[L]|=1024,rf(n)&&Ao(n))}function Pw(n,e){for(;n>0;)e=e[Cr],n--;return e}function el(n){return!!(n[L]&9216||n[wt]?.dirty)}function ed(n){n[On].changeDetectionScheduler?.notify(8),n[L]&64&&(n[L]|=1024),el(n)&&Ao(n)}function Ao(n){n[On].changeDetectionScheduler?.notify(0);let e=gi(n);for(;e!==null&&!(e[L]&8192||(e[L]|=8192,!rf(e)));)e=gi(e)}function Ym(n,e){if(No(n))throw new I(911,!1);n[An]===null&&(n[An]=[]),n[An].push(e)}function kw(n,e){if(n[An]===null)return;let t=n[An].indexOf(e);t!==-1&&n[An].splice(t,1)}function gi(n){let e=n[qe];return _n(e)?e[qe]:e}function of(n){return n[xa]??=[]}function sf(n){return n.cleanup??=[]}function Fw(n,e,t,i){let r=of(e);r.push(t),n.firstCreatePass&&sf(n).push(i,r.length-1)}var q={lFrame:nv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var td=!1;function Lw(){return q.lFrame.elementDepthCount}function Vw(){q.lFrame.elementDepthCount++}function Bw(){q.lFrame.elementDepthCount--}function af(){return q.bindingsEnabled}function Km(){return q.skipHydrationRootTNode!==null}function Uw(n){return q.skipHydrationRootTNode===n}function Hw(){q.skipHydrationRootTNode=null}function Y(){return q.lFrame.lView}function Ce(){return q.lFrame.tView}function ce(n){return q.lFrame.contextLView=n,n[Ne]}function ue(n){return q.lFrame.contextLView=null,n}function et(){let n=Zm();for(;n!==null&&n.type===64;)n=n.parent;return n}function Zm(){return q.lFrame.currentTNode}function $w(){let n=q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function _i(n,e){let t=q.lFrame;t.currentTNode=n,t.isParent=e}function lf(){return q.lFrame.isParent}function cf(){q.lFrame.isParent=!1}function Gw(){return q.lFrame.contextLView}function Qm(){return td}function Ug(n){let e=td;return td=n,e}function jw(){let n=q.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ww(n){return q.lFrame.bindingIndex=n}function Ci(){return q.lFrame.bindingIndex++}function Jm(n){let e=q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zw(){return q.lFrame.inI18n}function qw(n,e){let t=q.lFrame;t.bindingIndex=t.bindingRootIndex=n,nd(e)}function Yw(){return q.lFrame.currentDirectiveIndex}function nd(n){q.lFrame.currentDirectiveIndex=n}function Kw(n){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Xm(){return q.lFrame.currentQueryIndex}function uf(n){q.lFrame.currentQueryIndex=n}function Zw(n){let e=n[H];return e.type===2?e.declTNode:e.type===1?n[at]:null}function ev(n,e,t){if(t&z.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&z.Host);)if(r=Zw(o),r===null||(o=o[Cr],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=q.lFrame=tv();return i.currentTNode=e,i.lView=n,!0}function df(n){let e=tv(),t=n[H];q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tv(){let n=q.lFrame,e=n===null?null:n.child;return e===null?nv(n):e}function nv(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function iv(){let n=q.lFrame;return q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var rv=iv;function ff(){let n=iv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qw(n){return(q.lFrame.contextLView=Pw(n,q.lFrame.contextLView))[Ne]}function Fn(){return q.lFrame.selectedIndex}function mi(n){q.lFrame.selectedIndex=n}function Ro(){let n=q.lFrame;return nf(n.tView,n.selectedIndex)}function Jw(){return q.lFrame.currentNamespace}var ov=!0;function tl(){return ov}function nl(n){ov=n}function Xw(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=$m(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function pf(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function _a(n,e,t){sv(n,e,3,t)}function Ca(n,e,t,i){(n[L]&3)===t&&sv(n,e,t,i)}function ku(n,e){let t=n[L];(t&3)===e&&(t&=16383,t+=1,n[L]=t)}function sv(n,e,t,i){let r=i!==void 0?n[nr]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[nr]+=65536),(a<o||o==-1)&&(eb(n,t,e,l),n[nr]=(n[nr]&4294901760)+l+2),l++}function Hg(n,e){se(4,n,e);let t=W(null);try{e.call(n)}finally{W(t),se(5,n,e)}}function eb(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[L]>>14<n[nr]>>16&&(n[L]&3)===e&&(n[L]+=16384,Hg(a,o)):Hg(a,o)}var sr=-1,vi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function tb(n){return(n.flags&8)!==0}function nb(n){return(n.flags&16)!==0}function ib(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];ob(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function rb(n){return n===3||n===4||n===6}function ob(n){return n.charCodeAt(0)===64}function pr(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?$g(n,t,r,null,e[++i]):$g(n,t,r,null,null))}}return n}function $g(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function av(n){return n!==sr}function Oa(n){return n&32767}function sb(n){return n>>16}function Pa(n,e){let t=sb(n),i=e;for(;t>0;)i=i[Cr],t--;return i}var id=!0;function Gg(n){let e=id;return id=n,e}var ab=256,lv=ab-1,cv=5,lb=0,Qt={};function cb(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(_o)&&(i=t[_o]),i==null&&(i=t[_o]=lb++);let r=i&lv,o=1<<r;e.data[n+(r>>cv)]|=o}function ka(n,e){let t=uv(n,e);if(t!==-1)return t;let i=e[H];i.firstCreatePass&&(n.injectorIndex=e.length,Fu(i.data,n),Fu(e,null),Fu(i.blueprint,null));let r=hf(n,e),o=n.injectorIndex;if(av(r)){let s=Oa(r),a=Pa(r,e),l=a[H].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=r,o}function Fu(n,e){n.push(0,0,0,0,0,0,0,0,e)}function uv(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hf(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=gv(r),i===null)return sr;if(t++,r=r[Cr],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return sr}function rd(n,e,t){cb(n,e,t)}function dv(n,e,t){if(t&z.Optional||n!==void 0)return n;Kd(e,"NodeInjector")}function fv(n,e,t,i){if(t&z.Optional&&i===void 0&&(i=null),(t&(z.Self|z.Host))===0){let r=n[dr],o=Dt(void 0);try{return r?r.get(e,i,t&z.Optional):Im(e,i,t&z.Optional)}finally{Dt(o)}}return dv(i,e,t)}function pv(n,e,t,i=z.Default,r){if(n!==null){if(e[L]&2048&&!(i&z.Self)){let s=pb(n,e,t,i,Qt);if(s!==Qt)return s}let o=hv(n,e,t,i,Qt);if(o!==Qt)return o}return fv(e,t,i,r)}function hv(n,e,t,i,r){let o=db(t);if(typeof o=="function"){if(!ev(e,n,i))return i&z.Host?dv(r,t,i):fv(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&z.Optional))Kd(t);else return s}finally{rv()}}else if(typeof o=="number"){let s=null,a=uv(n,e),l=sr,d=i&z.Host?e[ht][at]:null;for((a===-1||i&z.SkipSelf)&&(l=a===-1?hf(n,e):e[a+8],l===sr||!Wg(i,!1)?a=-1:(s=e[H],a=Oa(l),e=Pa(l,e)));a!==-1;){let f=e[H];if(jg(o,a,f.data)){let p=ub(a,e,t,s,i,d);if(p!==Qt)return p}l=e[a+8],l!==sr&&Wg(i,e[H].data[a+8]===d)&&jg(o,a,e)?(s=f,a=Oa(l),e=Pa(l,e)):a=-1}}return r}function ub(n,e,t,i,r,o){let s=e[H],a=s.data[n+8],l=i==null?Dr(a)&&id:i!=s&&(a.type&3)!==0,d=r&z.Host&&o===a,f=Da(a,s,t,l,d);return f!==null?bo(e,s,f,a):Qt}function Da(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,d=n.directiveEnd,f=o>>20,p=i?a:a+f,g=r?a+f:d;for(let h=p;h<g;h++){let m=s[h];if(h<l&&t===m||h>=l&&m.type===t)return h}if(r){let h=s[l];if(h&&Jt(h)&&h.type===t)return l}return null}function bo(n,e,t,i){let r=n[t],o=e.data;if(r instanceof vi){let s=r;s.resolving&&Sm(QD(o[t]));let a=Gg(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?Dt(s.injectImpl):null,f=ev(n,i,z.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&Xw(t,o[t],e)}finally{d!==null&&Dt(d),Gg(a),s.resolving=!1,rv()}}return r}function db(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(_o)?n[_o]:void 0;return typeof e=="number"?e>=0?e&lv:fb:e}function jg(n,e,t){let i=1<<n;return!!(t[e+(n>>cv)]&i)}function Wg(n,e){return!(n&z.Self)&&!(n&z.Host&&e)}var di=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return pv(this._tNode,this._lView,e,Za(i),t)}};function fb(){return new di(et(),Y())}function Di(n){return Mo(()=>{let e=n.prototype.constructor,t=e[Ea]||od(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Ea]||od(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function od(n){return Cm(n)?()=>{let e=od(Xe(n));return e&&e()}:ar(n)}function pb(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[L]&2048&&!Ra(s);){let a=hv(o,s,t,i|z.Self,Qt);if(a!==Qt)return a;let l=o.parent;if(!l){let d=s[Bm];if(d){let f=d.get(t,Qt,i);if(f!==Qt)return f}l=gv(s),s=s[Cr]}o=l}return r}function gv(n){let e=n[H],t=e.type;return t===2?e.declTNode:t===1?n[at]:null}function zg(n,e=null,t=null,i){let r=mv(n,e,t,i);return r.resolveInjectorInitializers(),r}function mv(n,e=null,t=null,i,r=new Set){let o=[t||ot,gw(n)];return i=i||(typeof n=="object"?void 0:st(n)),new Do(o,e||ef(),i||null,r)}var Ke=class n{static THROW_IF_NOT_FOUND=ui;static NULL=new Ma;static create(e,t){if(Array.isArray(e))return zg({name:""},t,e,"");{let i=e.name??"";return zg({name:i},e.parent,e.providers,i)}}static \u0275prov=E({token:n,providedIn:"any",factory:()=>j(Nm)});static __NG_ELEMENT_ID__=-1};var hb=new M("");hb.__NG_ELEMENT_ID__=n=>{let e=et();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(n&z.Optional)return null;throw new I(204,!1)};var vv=!1,wr=(()=>{class n{static __NG_ELEMENT_ID__=gb;static __NG_ENV_ID__=t=>t}return n})(),sd=class extends wr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Ym(this._lView,e),()=>kw(this._lView,e)}};function gb(){return new sd(Y())}var hr=class{},gf=new M("",{providedIn:"root",factory:()=>!1});var yv=new M(""),_v=new M(""),br=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new fe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})();var ad=class extends re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Lm()&&(this.destroyRef=y(wr,{optional:!0})??void 0,this.pendingTasks=y(br,{optional:!0})??void 0)}emit(e){let t=W(null);try{super.next(e)}finally{W(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof me&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},J=ad;function Fa(...n){}function Cv(n){let e,t;function i(){n=Fa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function qg(n){return queueMicrotask(()=>n()),()=>{n=Fa}}var mf="isAngularZone",La=mf+"_ID",mb=0,he=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new J(!1);onMicrotaskEmpty=new J(!1);onStable=new J(!1);onError=new J(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=vv}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,_b(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mf)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new I(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,vb,Fa,Fa);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},vb={};function vf(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yb(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Cv(()=>{n.callbackScheduled=!1,ld(n),n.isCheckStableRunning=!0,vf(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ld(n)}function _b(n){let e=()=>{yb(n)},t=mb++;n._inner=n._inner.fork({name:"angular",properties:{[mf]:!0,[La]:t,[La+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(Cb(l))return i.invokeTask(o,s,a,l);try{return Yg(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Kg(n)}},onInvoke:(i,r,o,s,a,l,d)=>{try{return Yg(n),i.invoke(o,s,a,l,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Db(l)&&e(),Kg(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ld(n),vf(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ld(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Yg(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Kg(n){n._nesting--,vf(n)}var cd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new J;onMicrotaskEmpty=new J;onStable=new J;onError=new J;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function Cb(n){return Dv(n,"__ignore_ng_zone__")}function Db(n){return Dv(n,"__scheduler_tick__")}function Dv(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var tn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},wb=new M("",{providedIn:"root",factory:()=>{let n=y(he),e=y(tn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Zg(n,e){return ym(n,e)}function bb(n){return ym(vm,n)}var wv=(Zg.required=bb,Zg);function Eb(){return Er(et(),Y())}function Er(n,e){return new Ge(on(n,e))}var Ge=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Eb}return n})();function Sb(n){return n instanceof Ge?n.nativeElement:n}function Tb(n){return typeof n=="function"&&n[Ct]!==void 0}function il(n,e){let t=lu(n,e?.equal),i=t[Ct];return t.set=r=>uo(i,r),t.update=r=>cu(i,r),t.asReadonly=Ib.bind(t),t}function Ib(){let n=this[Ct];if(n.readonlyFn===void 0){let e=()=>this();e[Ct]=n,n.readonlyFn=e}return n.readonlyFn}function bv(n){return Tb(n)&&typeof n.set=="function"}function Mb(){return this._results[Symbol.iterator]()}var ud=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new re}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=cw(e);(this._changesDetected=!lw(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Mb};function Ev(n){return(n.flags&128)===128}var Sv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Sv||{}),Tv=new Map,xb=0;function Nb(){return xb++}function Ab(n){Tv.set(n[Ja],n)}function dd(n){Tv.delete(n[Ja])}var Qg="__ngContext__";function Sr(n,e){Rn(e)?(n[Qg]=e[Ja],Ab(e)):n[Qg]=e}function Iv(n){return xv(n[wo])}function Mv(n){return xv(n[Bt])}function xv(n){for(;n!==null&&!_n(n);)n=n[Bt];return n}var fd;function Nv(n){fd=n}function Rb(){if(fd!==void 0)return fd;if(typeof document<"u")return document;throw new I(210,!1)}var yf=new M("",{providedIn:"root",factory:()=>Ob}),Ob="ng",_f=new M(""),Tr=new M("",{providedIn:"platform",factory:()=>"unknown"});var Cf=new M("",{providedIn:"root",factory:()=>Rb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Pb="h",kb="b";var Av=!1,Fb=new M("",{providedIn:"root",factory:()=>Av});var Df=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Df||{}),Ir=new M(""),Jg=new Set;function wi(n){Jg.has(n)||(Jg.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Rv=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=Lb}return n})();function Lb(){return new Rv(Y(),et())}var ir=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ir||{}),Ov=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vb=[ir.EarlyRead,ir.Write,ir.MixedReadWrite,ir.Read],Bb=(()=>{class n{ngZone=y(he);scheduler=y(hr);errorHandler=y(tn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Ir,{optional:!0})}execute(){let t=this.sequences.size>0;t&&se(16),this.executing=!0;for(let i of Vb)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&se(17)}register(t){let{view:i}=t;i!==void 0?((i[or]??=[]).push(t),Ao(i),i[L]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Df.AFTER_NEXT_RENDER,t):t()}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})(),pd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[or];e&&(this.view[or]=e.filter(t=>t!==this))}};function Oo(n,e){!e?.injector&&Vm(Oo);let t=e?.injector??y(Ke);return wi("NgAfterRender"),Pv(n,t,e,!1)}function Po(n,e){!e?.injector&&Vm(Po);let t=e?.injector??y(Ke);return wi("NgAfterNextRender"),Pv(n,t,e,!0)}function Ub(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Pv(n,e,t,i){let r=e.get(Ov);r.impl??=e.get(Bb);let o=e.get(Ir,null,{optional:!0}),s=t?.phase??ir.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(wr):null,l=e.get(Rv,null,{optional:!0}),d=new pd(r.impl,Ub(n,s),l?.view,i,a,o?.snapshot(null));return r.impl.register(d),d}var Hb=()=>null;function kv(n,e,t=!1){return Hb(n,e,t)}function Fv(n,e){let t=n.contentQueries;if(t!==null){let i=W(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];uf(o),a.contentQueries(2,e[s],s)}}}finally{W(i)}}}function hd(n,e,t){uf(0);let i=W(null);try{e(n,t)}finally{W(i)}}function wf(n,e,t){if(tf(e)){let i=W(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{W(i)}}}var nn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nn||{});var gd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${VD})`}};function Lv(n){return n instanceof gd?n.changingThisBreaksApplicationSecurity:n}var $b=/^>|^->|<!--|-->|--!>|<!-$/g,Gb=/(<|>)/g,jb="\u200B$1\u200B";function Wb(n){return n.replace($b,e=>e.replace(Gb,jb))}function Vv(n){return n instanceof Function?n():n}function zb(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var Bv="ng-template";function qb(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&zb(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(bf(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function bf(n){return n.type===4&&n.value!==Bv}function Yb(n,e,t){let i=n.type===4&&!t?Bv:n.value;return e===i}function Kb(n,e,t){let i=4,r=n.attrs,o=r!==null?Jb(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Lt(i)&&!Lt(l))return!1;if(s&&Lt(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Yb(n,l,t)||l===""&&e.length===1){if(Lt(i))return!1;s=!0}}else if(i&8){if(r===null||!qb(n,r,l,t)){if(Lt(i))return!1;s=!0}}else{let d=e[++a],f=Zb(l,r,bf(n),t);if(f===-1){if(Lt(i))return!1;s=!0;continue}if(d!==""){let p;if(f>o?p="":p=r[f+1].toLowerCase(),i&2&&d!==p){if(Lt(i))return!1;s=!0}}}}return Lt(i)||s}function Lt(n){return(n&1)===0}function Zb(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Xb(e,n)}function Uv(n,e,t=!1){for(let i=0;i<e.length;i++)if(Kb(n,e[i],t))return!0;return!1}function Qb(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Jb(n){for(let e=0;e<n.length;e++){let t=n[e];if(rb(t))return e}return n.length}function Xb(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function eE(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Xg(n,e){return n?":not("+e.trim()+")":e}function tE(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Lt(s)&&(e+=Xg(o,r),r=""),i=s,o=o||!Lt(i);t++}return r!==""&&(e+=Xg(o,r)),e}function nE(n){return n.map(tE).join(",")}function iE(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Lt(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Ht={};function rE(n,e){return n.createText(e)}function oE(n,e,t){n.setValue(e,t)}function sE(n,e){return n.createComment(Wb(e))}function Hv(n,e,t){return n.createElement(e,t)}function Va(n,e,t,i,r){n.insertBefore(e,t,i,r)}function $v(n,e,t){n.appendChild(e,t)}function em(n,e,t,i,r){i!==null?Va(n,e,t,i,r):$v(n,e,t)}function aE(n,e,t){n.removeChild(null,e,t)}function lE(n,e,t){n.setAttribute(e,"style",t)}function cE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Gv(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&ib(n,e,i),r!==null&&cE(n,e,r),o!==null&&lE(n,e,o)}function Ef(n,e,t,i,r,o,s,a,l,d,f){let p=Ye+i,g=p+r,h=uE(p,g),m=typeof d=="function"?d():d;return h[H]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:f}}function uE(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ht);return t}function dE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ef(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Sf(n,e,t,i,r,o,s,a,l,d,f){let p=e.blueprint.slice();return p[yn]=r,p[L]=i|4|128|8|64|1024,(d!==null||n&&n[L]&2048)&&(p[L]|=2048),zm(p),p[qe]=p[Cr]=n,p[Ne]=t,p[On]=s||n&&n[On],p[ye]=a||n&&n[ye],p[dr]=l||n&&n[dr]||null,p[at]=o,p[Ja]=Nb(),p[ur]=f,p[Bm]=d,p[ht]=e.type==2?n[ht]:p,p}function fE(n,e,t){let i=on(e,n),r=dE(t),o=n[On].rendererFactory,s=Tf(n,Sf(n,r,null,jv(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function jv(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Wv(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Tf(n,e){return n[wo]?n[Vg][Bt]=e:n[wo]=e,n[Vg]=e,e}function O(n=1){zv(Ce(),Y(),Fn()+n,!1)}function zv(n,e,t,i){if(!i)if((e[L]&3)===3){let o=n.preOrderCheckHooks;o!==null&&_a(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ca(e,o,0,t)}mi(t)}var rl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(rl||{});function md(n,e,t,i){let r=W(null);try{let[o,s,a]=n.inputs[t],l=null;(s&rl.SignalBased)!==0&&(l=e[o][Ct]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,o):Hm(e,l,o,i)}finally{W(r)}}function qv(n,e,t,i,r){let o=Fn(),s=i&2;try{mi(-1),s&&e.length>Ye&&zv(n,e,Ye,!1),se(s?2:0,r),t(i,r)}finally{mi(o),se(s?3:1,r)}}function ol(n,e,t){yE(n,e,t),(t.flags&64)===64&&_E(n,e,t)}function If(n,e,t=on){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function pE(n,e,t,i){let o=i.get(Fb,Av)||t===nn.ShadowDom,s=n.selectRootElement(e,o);return hE(s),s}function hE(n){gE(n)}var gE=()=>null;function mE(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function sl(n,e,t,i,r,o,s,a){if(!a&&xf(e,n,t,i,r)){Dr(e)&&vE(t,e.index);return}if(e.type&3){let l=on(e,t);i=mE(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)}else e.type&12}function vE(n,e){let t=en(e,n);t[L]&16||(t[L]|=64)}function yE(n,e,t){let i=t.directiveStart,r=t.directiveEnd;Dr(t)&&fE(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ka(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],l=bo(e,n,s,t);if(Sr(l,e),o!==null&&bE(e,s-i,l,a,t,o),Jt(a)){let d=en(t.index,e);d[Ne]=bo(e,n,s,t)}}}function _E(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=Yw();try{mi(o);for(let a=i;a<r;a++){let l=n.data[a],d=e[a];nd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&CE(l,d)}}finally{mi(-1),nd(s)}}function CE(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Mf(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];Uv(e,o.selectors,!1)&&(i??=[],Jt(o)?i.unshift(o):i.push(o))}return i}function DE(n,e,t,i,r,o){let s=on(n,e);wE(e[ye],s,o,n.value,t,i,r)}function wE(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Yd(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function bE(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];md(i,t,l,d)}}function EE(n,e){let t=n[dr],i=t?t.get(tn,null):null;i&&i.handleError(e)}function xf(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],f=s[l+1],p=e.data[d];md(p,t[d],f,r),a=!0}if(o)for(let l of o){let d=t[l],f=e.data[l];md(f,d,i,r),a=!0}return a}function SE(n,e){let t=en(e,n),i=t[H];TE(i,t);let r=t[yn];r!==null&&t[ur]===null&&(t[ur]=kv(r,t[dr])),se(18),Nf(i,t,t[Ne]),se(19,t[Ne])}function TE(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Nf(n,e,t){df(e);try{let i=n.viewQuery;i!==null&&hd(1,i,t);let r=n.template;r!==null&&qv(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[gn]?.finishViewCreation(n),n.staticContentQueries&&Fv(n,e),n.staticViewQueries&&hd(2,n.viewQuery,t);let o=n.components;o!==null&&IE(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[L]&=-5,ff()}}function IE(n,e){for(let t=0;t<e.length;t++)SE(n,e[t])}function ko(n,e,t,i){let r=W(null);try{let o=e.tView,a=n[L]&4096?4096:16,l=Sf(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=n[e.index];l[pi]=d;let f=n[gn];return f!==null&&(l[gn]=f.createEmbeddedView(o)),Nf(o,l,t),l}finally{W(r)}}function gr(n,e){return!e||e.firstChild===null||Ev(n)}var ME;function Af(n,e){return ME(n,e)}var mn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(mn||{});function Rf(n){return(n.flags&32)===32}function rr(n,e,t,i,r){if(i!=null){let o,s=!1;_n(i)?o=i:Rn(i)&&(s=!0,i=i[yn]);let a=Xt(i);n===0&&t!==null?r==null?$v(e,t,a):Va(e,t,a,r||null,!0):n===1&&t!==null?Va(e,t,a,r||null,!0):n===2?aE(e,a,s):n===3&&e.destroyNode(a),o!=null&&VE(e,n,o,t,r)}}function xE(n,e){Yv(n,e),e[yn]=null,e[at]=null}function NE(n,e,t,i,r,o){i[yn]=r,i[at]=e,cl(n,i,t,1,r,o)}function Yv(n,e){e[On].changeDetectionScheduler?.notify(9),cl(n,e,e[ye],2,null,null)}function AE(n){let e=n[wo];if(!e)return Lu(n[H],n);for(;e;){let t=null;if(Rn(e))t=e[wo];else{let i=e[ze];i&&(t=i)}if(!t){for(;e&&!e[Bt]&&e!==n;)Rn(e)&&Lu(e[H],e),e=e[qe];e===null&&(e=n),Rn(e)&&Lu(e[H],e),t=e&&e[Bt]}e=t}}function Of(n,e){let t=n[fr],i=t.indexOf(e);t.splice(i,1)}function al(n,e){if(No(e))return;let t=e[ye];t.destroyNode&&cl(n,e,t,3,null,null),AE(e)}function Lu(n,e){if(No(e))return;let t=W(null);try{e[L]&=-129,e[L]|=256,e[wt]&&ou(e[wt]),OE(n,e),RE(n,e),e[H].type===1&&e[ye].destroy();let i=e[pi];if(i!==null&&_n(e[qe])){i!==e[qe]&&Of(i,e);let r=e[gn];r!==null&&r.detachView(n)}dd(e)}finally{W(t)}}function RE(n,e){let t=n.cleanup,i=e[xa];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[xa]=null);let r=e[An];if(r!==null){e[An]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[Na];if(o!==null){e[Na]=null;for(let s of o)s.destroy()}}function OE(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof vi)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];se(4,a,l);try{l.call(a)}finally{se(5,a,l)}}else{se(4,r,o);try{o.call(r)}finally{se(5,r,o)}}}}}function Kv(n,e,t){return PE(n,e.parent,t)}function PE(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[yn];if(Dr(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===nn.None||r===nn.Emulated)return null}return on(i,t)}function Zv(n,e,t){return FE(n,e,t)}function kE(n,e,t){return n.type&40?on(n,t):null}var FE=kE,tm;function ll(n,e,t,i){let r=Kv(n,i,e),o=e[ye],s=i.parent||e[at],a=Zv(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)em(o,r,t[l],a,!1);else em(o,r,t,a,!1);tm!==void 0&&tm(o,i,e,t,r)}function yo(n,e){if(e!==null){let t=e.type;if(t&3)return on(e,n);if(t&4)return vd(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return yo(n,i);{let r=n[e.index];return _n(r)?vd(-1,r):Xt(r)}}else{if(t&128)return yo(n,e.next);if(t&32)return Af(e,n)()||Xt(n[e.index]);{let i=Qv(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=gi(n[ht]);return yo(r,i)}else return yo(n,e.next)}}}return null}function Qv(n,e){if(e!==null){let i=n[ht][at],r=e.projection;return i.projection[r]}return null}function vd(n,e){let t=ze+n+1;if(t<e.length){let i=e[t],r=i[H].firstChild;if(r!==null)return yo(i,r)}return e[hi]}function Pf(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&e===0&&(a&&Sr(Xt(a),i),t.flags|=2),!Rf(t))if(l&8)Pf(n,e,t.child,i,r,o,!1),rr(e,n,r,a,o);else if(l&32){let d=Af(t,i),f;for(;f=d();)rr(e,n,r,f,o);rr(e,n,r,a,o)}else l&16?Jv(n,e,i,t,r,o):rr(e,n,r,a,o);t=s?t.projectionNext:t.next}}function cl(n,e,t,i,r,o){Pf(t,i,n.firstChild,e,r,o,!1)}function LE(n,e,t){let i=e[ye],r=Kv(n,t,e),o=t.parent||e[at],s=Zv(o,t,e);Jv(i,0,e,t,r,s)}function Jv(n,e,t,i,r,o){let s=t[ht],l=s[at].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let f=l[d];rr(e,n,r,f,o)}else{let d=l,f=s[qe];Ev(i)&&(d.flags|=128),Pf(n,e,d,f,r,o,!0)}}function VE(n,e,t,i,r){let o=t[hi],s=Xt(t);o!==s&&rr(e,n,i,o,r);for(let a=ze;a<t.length;a++){let l=t[a];cl(l[H],l,n,e,i,o)}}function BE(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:mn.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=mn.Important),n.setStyle(t,i,r,o))}}function Ba(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Xt(o)),_n(o)&&UE(o,i);let s=t.type;if(s&8)Ba(n,e,t.child,i);else if(s&32){let a=Af(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=Qv(e,t);if(Array.isArray(a))i.push(...a);else{let l=gi(e[ht]);Ba(l[H],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function UE(n,e){for(let t=ze;t<n.length;t++){let i=n[t],r=i[H].firstChild;r!==null&&Ba(i[H],i,r,e)}n[hi]!==n[yn]&&e.push(n[hi])}function Xv(n){if(n[or]!==null){for(let e of n[or])e.impl.addSequence(e);n[or].length=0}}var ey=[];function HE(n){return n[wt]??$E(n)}function $E(n){let e=ey.pop()??Object.create(jE);return e.lView=n,e}function GE(n){n.lView[wt]!==n&&(n.lView=null,ey.push(n))}var jE=B(D({},lo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ao(n.lView)},consumerOnSignalRead(){this.lView[wt]=this}});function WE(n){let e=n[wt]??Object.create(zE);return e.lView=n,e}var zE=B(D({},lo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=gi(n.lView);for(;e&&!ty(e[H]);)e=gi(e);e&&qm(e)},consumerOnSignalRead(){this.lView[wt]=this}});function ty(n){return n.type!==2}function ny(n){if(n[Na]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[Na])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[L]&8192)}}var qE=100;function iy(n,e=!0,t=0){let r=n[On].rendererFactory,o=!1;o||r.begin?.();try{YE(n,t)}catch(s){throw e&&EE(n,s),s}finally{o||r.end?.()}}function YE(n,e){let t=Qm();try{Ug(!0),yd(n,e);let i=0;for(;el(n);){if(i===qE)throw new I(103,!1);i++,yd(n,1)}}finally{Ug(t)}}function KE(n,e,t,i){if(No(e))return;let r=e[L],o=!1,s=!1;df(e);let a=!0,l=null,d=null;o||(ty(n)?(d=HE(e),l=Fs(d)):Xc()===null?(a=!1,d=WE(e),l=Fs(d)):e[wt]&&(ou(e[wt]),e[wt]=null));try{zm(e),Ww(n.bindingStartIndex),t!==null&&qv(n,e,t,2,i);let f=(r&3)===3;if(!o)if(f){let h=n.preOrderCheckHooks;h!==null&&_a(e,h,null)}else{let h=n.preOrderHooks;h!==null&&Ca(e,h,0,null),ku(e,0)}if(s||ZE(e),ny(e),ry(e,0),n.contentQueries!==null&&Fv(n,e),!o)if(f){let h=n.contentCheckHooks;h!==null&&_a(e,h)}else{let h=n.contentHooks;h!==null&&Ca(e,h,1),ku(e,1)}JE(n,e);let p=n.components;p!==null&&sy(e,p,0);let g=n.viewQuery;if(g!==null&&hd(2,g,i),!o)if(f){let h=n.viewCheckHooks;h!==null&&_a(e,h)}else{let h=n.viewHooks;h!==null&&Ca(e,h,2),ku(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Pu]){for(let h of e[Pu])h();e[Pu]=null}o||(Xv(e),e[L]&=-73)}catch(f){throw o||Ao(e),f}finally{d!==null&&(iu(d,l),a&&GE(d)),ff()}}function ry(n,e){for(let t=Iv(n);t!==null;t=Mv(t))for(let i=ze;i<t.length;i++){let r=t[i];oy(r,e)}}function ZE(n){for(let e=Iv(n);e!==null;e=Mv(e)){if(!(e[L]&2))continue;let t=e[fr];for(let i=0;i<t.length;i++){let r=t[i];qm(r)}}}function QE(n,e,t){se(18);let i=en(e,n);oy(i,t),se(19,i[Ne])}function oy(n,e){rf(n)&&yd(n,e)}function yd(n,e){let i=n[H],r=n[L],o=n[wt],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&ru(o)),s||=!1,o&&(o.dirty=!1),n[L]&=-9217,s)KE(i,n,i.template,n[Ne]);else if(r&8192){ny(n),ry(n,1);let a=i.components;a!==null&&sy(n,a,1),Xv(n)}}function sy(n,e,t){for(let i=0;i<e.length;i++)QE(n,e[i],t)}function JE(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)mi(~r);else{let o=r,s=t[++i],a=t[++i];qw(s,o);let l=e[o];se(24,l),a(2,l),se(25,l)}}}finally{mi(-1)}}function kf(n,e){let t=Qm()?64:1088;for(n[On].changeDetectionScheduler?.notify(e);n;){n[L]|=t;let i=gi(n);if(Ra(n)&&!i)return n;n=i}return null}function ay(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function ly(n,e){let t=ze+e;if(t<n.length)return n[t]}function Fo(n,e,t,i=!0){let r=e[H];if(XE(r,e,n,t),i){let s=vd(t,n),a=e[ye],l=a.parentNode(n[hi]);l!==null&&NE(r,n[at],a,e,l,s)}let o=e[ur];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cy(n,e){let t=Eo(n,e);return t!==void 0&&al(t[H],t),t}function Eo(n,e){if(n.length<=ze)return;let t=ze+e,i=n[t];if(i){let r=i[pi];r!==null&&r!==n&&Of(r,i),e>0&&(n[t-1][Bt]=i[Bt]);let o=Ia(n,ze+e);xE(i[H],i);let s=o[gn];s!==null&&s.detachView(o[H]),i[qe]=null,i[Bt]=null,i[L]&=-129}return i}function XE(n,e,t,i){let r=ze+i,o=t.length;i>0&&(t[r-1][Bt]=e),i<o-ze?(e[Bt]=t[r],xm(t,ze+i,e)):(t.push(e),e[Bt]=null),e[qe]=t;let s=e[pi];s!==null&&t!==s&&uy(s,e);let a=e[gn];a!==null&&a.insertView(n),ed(e),e[L]|=128}function uy(n,e){let t=n[fr],i=e[qe];if(Rn(i))n[L]|=2;else{let r=i[qe][ht];e[ht]!==r&&(n[L]|=2)}t===null?n[fr]=[e]:t.push(e)}var So=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[H];return Ba(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Ne]}set context(e){this._lView[Ne]=e}get destroyed(){return No(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qe];if(_n(e)){let t=e[Aa],i=t?t.indexOf(this):-1;i>-1&&(Eo(e,i),Ia(t,i))}this._attachedToViewContainer=!1}al(this._lView[H],this._lView)}onDestroy(e){Ym(this._lView,e)}markForCheck(){kf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[L]&=-129}reattach(){ed(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,iy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ra(this._lView),t=this._lView[pi];t!==null&&!e&&Of(t,this._lView),Yv(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let t=Ra(this._lView),i=this._lView[pi];i!==null&&!t&&uy(i,this._lView),ed(this._lView)}};var rn=(()=>{class n{static __NG_ELEMENT_ID__=n1}return n})(),e1=rn,t1=class extends e1{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=ko(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new So(r)}};function n1(){return ul(et(),Y())}function ul(n,e){return n.type&4?new t1(e,n,Er(n,e)):null}function Lo(n,e,t,i,r){let o=n.data[e];if(o===null)o=i1(n,e,t,i,r),zw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=$w();o.injectorIndex=s===null?-1:s.injectorIndex}return _i(o,!0),o}function i1(n,e,t,i,r){let o=Zm(),s=lf(),a=s?o:o&&o.parent,l=n.data[e]=o1(n,a,t,e,i,r);return r1(n,l,o,s),l}function r1(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function o1(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Km()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var GH=new RegExp(`^(\\d+)*(${kb}|${Pb})*(.*)`);var s1=()=>null;function mr(n,e){return s1(n,e)}var a1=class{},dy=class{},_d=class{resolveComponentFactory(e){throw Error(`No component factory found for ${st(e)}.`)}},dl=class{static NULL=new _d},vr=class{},Vo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>l1()}return n})();function l1(){let n=Y(),e=et(),t=en(e.index,n);return(Rn(t)?t:n)[ye]}var c1=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:()=>null})}return n})();var Vu={},Cd=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Za(i);let r=this.injector.get(e,Vu,i);return r!==Vu||t===Vu?r:this.parentInjector.get(e,t,i)}};function Dd(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=zu(r,a);else if(o==2){let l=a,d=e[++s];i=zu(i,l+": "+d+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function X(n,e=z.Default){let t=Y();if(t===null)return j(n,e);let i=et();return pv(i,t,Xe(n),e)}function Ff(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a,l=null,d=null,f=d1(s);f===null?a=s:[a,l,d]=f,h1(n,e,t,a,o,l,d)}o!==null&&i!==null&&u1(t,i,o)}function u1(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new I(-301,!1);i.push(e[r],o)}}function d1(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Jt(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,f1(s,i,o,r)),s===e&&(i??=[],i.push(s));return i!==null?(i.push(...e===null?n:n.slice(1)),[i,r,o]):null}function f1(n,e,t,i){let r=e.length;n.findHostDirectiveDefs(n,e,i),t.set(n,[r,e.length-1])}function p1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function h1(n,e,t,i,r,o,s){let a=i.length,l=!1;for(let g=0;g<a;g++){let h=i[g];!l&&Jt(h)&&(l=!0,p1(n,t,g)),rd(ka(t,e),n,h.type)}C1(t,n.data.length,a);for(let g=0;g<a;g++){let h=i[g];h.providersResolver&&h.providersResolver(h)}let d=!1,f=!1,p=Wv(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let h=i[g];if(t.mergedAttrs=pr(t.mergedAttrs,h.hostAttrs),m1(n,t,e,p,h),_1(p,h,r),s!==null&&s.has(h)){let[v,_]=s.get(h);t.directiveToIndex.set(h.type,[p,v+t.directiveStart,_+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,p);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let m=h.type.prototype;!d&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!f&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}g1(n,t,o)}function g1(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))nm(0,e,r,i),nm(1,e,r,i),rm(e,i,!1);else{let o=t.get(r);im(0,e,o,i),im(1,e,o,i),rm(e,i,!0)}}}function nm(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),fy(e,o)}}function im(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),fy(e,s)}}function fy(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function rm(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||bf(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let d=r[l];for(let f of d)if(f===e){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let d=o[l];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function m1(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=ar(r.type,!0)),s=new vi(o,Jt(r),X);n.blueprint[i]=s,t[i]=s,v1(n,e,i,Wv(n,t,r.hostVars,Ht),r)}function v1(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;y1(s)!=a&&s.push(a),s.push(t,i,o)}}function y1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _1(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Jt(e)&&(t[""]=n)}}function C1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function py(n,e,t,i,r,o,s,a){let l=e.consts,d=Pn(l,s),f=Lo(e,n,2,i,d);return o&&Ff(e,t,f,Pn(l,a),r),f.mergedAttrs=pr(f.mergedAttrs,f.attrs),f.attrs!==null&&Dd(f,f.attrs,!1),f.mergedAttrs!==null&&Dd(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function hy(n,e){pf(n,e),tf(e)&&n.queries.elementEnd(e)}var Ua=class extends dl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=lr(e);return new To(t,this.ngModule)}};function D1(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&rl.SignalBased)!==0};return r&&(o.transform=r),o})}function w1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function b1(n,e,t){let i=e instanceof pt?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Cd(t,i):t}function E1(n){let e=n.get(vr,null);if(e===null)throw new I(407,!1);let t=n.get(c1,null),i=n.get(hr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i}}function S1(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Hv(e,t,t==="svg"?xw:t==="math"?Nw:null)}var To=class extends dy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=D1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=w1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=nE(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r){se(22);let o=W(null);try{let s=this.componentDef,a=i?["ng-version","19.2.8"]:iE(this.componentDef.selectors[0]),l=Ef(0,null,null,1,0,null,null,null,null,[a],null),d=b1(s,r||this.ngModule,e),f=E1(d),p=f.rendererFactory.createRenderer(null,s),g=i?pE(p,i,s.encapsulation,d):S1(s,p),h=Sf(null,l,null,512|jv(s),null,null,f,p,d,null,kv(g,d,!0));h[Ye]=g,df(h);let m=null;try{let v=py(Ye,l,h,"#host",()=>[this.componentDef],!0,0);g&&(Gv(p,g,v),Sr(g,h)),ol(l,h,v),wf(l,v,h),hy(l,v),t!==void 0&&T1(v,this.ngContentSelectors,t),m=en(v.index,h),h[Ne]=m[Ne],Nf(l,h,null)}catch(v){throw m!==null&&dd(m),dd(h),v}finally{se(23),ff()}return new wd(this.componentType,h)}finally{W(o)}}},wd=class extends a1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=nf(t[H],Ye),this.location=Er(this._tNode,t),this.instance=en(this._tNode.index,t)[Ne],this.hostView=this.changeDetectorRef=new So(t,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=xf(i,r[H],r,e,t);this.previousInputValues.set(e,t);let s=en(i.index,r);kf(s,1)}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function T1(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var $t=(()=>{class n{static __NG_ELEMENT_ID__=I1}return n})();function I1(){let n=et();return my(n,Y())}var M1=$t,gy=class extends M1{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Er(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){let e=hf(this._hostTNode,this._hostLView);if(av(e)){let t=Pa(e,this._hostLView),i=Oa(e),r=t[H].data[i+8];return new di(r,t)}else return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=om(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=mr(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,gr(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!Sw(e),a;if(s)a=t;else{let m=t||{};a=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?e:new To(lr(e)),d=i||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?d:this.parentInjector).get(pt,null);v&&(o=v)}let f=lr(l.componentType??{}),p=mr(this._lContainer,f?.id??null),g=p?.firstChild??null,h=l.create(d,r,g,o);return this.insertImpl(h.hostView,a,gr(this._hostTNode,p)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(Ow(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[qe],d=new gy(l,l[at],l[qe]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Fo(s,r,o,i),e.attachToViewContainerRef(),xm(Bu(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=om(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Eo(this._lContainer,t);i&&(Ia(Bu(this._lContainer),t),al(i[H],i))}detach(e){let t=this._adjustIndex(e,-1),i=Eo(this._lContainer,t);return i&&Ia(Bu(this._lContainer),t)!=null?new So(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function om(n){return n[Aa]}function Bu(n){return n[Aa]||(n[Aa]=[])}function my(n,e){let t,i=e[n.index];return _n(i)?t=i:(t=ay(i,e,null,n),e[n.index]=t,Tf(e,t)),N1(t,e,n,i),new gy(t,n,e)}function x1(n,e){let t=n[ye],i=t.createComment(""),r=on(e,n),o=t.parentNode(r);return Va(t,o,i,t.nextSibling(r),!1),i}var N1=O1,A1=()=>!1;function R1(n,e,t){return A1(n,e,t)}function O1(n,e,t,i){if(n[hi])return;let r;t.type&8?r=Xt(i):r=x1(e,t),n[hi]=r}var bd=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ed=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Lf(e,t).matches!==null&&this.queries[t].setDirty()}},Ha=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=H1(e):this.predicate=e}},Sd=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Td=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,P1(t,o)),this.matchTNodeWithReadOption(e,t,Da(t,e,o,!1,!1))}else i===rn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Da(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ge||r===$t||r===rn&&t.type&4)this.addMatch(t.index,-2);else{let o=Da(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function P1(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function k1(n,e){return n.type&11?Er(n,e):n.type&4?ul(n,e):null}function F1(n,e,t,i){return t===-1?k1(e,n):t===-2?L1(n,e,i):bo(n,n[H],t,e)}function L1(n,e,t){if(t===Ge)return Er(e,n);if(t===rn)return ul(e,n);if(t===$t)return my(e,n)}function vy(n,e,t,i){let r=e[gn].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let f=o[d];a.push(F1(e,f,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function Id(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=vy(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let d=o[a+1],f=e[-l];for(let p=ze;p<f.length;p++){let g=f[p];g[pi]===g[qe]&&Id(g[H],g,d,i)}if(f[fr]!==null){let p=f[fr];for(let g=0;g<p.length;g++){let h=p[g];Id(h[H],h,d,i)}}}}}return i}function V1(n,e){return n[gn].queries[e].queryList}function yy(n,e,t){let i=new ud((t&4)===4);return Fw(n,e,i,i.destroy),(e[gn]??=new Ed).queries.push(new bd(i))-1}function B1(n,e,t){let i=Ce();return i.firstCreatePass&&(_y(i,new Ha(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),yy(i,Y(),e)}function U1(n,e,t,i){let r=Ce();if(r.firstCreatePass){let o=et();_y(r,new Ha(e,t,i),o.index),$1(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return yy(r,Y(),t)}function H1(n){return n.split(",").map(e=>e.trim())}function _y(n,e,t){n.queries===null&&(n.queries=new Sd),n.queries.track(new Td(e,t))}function $1(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Lf(n,e){return n.queries.getByIndex(e)}function G1(n,e){let t=n[H],i=Lf(t,e);return i.crossesNgTemplate?Id(t,n,e,[]):vy(t,n,i,e)}var yr=class{},Vf=class{};var Md=class extends yr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ua(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=Rm(e);this._bootstrapComponents=Vv(o.bootstrap),this._r3Injector=mv(e,t,[{provide:yr,useValue:this},{provide:dl,useValue:this.componentFactoryResolver},...i],st(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xd=class extends Vf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Md(this.moduleType,e,[])}};var $a=class extends yr{injector;componentFactoryResolver=new Ua(this);instance=null;constructor(e){super();let t=new Do([...e.providers,{provide:yr,useValue:this},{provide:dl,useValue:this.componentFactoryResolver}],e.parent||ef(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fl(n,e,t=null){return new $a({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var j1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Om(!1,t.type),r=i.length>0?fl([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=E({token:n,providedIn:"environment",factory:()=>new n(j(pt))})}return n})();function ke(n){return Mo(()=>{let e=Cy(n),t=B(D({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Sv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(j1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nn.Emulated,styles:n.styles||ot,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&wi("NgStandalone"),Dy(t);let i=n.dependencies;return t.directiveDefs=sm(i,!1),t.pipeDefs=sm(i,!0),t.id=K1(t),t})}function W1(n){return lr(n)||pw(n)}function z1(n){return n!==null}function St(n){return Mo(()=>({type:n.type,bootstrap:n.bootstrap||ot,declarations:n.declarations||ot,imports:n.imports||ot,exports:n.exports||ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function q1(n,e){if(n==null)return fi;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=rl.None,l=null),t[o]=[i,a,l],e[o]=s}return t}function Y1(n){if(n==null)return fi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function De(n){return Mo(()=>{let e=Cy(n);return Dy(e),e})}function Cy(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||fi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:q1(n.inputs,e),outputs:Y1(n.outputs),debugInfo:null}}function Dy(n){n.features?.forEach(e=>e(n))}function sm(n,e){if(!n)return null;let t=e?hw:W1;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(z1)}function K1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Z1(n){return Object.getPrototypeOf(n.prototype).constructor}function Ln(n){let e=Z1(n.type),t=!0,i=[n];for(;e;){let r;if(Jt(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Uu(n.inputs),s.declaredInputs=Uu(n.declaredInputs),s.outputs=Uu(n.outputs);let a=r.hostBindings;a&&tS(n,a);let l=r.viewQuery,d=r.contentQueries;if(l&&X1(n,l),d&&eS(n,d),Q1(n,r),GD(n.outputs,r.outputs),Jt(r)&&r.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ln&&(t=!1)}}e=Object.getPrototypeOf(e)}J1(i)}function Q1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function J1(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=pr(r.hostAttrs,t=pr(t,r.hostAttrs))}}function Uu(n){return n===fi?{}:n===ot?[]:n}function X1(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function eS(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function tS(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function wy(n){return iS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function nS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function iS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function rS(n,e,t){return n[e]=t}function bt(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function oS(n,e,t,i){let r=bt(n,e,t);return bt(n,e+1,i)||r}function sS(n,e,t,i,r){let o=oS(n,e,t,i);return bt(n,e+2,r)||o}function aS(n,e,t,i,r,o,s,a,l){let d=e.consts,f=Lo(e,n,4,s||null,a||null);af()&&Ff(e,t,f,Pn(d,l),Mf),f.mergedAttrs=pr(f.mergedAttrs,f.attrs),pf(e,f);let p=f.tView=Ef(2,f,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Ga(n,e,t,i,r,o,s,a,l,d){let f=t+Ye,p=e.firstCreatePass?aS(f,e,n,i,r,o,s,a,l):e.data[f];_i(p,!1);let g=lS(e,n,p,t);tl()&&ll(e,n,g,p),Sr(g,n);let h=ay(g,n,g,p);return n[f]=h,Tf(n,h),R1(h,p,n),Xa(p)&&ol(e,n,p),l!=null&&If(n,p,d),p}function Te(n,e,t,i,r,o,s,a){let l=Y(),d=Ce(),f=Pn(d.consts,o);return Ga(l,d,n,e,t,i,r,f,s,a),Te}var lS=cS;function cS(n,e,t,i){return nl(!0),e[ye].createComment("")}var by=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Ey=new M("");var uS=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:()=>new Nd})}return n})(),Nd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function bi(n){return!!n&&typeof n.then=="function"}function Sy(n){return!!n&&typeof n.subscribe=="function"}var dS=new M("");var Ty=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=y(dS,{optional:!0})??[];injector=y(Ke);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=Ut(this.injector,r);if(bi(o))t.push(o);else if(Sy(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bf=new M("");function fS(){au(()=>{throw new I(600,!1)})}function pS(n){return n.isBoundToModule}var hS=10;var vn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(wb);afterRenderManager=y(Ov);zonelessEnabled=y(gf);rootEffectScheduler=y(uS);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new re;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(br).hasPendingTasks.pipe(F(t=>!t));constructor(){y(Ir,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=y(pt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Ke.NULL){se(10);let o=t instanceof dy;if(!this._injector.get(Ty).done){let h="";throw new I(405,h)}let a;o?a=t:a=this._injector.get(dl).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=pS(a)?void 0:this._injector.get(yr),d=i||a.selector,f=a.create(r,[],d,l),p=f.location.nativeElement,g=f.injector.get(Ey,null);return g?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),wa(this.components,f),g?.unregisterApplication(p)}),this._loadComponent(f),se(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){se(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new I(101,!1);let t=W(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,W(t),this.afterTick.next(),se(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<hS;)se(14),this.synchronizeOnce(),se(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)gS(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>el(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;wa(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Bf,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function gS(n,e,t,i){if(!t&&!el(n))return;iy(n,e,t&&!i?0:1)}function Vn(n,e,t,i){let r=Y(),o=Ci();if(bt(r,o,e)){let s=Ce(),a=Ro();DE(a,r,n,e,t,i)}return Vn}function Iy(n,e,t,i){return bt(n,Ci(),t)?e+Yd(t)+i:Ht}function va(n,e){return n<<17|e<<2}function yi(n){return n>>17&32767}function mS(n){return(n&2)==2}function vS(n,e){return n&131071|e<<17}function Ad(n){return n|2}function _r(n){return(n&131068)>>2}function Hu(n,e){return n&-131069|e<<2}function yS(n){return(n&1)===1}function Rd(n){return n|1}function _S(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=yi(s),l=_r(s);n[i]=t;let d=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||xo(p,f)>0)&&(d=!0)}else f=t;if(r)if(l!==0){let g=yi(n[a+1]);n[i+1]=va(g,a),g!==0&&(n[g+1]=Hu(n[g+1],i)),n[a+1]=vS(n[a+1],i)}else n[i+1]=va(a,0),a!==0&&(n[a+1]=Hu(n[a+1],i)),a=i;else n[i+1]=va(l,0),a===0?a=i:n[l+1]=Hu(n[l+1],i),l=i;d&&(n[i+1]=Ad(n[i+1])),am(n,f,i,!0),am(n,f,i,!1),CS(e,f,n,i,o),s=va(a,l),o?e.classBindings=s:e.styleBindings=s}function CS(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&xo(o,e)>=0&&(t[i+1]=Rd(t[i+1]))}function am(n,e,t,i){let r=n[t+1],o=e===null,s=i?yi(r):_r(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],d=n[s+1];DS(l,e)&&(a=!0,n[s+1]=i?Rd(d):Ad(d)),s=i?yi(d):_r(d)}a&&(n[t+1]=i?Ad(r):Rd(r))}function DS(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xo(n,e)>=0:!1}var Vt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wS(n){return n.substring(Vt.key,Vt.keyEnd)}function bS(n){return ES(n),My(n,xy(n,0,Vt.textEnd))}function My(n,e){let t=Vt.textEnd;return t===e?-1:(e=Vt.keyEnd=SS(n,Vt.key=e,t),xy(n,e,t))}function ES(n){Vt.key=0,Vt.keyEnd=0,Vt.value=0,Vt.valueEnd=0,Vt.textEnd=n.length}function xy(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function SS(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Z(n,e,t){let i=Y(),r=Ci();if(bt(i,r,e)){let o=Ce(),s=Ro();sl(o,s,i,n,e,i[ye],t,!1)}return Z}function Od(n,e,t,i,r){xf(e,n,t,r?"class":"style",i)}function tt(n,e){return IS(n,e,null,!0),tt}function Mr(n){MS(PS,TS,n,!0)}function TS(n,e){for(let t=bS(e);t>=0;t=My(e,t))Qd(n,wS(e),!0)}function IS(n,e,t,i){let r=Y(),o=Ce(),s=Jm(2);if(o.firstUpdatePass&&Ay(o,n,s,i),e!==Ht&&bt(r,s,e)){let a=o.data[Fn()];Ry(o,a,r,r[ye],n,r[s+1]=FS(e,t),i,s)}}function MS(n,e,t,i){let r=Ce(),o=Jm(2);r.firstUpdatePass&&Ay(r,null,o,i);let s=Y();if(t!==Ht&&bt(s,o,t)){let a=r.data[Fn()];if(Oy(a,i)&&!Ny(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=zu(l,t||"")),Od(r,a,s,t,i)}else kS(r,a,s,s[ye],s[o+1],s[o+1]=OS(n,e,t),i,o)}}function Ny(n,e){return e>=n.expandoStartIndex}function Ay(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Fn()],s=Ny(n,t);Oy(o,i)&&e===null&&!s&&(e=!1),e=xS(r,o,e,i),_S(r,o,e,t,s,i)}}function xS(n,e,t,i){let r=Kw(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=$u(null,n,e,t,i),t=Io(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=$u(r,n,e,t,i),o===null){let l=NS(n,e,i);l!==void 0&&Array.isArray(l)&&(l=$u(null,n,e,l[1],i),l=Io(l,e.attrs,i),AS(n,e,i,l))}else o=RS(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function NS(n,e,t){let i=t?e.classBindings:e.styleBindings;if(_r(i)!==0)return n[yi(i)]}function AS(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[yi(r)]=i}function RS(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Io(i,s,t)}return Io(i,e.attrs,t)}function $u(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Io(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Io(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Qd(n,s,t?!0:e[++o]))}return n===void 0?null:n}function OS(n,e,t){if(t==null||t==="")return ot;let i=[],r=Lv(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function PS(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Qd(n,i,t)}function kS(n,e,t,i,r,o,s,a){r===Ht&&(r=ot);let l=0,d=0,f=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let g=l<r.length?r[l+1]:void 0,h=d<o.length?o[d+1]:void 0,m=null,v;f===p?(l+=2,d+=2,g!==h&&(m=p,v=h)):p===null||f!==null&&f<p?(l+=2,m=f):(d+=2,m=p,v=h),m!==null&&Ry(n,e,t,i,m,v,s,a),f=l<r.length?r[l]:null,p=d<o.length?o[d]:null}}function Ry(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,d=l[a+1],f=yS(d)?lm(l,e,t,r,_r(d),s):void 0;if(!ja(f)){ja(o)||mS(d)&&(o=lm(l,null,t,r,a,s));let p=Wm(Fn(),t);BE(i,s,p,r,o)}}function lm(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],d=Array.isArray(l),f=d?l[1]:l,p=f===null,g=t[r+1];g===Ht&&(g=p?ot:void 0);let h=p?Ru(g,i):f===i?g:void 0;if(d&&!ja(h)&&(h=Ru(l,i)),ja(h)&&(a=h,s))return a;let m=n[r+1];r=s?yi(m):_r(m)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Ru(l,i))}return a}function ja(n){return n!==void 0}function FS(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=st(Lv(n)))),n}function Oy(n,e){return(n.flags&(e?8:16))!==0}var Pd=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function Gu(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function LS(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let d=n.at(o),f=e[o],p=Gu(o,d,o,f,t);if(p!==0){p<0&&n.updateValue(o,f),o++;continue}let g=n.at(s),h=e[l],m=Gu(s,g,l,h,t);if(m!==0){m<0&&n.updateValue(s,h),s--,l--;continue}let v=t(o,d),_=t(s,g),C=t(o,f);if(Object.is(C,_)){let b=t(l,h);Object.is(b,v)?(n.swap(o,s),n.updateValue(s,h),l--,s--):n.move(s,o),n.updateValue(o,f),o++;continue}if(i??=new Wa,r??=um(n,o,s,t),kd(n,i,o,C))n.updateValue(o,f),o++,s++;else if(r.has(C))i.set(v,n.detach(o)),s--;else{let b=n.create(o,e[o]);n.attach(o,b),o++,s++}}for(;o<=l;)cm(n,i,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),d=l.next();for(;!d.done&&o<=s;){let f=n.at(o),p=d.value,g=Gu(o,f,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,d=l.next();else{i??=new Wa,r??=um(n,o,s,t);let h=t(o,p);if(kd(n,i,o,h))n.updateValue(o,p),o++,s++,d=l.next();else if(!r.has(h))n.attach(o,n.create(o,p)),o++,s++,d=l.next();else{let m=t(o,f);i.set(m,n.detach(o)),s--}}}for(;!d.done;)cm(n,i,t,n.length,d.value),d=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function kd(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function cm(n,e,t,i,r){if(kd(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function um(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Wa=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function Uf(n,e){wi("NgControlFlow");let t=Y(),i=Ci(),r=t[i]!==Ht?t[i]:-1,o=r!==-1?za(t,Ye+r):void 0,s=0;if(bt(t,i,n)){let a=W(null);try{if(o!==void 0&&cy(o,s),n!==-1){let l=Ye+n,d=za(t,l),f=Bd(t[H],l),p=mr(d,f.tView.ssrId),g=ko(t,f,e,{dehydratedView:p});Fo(d,g,s,gr(f,p))}}finally{W(a)}}else if(o!==void 0){let a=ly(o,s);a!==void 0&&(a[Ne]=e)}}var Fd=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-ze}};function Hf(n){return n}var Ld=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function $f(n,e,t,i,r,o,s,a,l,d,f,p,g){wi("NgControlFlow");let h=Y(),m=Ce(),v=l!==void 0,_=Y(),C=a?s.bind(_[ht][Ne]):s,b=new Ld(v,C);_[Ye+n]=b,Ga(h,m,n+1,e,t,i,r,Pn(m.consts,o)),v&&Ga(h,m,n+2,l,d,f,p,Pn(m.consts,g))}var Vd=class extends Pd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-ze}at(e){return this.getLView(e)[Ne].$implicit}attach(e,t){let i=t[ur];this.needsIndexUpdate||=e!==this.length,Fo(this.lContainer,t,e,gr(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,VS(this.lContainer,e)}create(e,t){let i=mr(this.lContainer,this.templateTNode.tView.ssrId),r=ko(this.hostLView,this.templateTNode,new Fd(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){al(e[H],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ne].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ne].$index=e}getLView(e){return BS(this.lContainer,e)}};function Gf(n){let e=W(null),t=Fn();try{let i=Y(),r=i[H],o=i[t],s=t+1,a=za(i,s);if(o.liveCollection===void 0){let d=Bd(r,s);o.liveCollection=new Vd(a,i,d)}else o.liveCollection.reset();let l=o.liveCollection;if(LS(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let d=Ci(),f=l.length===0;if(bt(i,d,f)){let p=t+2,g=za(i,p);if(f){let h=Bd(r,p),m=mr(g,h.tView.ssrId),v=ko(i,h,void 0,{dehydratedView:m});Fo(g,v,0,gr(h,m))}else cy(g,0)}}}finally{W(e)}}function za(n,e){return n[e]}function VS(n,e){return Eo(n,e)}function BS(n,e){return ly(n,e)}function Bd(n,e){return nf(n,e)}function A(n,e,t,i){let r=Y(),o=Ce(),s=Ye+n,a=r[ye],l=o.firstCreatePass?py(s,o,r,e,Mf,af(),t,i):o.data[s],d=US(o,r,l,a,e,n);r[s]=d;let f=Xa(l);return _i(l,!0),Gv(a,d,l),!Rf(l)&&tl()&&ll(o,r,d,l),(Lw()===0||f)&&Sr(d,r),Vw(),f&&(ol(o,r,l),wf(o,l,r)),i!==null&&If(r,l),A}function x(){let n=et();lf()?cf():(n=n.parent,_i(n,!1));let e=n;Uw(e)&&Hw(),Bw();let t=Ce();return t.firstCreatePass&&hy(t,e),e.classesWithoutHost!=null&&tb(e)&&Od(t,e,Y(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nb(e)&&Od(t,e,Y(),e.stylesWithoutHost,!1),x}function we(n,e,t,i){return A(n,e,t,i),x(),we}var US=(n,e,t,i,r,o)=>(nl(!0),Hv(i,r,Jw()));function HS(n,e,t,i,r){let o=e.consts,s=Pn(o,i),a=Lo(e,n,8,"ng-container",s);s!==null&&Dd(a,s,!0);let l=Pn(o,r);return af()&&Ff(e,t,a,l,Mf),a.mergedAttrs=pr(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function jf(n,e,t){let i=Y(),r=Ce(),o=n+Ye,s=r.firstCreatePass?HS(o,r,i,e,t):r.data[o];_i(s,!0);let a=$S(r,i,s,n);return i[o]=a,tl()&&ll(r,i,a,s),Sr(a,i),Xa(s)&&(ol(r,i,s),wf(r,s,i)),t!=null&&If(i,s),jf}function Wf(){let n=et(),e=Ce();return lf()?cf():(n=n.parent,_i(n,!1)),e.firstCreatePass&&(pf(e,n),tf(n)&&e.queries.elementEnd(n)),Wf}var $S=(n,e,t,i)=>(nl(!0),sE(e[ye],""));function mt(){return Y()}function Ei(n,e,t){let i=Y(),r=Ci();if(bt(i,r,e)){let o=Ce(),s=Ro();sl(o,s,i,n,e,i[ye],t,!0)}return Ei}var qa="en-US";var GS=qa;function jS(n){typeof n=="string"&&(GS=n.toLowerCase().replace(/_/g,"-"))}function dm(n,e,t){return function i(r){if(r===Function)return t;let o=Dr(n)?en(n.index,e):e;kf(o,5);let s=e[Ne],a=fm(e,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=fm(e,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function fm(n,e,t,i){let r=W(null);try{return se(6,e,t),t(i)!==!1}catch(o){return WS(n,o),!1}finally{se(7,e,t),W(r)}}function WS(n,e){let t=n[dr],i=t?t.get(tn,null):null;i&&i.handleError(e)}function pm(n,e,t,i,r,o){let s=e[t],a=e[H],d=a.data[t].outputs[i],f=s[d],p=a.firstCreatePass?sf(a):null,g=of(e),h=f.subscribe(o),m=g.length;g.push(o,h),p&&p.push(r,n.index,m,-(m+1))}var zS=(n,e,t)=>{};function oe(n,e,t,i){let r=Y(),o=Ce(),s=et();return Py(o,r,r[ye],s,n,e,i),oe}function qS(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[xa],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Py(n,e,t,i,r,o,s){let a=Xa(i),d=n.firstCreatePass?sf(n):null,f=of(e),p=!0;if(i.type&3||s){let g=on(i,e),h=s?s(g):g,m=f.length,v=s?C=>s(Xt(C[i.index])):i.index,_=null;if(!s&&a&&(_=qS(n,e,r,i.index)),_!==null){let C=_.__ngLastListenerFn__||_;C.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,p=!1}else{o=dm(i,e,o),zS(h,r,o);let C=t.listen(h,r,o);f.push(o,C),d&&d.push(r,v,m,m+1)}}else o=dm(i,e,o);if(p){let g=i.outputs?.[r],h=i.hostDirectiveOutputs?.[r];if(h&&h.length)for(let m=0;m<h.length;m+=2){let v=h[m],_=h[m+1];pm(i,e,v,_,r,o)}if(g&&g.length)for(let m of g)pm(i,e,m,r,r,o)}}function de(n=1){return Qw(n)}function YS(n,e){let t=null,i=Qb(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?Uv(n,o,!0):eE(i,o))return r}return t}function ky(n){let e=Y()[ht][at];if(!e.projection){let t=n?n.length:1,i=e.projection=uw(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?YS(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Fy(n,e=0,t,i,r,o){let s=Y(),a=Ce(),l=i?n+1:null;l!==null&&Ga(s,a,l,i,r,o,null,t);let d=Lo(a,Ye+n,16,null,t||null);d.projection===null&&(d.projection=e),cf();let p=!s[ur]||Km();s[ht][at].projection[d.projection]===null&&l!==null?KS(s,a,l):p&&!Rf(d)&&LE(a,s,d)}function KS(n,e,t){let i=Ye+t,r=e.data[i],o=n[i],s=mr(o,r.tView.ssrId),a=ko(n,r,void 0,{dehydratedView:s});Fo(o,a,0,gr(r,s))}function zf(n,e,t){return Ly(n,"",e,"",t),zf}function Ly(n,e,t,i,r){let o=Y(),s=Iy(o,e,t,i);if(s!==Ht){let a=Ce(),l=Ro();sl(a,l,o,n,s,o[ye],r,!1)}return Ly}function pl(n,e,t,i){U1(n,e,t,i)}function qf(n,e,t){B1(n,e,t)}function xr(n){let e=Y(),t=Ce(),i=Xm();uf(i+1);let r=Lf(t,i);if(n.dirty&&Rw(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=G1(e,i);n.reset(o,Sb),n.notifyOnChanges()}return!0}return!1}function Nr(){return V1(Y(),Xm())}function Cn(n){let e=Gw();return Aw(e,Ye+n)}function Q(n,e=""){let t=Y(),i=Ce(),r=n+Ye,o=i.firstCreatePass?Lo(i,r,1,e,null):i.data[r],s=ZS(i,t,o,e,n);t[r]=s,tl()&&ll(i,t,s,o),_i(o,!1)}var ZS=(n,e,t,i,r)=>(nl(!0),rE(e[ye],i));function Gt(n){return Tt("",n,""),Gt}function Tt(n,e,t){let i=Y(),r=Iy(i,n,e,t);return r!==Ht&&QS(i,Fn(),r),Tt}function QS(n,e,t){let i=Wm(e,n);oE(n[ye],i,t)}function Dn(n,e,t){bv(e)&&(e=e());let i=Y(),r=Ci();if(bt(i,r,e)){let o=Ce(),s=Ro();sl(o,s,i,n,e,i[ye],t,!1)}return Dn}function Bn(n,e){let t=bv(n);return t&&n.set(e),t}function wn(n,e){let t=Y(),i=Ce(),r=et();return Py(i,t,t[ye],r,n,e),wn}function JS(n,e,t){let i=Ce();if(i.firstCreatePass){let r=Jt(n);Ud(t,i.data,i.blueprint,r,!0),Ud(e,i.data,i.blueprint,r,!1)}}function Ud(n,e,t,i,r){if(n=Xe(n),Array.isArray(n))for(let o=0;o<n.length;o++)Ud(n[o],e,t,i,r);else{let o=Ce(),s=Y(),a=et(),l=cr(n)?n:Xe(n.provide),d=Fm(n),f=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(cr(n)||!n.multi){let h=new vi(d,r,X),m=Wu(l,e,r?f:f+g,p);m===-1?(rd(ka(a,s),o,l),ju(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[m]=h,s[m]=h)}else{let h=Wu(l,e,f+g,p),m=Wu(l,e,f,f+g),v=h>=0&&t[h],_=m>=0&&t[m];if(r&&!_||!r&&!v){rd(ka(a,s),o,l);let C=tT(r?eT:XS,t.length,r,i,d);!r&&_&&(t[m].providerFactory=C),ju(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else{let C=Vy(t[r?m:h],d,!r&&i);ju(o,n,h>-1?h:m,C)}!r&&i&&_&&t[m].componentProviders++}}}function ju(n,e,t,i){let r=cr(e),o=_w(e);if(r||o){let l=(o?Xe(e.useClass):e).prototype.ngOnDestroy;if(l){let d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let f=d.indexOf(t);f===-1?d.push(t,[i,l]):d[f+1].push(i,l)}else d.push(t,l)}}}function Vy(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Wu(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function XS(n,e,t,i){return Hd(this.multi,[])}function eT(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bo(t,t[H],this.providerFactory.index,i);o=a.slice(0,s),Hd(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Hd(r,o);return o}function Hd(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function tT(n,e,t,i,r){let o=new vi(n,t,X);return o.multi=[],o.index=e,o.componentProviders=0,Vy(o,r,i&&!t),o}function Ar(n,e=[]){return t=>{t.providersResolver=(i,r)=>JS(i,r?r(n):n,e)}}function By(n,e,t,i,r,o){return iT(Y(),jw(),n,e,t,i,r,o)}function nT(n,e){let t=n[e];return t===Ht?void 0:t}function iT(n,e,t,i,r,o,s,a){let l=e+t;return sS(n,l,r,o,s)?rS(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):nT(n,l+3)}function Un(n,e){return ul(n,e)}var $d=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Uy=(()=>{class n{compileModuleSync(t){return new xd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=Rm(t),o=Vv(r.declarations).reduce((s,a)=>{let l=lr(a);return l&&s.push(new To(l)),s},[]);return new $d(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rT=(()=>{class n{zone=y(he);changeDetectionScheduler=y(hr);applicationRef=y(vn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oT=new M("",{factory:()=>!1});function Hy({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new he(B(D({},Gy()),{scheduleInRootZone:t})),[{provide:he,useFactory:n},{provide:Co,multi:!0,useFactory:()=>{let i=y(rT,{optional:!0});return()=>i.initialize()}},{provide:Co,multi:!0,useFactory:()=>{let i=y(sT);return()=>{i.initialize()}}},e===!0?{provide:yv,useValue:!0}:[],{provide:_v,useValue:t??vv}]}function $y(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=Hy({ngZoneFactory:()=>{let r=Gy(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&wi("NgZone_CoalesceEvent"),new he(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Jd([{provide:oT,useValue:!0},{provide:gf,useValue:!1},i])}function Gy(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var sT=(()=>{class n{subscription=new me;initialized=!1;zone=y(he);pendingTasks=y(br);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var aT=(()=>{class n{appRef=y(vn);taskService=y(br);ngZone=y(he);zonelessEnabled=y(gf);tracing=y(Ir,{optional:!0});disableScheduling=y(yv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(La):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(_v,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?qg:Cv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(La+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lT(){return typeof $localize<"u"&&$localize.locale||qa}var hl=new M("",{providedIn:"root",factory:()=>y(hl,z.Optional|z.SkipSelf)||lT()});var Gd=new M(""),cT=new M("");function mo(n){return!n.moduleRef}function uT(n){let e=mo(n)?n.r3Injector:n.moduleRef.injector,t=e.get(he);return t.run(()=>{mo(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(tn,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),mo(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Gd);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Gd);s.add(o),n.moduleRef.onDestroy(()=>{wa(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return fT(i,t,()=>{let o=e.get(Ty);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(hl,qa);if(jS(s||qa),!e.get(cT,!0))return mo(n)?e.get(vn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(mo(n)){let l=e.get(vn);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return dT(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function dT(n,e){let t=n.injector.get(vn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new I(-403,!1);e.push(n)}function fT(n,e,t){try{let i=t();return bi(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var ba=null;function pT(n=[],e){return Ke.create({name:e,providers:[{provide:Qa,useValue:"platform"},{provide:Gd,useValue:new Set([()=>ba=null])},...n]})}function hT(n=[]){if(ba)return ba;let e=pT(n);return ba=e,fS(),gT(e),e}function gT(n){let e=n.get(_f,null);Ut(n,()=>{e?.forEach(t=>t())})}var sn=(()=>{class n{static __NG_ELEMENT_ID__=mT}return n})();function mT(n){return vT(et(),Y(),(n&16)===16)}function vT(n,e,t){if(Dr(n)&&!t){let i=en(n.index,e);return new So(i,i)}else if(n.type&175){let i=e[ht];return new So(i,e)}return null}var jd=class{constructor(){}supports(e){return wy(e)}create(e){return new Wd(e)}},yT=(n,e)=>e,Wd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||yT}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<hm(i,r,o)?t:i,a=hm(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,f=l-r;if(d!=f){for(let g=0;g<d;g++){let h=g<o.length?o[g]:o[g]=0,m=h+g;f<=m&&m<d&&(o[g]=h+1)}let p=s.previousIndex;o[p]=f-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!wy(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,nS(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new zd(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ya),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ya),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},qd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Ya=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new qd,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hm(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function gm(){return new Yf([new jd])}var Yf=(()=>{class n{factories;static \u0275prov=E({token:n,providedIn:"root",factory:gm});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||gm()),deps:[[n,new aw,new sw]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new I(901,!1)}}return n})();function jy(n){se(8);try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=hT(i),o=[Hy({}),{provide:hr,useExisting:aT},...t||[]],s=new $a({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return uT({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{se(9)}}function Kf(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Hn(n){return uu(n)}function gl(n,e){return su(n,e?.equal)}var mm=class{[Ct];constructor(e){this[Ct]=e}destroy(){this[Ct].destroy()}};var be=new M("");var qy=null;function It(){return qy}function Zf(n){qy??=n}var Bo=class{},Qf=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>y(Yy),providedIn:"platform"})}return n})();var Yy=(()=>{class n extends Qf{_location;_history;_doc=y(be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return It().getBaseHref(this._doc)}onPopState(t){let i=It().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=It().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ky(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Wy(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function $n(n){return n&&n[0]!=="?"?`?${n}`:n}var ml=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>y(Qy),providedIn:"root"})}return n})(),Zy=new M(""),Qy=(()=>{class n extends ml{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??y(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ky(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+$n(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+$n(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+$n(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(j(Qf),j(Zy,8))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rr=(()=>{class n{_subject=new re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=DT(Wy(zy(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$n(i))}normalize(t){return n.stripTrailingSlash(CT(this._basePath,zy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$n(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$n(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=$n;static joinWithSlash=Ky;static stripTrailingSlash=Wy;static \u0275fac=function(i){return new(i||n)(j(ml))};static \u0275prov=E({token:n,factory:()=>_T(),providedIn:"root"})}return n})();function _T(){return new Rr(j(ml))}function CT(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function zy(n){return n.replace(/\/index.html$/,"")}function DT(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Jf=/\s+/,Jy=[],Xf=(()=>{class n{_ngEl;_renderer;initialClasses=Jy;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Jf):Jy}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Jf):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Jf).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(X(Ge),X(Vo))};static \u0275dir=De({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var vl=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new vl(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Xy(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Xy(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(X($t),X(rn),X(Yf))};static \u0275dir=De({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Xy(n,e){n.context.$implicit=e.item}var Si=(()=>{class n{_viewContainer;_context=new yl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){e_(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){e_(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(X($t),X(rn))};static \u0275dir=De({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),yl=class{$implicit=null;ngIf=null};function e_(n,e){if(n&&!n.createEmbeddedView)throw new I(2020,!1)}var _l=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(X($t))};static \u0275dir=De({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[gt]})}return n})();var an=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Et({})}return n})();function ep(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var tp="browser",t_="server";function Cl(n){return n===t_}var Uo=class{};var bl=new M(""),sp=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(j(bl),j(he))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Ho=class{_doc;constructor(e){this._doc=e}manager},Dl="ng-app-id";function n_(n){for(let e of n)e.remove()}function i_(n,e){let t=e.createElement("style");return t.textContent=n,t}function ST(n,e,t,i){let r=n.head?.querySelectorAll(`style[${Dl}="${e}"],link[${Dl}="${e}"]`);if(r)for(let o of r)o.removeAttribute(Dl),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function rp(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ap=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Cl(o),ST(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,i_);i?.forEach(r=>this.addUsage(r,this.external,rp))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(n_(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])n_(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,i_(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,rp(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Dl,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(j(be),j(yf),j(Cf,8),j(Tr))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),ip={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lp=/%COMP%/g;var o_="%COMP%",TT=`_nghost-${o_}`,IT=`_ngcontent-${o_}`,MT=!0,xT=new M("",{providedIn:"root",factory:()=>MT});function NT(n){return IT.replace(lp,n)}function AT(n){return TT.replace(lp,n)}function s_(n,e){return e.map(t=>t.replace(lp,n))}var cp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l,d=null,f=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=f,this.platformIsServer=Cl(a),this.defaultRenderer=new $o(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===nn.ShadowDom&&(i=B(D({},i),{encapsulation:nn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof wl?r.applyToHost(t):r instanceof Go&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(i.encapsulation){case nn.Emulated:o=new wl(l,d,i,this.appId,f,s,a,p,g);break;case nn.ShadowDom:return new op(l,d,t,i,s,a,this.nonce,p,g);default:o=new Go(l,d,i,f,s,a,p,g);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(j(sp),j(ap),j(yf),j(xT),j(be),j(Tr),j(he),j(Cf),j(Ir,8))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),$o=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ip[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(r_(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(r_(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new I(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=ip[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=ip[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(mn.DashCase|mn.Important)?e.style.setProperty(t,i,r&mn.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=It().getGlobalEventTarget(this.doc,e),!e))throw new I(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function r_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var op=class extends $o{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,l,d){super(e,o,s,l,d),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=s_(r.id,f);for(let g of f){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=g,this.shadowRoot.appendChild(h)}let p=r.getExternalStyles?.();if(p)for(let g of p){let h=rp(g,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Go=class extends $o{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,l,d){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let f=i.styles;this.styles=d?s_(d,f):f,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wl=class extends Go{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,l,d){let f=r+"-"+i.id;super(e,t,i,o,s,a,l,d,f),this.contentAttr=NT(f),this.hostAttr=AT(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var El=class n extends Bo{supportsDOMEvents=!0;static makeCurrent(){Zf(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=RT();return t==null?null:OT(t)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ep(document.cookie,e)}},jo=null;function RT(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}function OT(n){return new URL(n,document.baseURI).pathname}var PT=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),l_=(()=>{class n extends Ho{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(j(be))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),a_=["alt","control","meta","shift"],kT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FT={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},c_=(()=>{class n extends Ho{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>It().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),a_.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=kT[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),a_.forEach(s=>{if(s!==r){let a=FT[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(j(be))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function up(n,e){return jy(D({rootComponent:n},LT(e)))}function LT(n){return{appProviders:[...$T,...n?.providers??[]],platformProviders:HT}}function VT(){El.makeCurrent()}function BT(){return new tn}function UT(){return Nv(document),document}var HT=[{provide:Tr,useValue:tp},{provide:_f,useValue:VT,multi:!0},{provide:be,useFactory:UT}];var $T=[{provide:Qa,useValue:"root"},{provide:tn,useFactory:BT},{provide:bl,useClass:l_,multi:!0,deps:[be]},{provide:bl,useClass:c_,multi:!0,deps:[be]},cp,ap,sp,{provide:vr,useExisting:cp},{provide:Uo,useClass:PT},[]];var u_=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(j(be))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $="primary",rs=Symbol("RouteTitle"),gp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Mi(n){return new gp(n)}function y_(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function jT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ln(n[t],e[t]))return!1;return!0}function ln(n,e){let t=n?mp(n):void 0,i=e?mp(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!__(n[r],e[r]))return!1;return!0}function mp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function __(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function C_(n){return n.length>0?n[n.length-1]:null}function zn(n){return bu(n)?n:bi(n)?ve(Promise.resolve(n)):P(n)}var WT={exact:w_,subset:b_},D_={exact:zT,subset:qT,ignored:()=>!0};function d_(n,e,t){return WT[t.paths](n.root,e.root,t.matrixParams)&&D_[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function zT(n,e){return ln(n,e)}function w_(n,e,t){if(!Ti(n.segments,e.segments)||!Il(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!w_(n.children[i],e.children[i],t))return!1;return!0}function qT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>__(n[t],e[t]))}function b_(n,e,t){return E_(n,e,e.segments,t)}function E_(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Ti(r,t)||e.hasChildren()||!Il(r,t,i))}else if(n.segments.length===t.length){if(!Ti(n.segments,t)||!Il(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!b_(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ti(n.segments,r)||!Il(n.segments,r,i)||!n.children[$]?!1:E_(n.children[$],e,o,i)}}function Il(n,e,t){return e.every((i,r)=>D_[t](n[r].parameters,i.parameters))}var un=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ie([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Mi(this.queryParams),this._queryParamMap}toString(){return ZT.serialize(this)}},ie=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ml(this)}},jn=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Mi(this.parameters),this._parameterMap}toString(){return T_(this)}};function YT(n,e){return Ti(n,e)&&n.every((t,i)=>ln(t.parameters,e[i].parameters))}function Ti(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function KT(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===$&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==$&&(t=t.concat(e(r,i)))}),t}var os=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>new xi,providedIn:"root"})}return n})(),xi=class{parse(e){let t=new yp(e);return new un(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Wo(e.root,!0)}`,i=XT(e.queryParams),r=typeof e.fragment=="string"?`#${QT(e.fragment)}`:"";return`${t}${i}${r}`}},ZT=new xi;function Ml(n){return n.segments.map(e=>T_(e)).join("/")}function Wo(n,e){if(!n.hasChildren())return Ml(n);if(e){let t=n.children[$]?Wo(n.children[$],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==$&&i.push(`${r}:${Wo(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=KT(n,(i,r)=>r===$?[Wo(n.children[$],!1)]:[`${r}:${Wo(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[$]!=null?`${Ml(n)}/${t[0]}`:`${Ml(n)}/(${t.join("//")})`}}function S_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sl(n){return S_(n).replace(/%3B/gi,";")}function QT(n){return encodeURI(n)}function vp(n){return S_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xl(n){return decodeURIComponent(n)}function f_(n){return xl(n.replace(/\+/g,"%20"))}function T_(n){return`${vp(n.path)}${JT(n.parameters)}`}function JT(n){return Object.entries(n).map(([e,t])=>`;${vp(e)}=${vp(t)}`).join("")}function XT(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Sl(t)}=${Sl(r)}`).join("&"):`${Sl(t)}=${Sl(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var eI=/^[^\/()?;#]+/;function dp(n){let e=n.match(eI);return e?e[0]:""}var tI=/^[^\/()?;=#]+/;function nI(n){let e=n.match(tI);return e?e[0]:""}var iI=/^[^=?&#]+/;function rI(n){let e=n.match(iI);return e?e[0]:""}var oI=/^[^&#]+/;function sI(n){let e=n.match(oI);return e?e[0]:""}var yp=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[$]=new ie(e,t)),i}parseSegment(){let e=dp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new jn(xl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=nI(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=dp(this.remaining);r&&(i=r,this.capture(i))}e[xl(t)]=xl(i)}parseQueryParam(e){let t=rI(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=sI(this.remaining);s&&(i=s,this.capture(i))}let r=f_(t),o=f_(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=dp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new I(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=$);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[$]:new ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function I_(n){return n.segments.length>0?new ie([],{[$]:n}):n}function M_(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=M_(r);if(i===$&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new ie(n.segments,e);return aI(t)}function aI(n){if(n.numberOfChildren===1&&n.children[$]){let e=n.children[$];return new ie(n.segments.concat(e.segments),e.children)}return n}function Lr(n){return n instanceof un}function x_(n,e,t=null,i=null){let r=N_(n);return A_(r,e,t,i)}function N_(n){let e;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new ie(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=I_(i);return e??r}function A_(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return fp(r,r,r,t,i);let o=lI(e);if(o.toRoot())return fp(r,r,new ie([],{}),t,i);let s=cI(o,r,n),a=s.processChildren?qo(s.segmentGroup,s.index,o.commands):O_(s.segmentGroup,s.index,o.commands);return fp(r,s.segmentGroup,a,t,i)}function Al(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ko(n){return typeof n=="object"&&n!=null&&n.outlets}function fp(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;n===e?s=t:s=R_(n,e,t);let a=I_(M_(s));return new un(a,o,r)}function R_(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=R_(o,e,t)}),new ie(n.segments,i)}var Rl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Al(i[0]))throw new I(4003,!1);let r=i.find(Ko);if(r&&r!==C_(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lI(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Rl(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Rl(t,e,i)}var kr=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function cI(n,e,t){if(n.isAbsolute)return new kr(e,!0,0);if(!t)return new kr(e,!1,NaN);if(t.parent===null)return new kr(t,!0,0);let i=Al(n.commands[0])?0:1,r=t.segments.length-1+i;return uI(t,r,n.numberOfDoubleDots)}function uI(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new kr(i,!1,r-o)}function dI(n){return Ko(n[0])?n[0].outlets:{[$]:n}}function O_(n,e,t){if(n??=new ie([],{}),n.segments.length===0&&n.hasChildren())return qo(n,e,t);let i=fI(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new ie(n.segments.slice(0,i.pathIndex),{});return o.children[$]=new ie(n.segments.slice(i.pathIndex),n.children),qo(o,0,r)}else return i.match&&r.length===0?new ie(n.segments,{}):i.match&&!n.hasChildren()?_p(n,e,t):i.match?qo(n,0,r):_p(n,e,t)}function qo(n,e,t){if(t.length===0)return new ie(n.segments,{});{let i=dI(t),r={};if(Object.keys(i).some(o=>o!==$)&&n.children[$]&&n.numberOfChildren===1&&n.children[$].segments.length===0){let o=qo(n.children[$],e,t);return new ie(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=O_(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ie(n.segments,r)}}function fI(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Ko(a))break;let l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!h_(l,d,s))return o;i+=2}else{if(!h_(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function _p(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Ko(o)){let l=pI(o.outlets);return new ie(i,l)}if(r===0&&Al(t[0])){let l=n.segments[e];i.push(new jn(l.path,p_(t[0]))),r++;continue}let s=Ko(o)?o.outlets[$]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Al(a)?(i.push(new jn(s,p_(a))),r+=2):(i.push(new jn(s,{})),r++)}return new ie(i,{})}function pI(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=_p(new ie([],{}),0,i))}),e}function p_(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function h_(n,e,t){return n==t.path&&ln(e,t.parameters)}var Nl="imperative",Fe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Fe||{}),yt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ni=class extends yt{type=Fe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bn=class extends yt{urlAfterRedirects;type=Fe.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(lt||{}),Zo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Zo||{}),cn=class extends yt{reason;code;type=Fe.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},En=class extends yt{reason;code;type=Fe.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Vr=class extends yt{error;target;type=Fe.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qo=class extends yt{urlAfterRedirects;state;type=Fe.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ol=class extends yt{urlAfterRedirects;state;type=Fe.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pl=class extends yt{urlAfterRedirects;state;shouldActivate;type=Fe.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kl=class extends yt{urlAfterRedirects;state;type=Fe.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fl=class extends yt{urlAfterRedirects;state;type=Fe.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ll=class{route;type=Fe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vl=class{route;type=Fe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bl=class{snapshot;type=Fe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ul=class{snapshot;type=Fe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hl=class{snapshot;type=Fe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$l=class{snapshot;type=Fe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Jo=class{},Br=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function hI(n,e){return n.providers&&!n._injector&&(n._injector=fl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jt(n){return n.outlet||$}function gI(n,e){let t=n.filter(i=>jt(i)===e);return t.push(...n.filter(i=>jt(i)!==e)),t}function ss(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Gl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ss(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new $r(this.rootInjector)}},$r=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Gl(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(j(pt))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Cp(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Cp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Dp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Dp(e,this._root).map(t=>t.value)}};function Cp(n,e){if(n===e.value)return e;for(let t of e.children){let i=Cp(n,t);if(i)return i}return null}function Dp(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Dp(n,t);if(i.length)return i.unshift(e),i}return[]}var vt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Pr(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Xo=class extends jl{snapshot;constructor(e,t){super(e),this.snapshot=t,xp(this,e)}toString(){return this.snapshot.toString()}};function P_(n){let e=mI(n),t=new fe([new jn("",{})]),i=new fe({}),r=new fe({}),o=new fe({}),s=new fe(""),a=new Wn(t,i,o,s,r,$,n,e.root);return a.snapshot=e.root,new Xo(new vt(a,[]),e)}function mI(n){let e={},t={},i={},r="",o=new Ii([],e,i,r,t,$,n,null,{});return new es("",new vt(o,[]))}var Wn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(F(d=>d[rs]))??P(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(e=>Mi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(e=>Mi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wl(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:D(D({},e.params),n.params),data:D(D({},e.data),n.data),resolve:D(D(D(D({},n.data),e.data),r?.data),n._resolvedData)}:i={params:D({},n.params),data:D({},n.data),resolve:D(D({},n.data),n._resolvedData??{})},r&&F_(r)&&(i.resolve[rs]=r.title),i}var Ii=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[rs]}constructor(e,t,i,r,o,s,a,l,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},es=class extends jl{url;constructor(e,t){super(t),this.url=e,xp(this,t)}toString(){return k_(this._root)}};function xp(n,e){e.value._routerState=n,e.children.forEach(t=>xp(n,t))}function k_(n){let e=n.children.length>0?` { ${n.children.map(k_).join(", ")} } `:"";return`${n.value}${e}`}function pp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ln(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ln(e.params,t.params)||n.paramsSubject.next(t.params),jT(e.url,t.url)||n.urlSubject.next(t.url),ln(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wp(n,e){let t=ln(n.params,e.params)&&YT(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||wp(n.parent,e.parent))}function F_(n){return typeof n.title=="string"||n.title===null}var L_=new M(""),as=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new J;deactivateEvents=new J;attachEvents=new J;detachEvents=new J;routerOutletData=wv(void 0);parentContexts=y($r);location=y($t);changeDetector=y(sn);inputBinder=y(Kl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new bp(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=De({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[gt]})}return n})(),bp=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===Wn?this.route:e===$r?this.childContexts:e===L_?this.outletData:this.parent.get(e,t)}},Kl=new M("");function vI(n,e,t){let i=ts(n,e._root,t?t._root:void 0);return new Xo(i,e)}function ts(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=yI(n,e,t);return new vt(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ts(n,a)),s}}let i=_I(e.value),r=e.children.map(o=>ts(n,o));return new vt(i,r)}}function yI(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ts(n,i,r);return ts(n,i)})}function _I(n){return new Wn(new fe(n.url),new fe(n.params),new fe(n.queryParams),new fe(n.fragment),new fe(n.data),n.outlet,n.component,n)}var Ur=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},V_="ngNavigationCancelingError";function zl(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Lr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=B_(!1,lt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function B_(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[V_]=!0,t.cancellationCode=e,t}function CI(n){return U_(n)&&Lr(n.url)}function U_(n){return!!n&&n[V_]}var DI=(n,e,t,i)=>F(r=>(new Ep(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Ep=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),pp(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Pr(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Pr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Pr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Pr(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new $l(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ul(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(pp(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},ql=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fr=class{component;route;constructor(e,t){this.component=e,this.route=t}};function wI(n,e,t){let i=n._root,r=e?e._root:null;return zo(i,r,t,[i.value])}function bI(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Gr(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!Dm(n)?n:e.get(n):i}function zo(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Pr(e);return n.children.forEach(s=>{EI(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Yo(a,t.getContext(s),r)),r}function EI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=SI(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ql(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?zo(n,e,a?a.children:null,i,r):zo(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fr(a.outlet.component,s))}else s&&Yo(e,a,r),r.canActivateChecks.push(new ql(i)),o.component?zo(n,null,a?a.children:null,i,r):zo(n,null,t,i,r);return r}function SI(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ti(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ti(n.url,e.url)||!ln(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wp(n,e)||!ln(n.queryParams,e.queryParams);case"paramsChange":default:return!wp(n,e)}}function Yo(n,e,t){let i=Pr(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Yo(s,e.children.getContext(o),t):Yo(s,null,t):Yo(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Fr(e.outlet.component,r)):t.canDeactivateChecks.push(new Fr(null,r)):t.canDeactivateChecks.push(new Fr(null,r))}function ls(n){return typeof n=="function"}function TI(n){return typeof n=="boolean"}function II(n){return n&&ls(n.canLoad)}function MI(n){return n&&ls(n.canActivate)}function xI(n){return n&&ls(n.canActivateChild)}function NI(n){return n&&ls(n.canDeactivate)}function AI(n){return n&&ls(n.canMatch)}function H_(n){return n instanceof pn||n?.name==="EmptyError"}var Tl=Symbol("INITIAL_VALUE");function Hr(){return ft(n=>ci(n.map(e=>e.pipe(Je(1),ga(Tl)))).pipe(F(e=>{for(let t of e)if(t!==!0){if(t===Tl)return Tl;if(t===!1||RI(t))return t}return!0}),$e(e=>e!==Tl),Je(1)))}function RI(n){return Lr(n)||n instanceof Ur}function OI(n,e){return pe(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?P(B(D({},t),{guardsResult:!0})):PI(s,i,r,n).pipe(pe(a=>a&&TI(a)?kI(i,o,n,e):P(a)),F(a=>B(D({},t),{guardsResult:a})))})}function PI(n,e,t,i){return ve(n).pipe(pe(r=>UI(r.component,r.route,t,e,i)),hn(r=>r!==!0,!0))}function kI(n,e,t,i){return ve(e).pipe(Ji(r=>Kt(LI(r.route.parent,i),FI(r.route,i),BI(n,r.path,t),VI(n,r.route,t))),hn(r=>r!==!0,!0))}function FI(n,e){return n!==null&&e&&e(new Hl(n)),P(!0)}function LI(n,e){return n!==null&&e&&e(new Bl(n)),P(!0)}function VI(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return P(!0);let r=i.map(o=>ua(()=>{let s=ss(e)??t,a=Gr(o,s),l=MI(a)?a.canActivate(e,n):Ut(s,()=>a(e,n));return zn(l).pipe(hn())}));return P(r).pipe(Hr())}function BI(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>bI(s)).filter(s=>s!==null).map(s=>ua(()=>{let a=s.guards.map(l=>{let d=ss(s.node)??t,f=Gr(l,d),p=xI(f)?f.canActivateChild(i,n):Ut(d,()=>f(i,n));return zn(p).pipe(hn())});return P(a).pipe(Hr())}));return P(o).pipe(Hr())}function UI(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return P(!0);let s=o.map(a=>{let l=ss(e)??r,d=Gr(a,l),f=NI(d)?d.canDeactivate(n,e,t,i):Ut(l,()=>d(n,e,t,i));return zn(f).pipe(hn())});return P(s).pipe(Hr())}function HI(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return P(!0);let o=r.map(s=>{let a=Gr(s,n),l=II(a)?a.canLoad(e,t):Ut(n,()=>a(e,t));return zn(l)});return P(o).pipe(Hr(),$_(i))}function $_(n){return vu(Se(e=>{if(typeof e!="boolean")throw zl(n,e)}),F(e=>e===!0))}function $I(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return P(!0);let o=r.map(s=>{let a=Gr(s,n),l=AI(a)?a.canMatch(e,t):Ut(n,()=>a(e,t));return zn(l)});return P(o).pipe(Hr(),$_(i))}var ns=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},is=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Or(n){return Yt(new ns(n))}function GI(n){return Yt(new I(4e3,!1))}function jI(n){return Yt(B_(!1,lt.GuardRejected))}var Sp=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return P(i);if(r.numberOfChildren>1||!r.children[$])return GI(`${e.redirectTo}`);r=r.children[$]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:f,url:p,outlet:g,params:h,data:m,title:v}=r,_=Ut(o,()=>a({params:h,data:m,queryParams:l,fragment:d,routeConfig:f,url:p,outlet:g,title:v}));if(_ instanceof un)throw new is(_);t=_}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new is(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new un(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new ie(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WI(n,e,t,i,r){let o=G_(n,e,t);return o.matched?(i=hI(e,i),$I(i,e,t,r).pipe(F(s=>s===!0?o:D({},Tp)))):P(o)}function G_(n,e,t){if(e.path==="**")return zI(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?D({},Tp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||y_)(t,n,e);if(!r)return D({},Tp);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?D(D({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function zI(n){return{matched:!0,parameters:n.length>0?C_(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function g_(n,e,t,i){return t.length>0&&KI(n,t,i)?{segmentGroup:new ie(e,YI(i,new ie(t,n.children))),slicedSegments:[]}:t.length===0&&ZI(n,t,i)?{segmentGroup:new ie(n.segments,qI(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new ie(n.segments,n.children),slicedSegments:t}}function qI(n,e,t,i){let r={};for(let o of t)if(Zl(n,e,o)&&!i[jt(o)]){let s=new ie([],{});r[jt(o)]=s}return D(D({},i),r)}function YI(n,e){let t={};t[$]=e;for(let i of n)if(i.path===""&&jt(i)!==$){let r=new ie([],{});t[jt(i)]=r}return t}function KI(n,e,t){return t.some(i=>Zl(n,e,i)&&jt(i)!==$)}function ZI(n,e,t){return t.some(i=>Zl(n,e,i))}function Zl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function QI(n,e,t){return e.length===0&&!n.children[t]}var Ip=class{};function JI(n,e,t,i,r,o,s="emptyOnly"){return new Mp(n,e,t,i,r,s,o).recognize()}var XI=31,Mp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Sp(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=g_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(F(({children:t,rootSnapshot:i})=>{let r=new vt(i,t),o=new es("",r),s=x_(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ii([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,$,t).pipe(F(i=>({children:i,rootSnapshot:t})),xn(i=>{if(i instanceof is)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ns?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(F(s=>s instanceof vt?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ve(o).pipe(Ji(s=>{let a=i.children[s],l=gI(t,s);return this.processSegmentGroup(e,l,a,s,r)}),Nu((s,a)=>(s.push(...a),s)),Nn(null),xu(),pe(s=>{if(s===null)return Or(i);let a=j_(s);return eM(a),P(a)}))}processSegment(e,t,i,r,o,s,a){return ve(t).pipe(Ji(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,o,s,a).pipe(xn(d=>{if(d instanceof ns)return P(null);throw d}))),hn(l=>!!l),xn(l=>{if(H_(l))return QI(i,r,o)?P(new Ip):Or(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,l){return jt(i)!==s&&(s===$||!Zl(r,o,i))?Or(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,l):Or(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:l,parameters:d,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=G_(t,r,o);if(!l)return Or(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XI&&(this.allowRedirects=!1));let h=new Ii(o,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,m_(r),jt(r),r.component??r._loadedComponent??null,r,v_(r)),m=Wl(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let v=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,p,h,e);return this.applyRedirects.lineralizeSegments(r,v).pipe(pe(_=>this.processSegment(e,i,t,_.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=WI(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(ft(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ft(({routes:d})=>{let f=i._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:h}=l,m=new Ii(g,p,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,m_(i),jt(i),i.component??i._loadedComponent??null,i,v_(i)),v=Wl(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:C}=g_(t,g,h,d);if(C.length===0&&_.hasChildren())return this.processChildren(f,d,_,m).pipe(F(S=>new vt(m,S)));if(d.length===0&&C.length===0)return P(new vt(m,[]));let b=jt(i)===o;return this.processSegment(f,d,_,C,b?$:o,!0,m).pipe(F(S=>new vt(m,S instanceof vt?[S]:[])))}))):Or(t)))}getChildConfig(e,t,i){return t.children?P({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?P({routes:t._loadedRoutes,injector:t._loadedInjector}):HI(e,t,i,this.urlSerializer).pipe(pe(r=>r?this.configLoader.loadChildren(e,t).pipe(Se(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):jI(t))):P({routes:[],injector:e})}};function eM(n){n.sort((e,t)=>e.value.outlet===$?-1:t.value.outlet===$?1:e.value.outlet.localeCompare(t.value.outlet))}function tM(n){let e=n.value.routeConfig;return e&&e.path===""}function j_(n){let e=[],t=new Set;for(let i of n){if(!tM(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=j_(i.children);e.push(new vt(i.value,r))}return e.filter(i=>!t.has(i))}function m_(n){return n.data||{}}function v_(n){return n.resolve||{}}function nM(n,e,t,i,r,o){return pe(s=>JI(n,e,t,i,s.extractedUrl,r,o).pipe(F(({state:a,tree:l})=>B(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function iM(n,e){return pe(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return P(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of W_(l))s.add(d);let a=0;return ve(s).pipe(Ji(l=>o.has(l)?rM(l,i,n,e):(l.data=Wl(l,l.parent,n).resolve,P(void 0))),Se(()=>a++),er(1),pe(l=>a===s.size?P(t):Pe))})}function W_(n){let e=n.children.map(t=>W_(t)).flat();return[n,...e]}function rM(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!F_(r)&&(o[rs]=r.title),oM(o,n,e,i).pipe(F(s=>(n._resolvedData=s,n.data=Wl(n,n.parent,t).resolve,null)))}function oM(n,e,t,i){let r=mp(n);if(r.length===0)return P({});let o={};return ve(r).pipe(pe(s=>sM(n[s],e,t,i).pipe(hn(),Se(a=>{if(a instanceof Ur)throw zl(new xi,a);o[s]=a}))),er(1),F(()=>o),xn(s=>H_(s)?Pe:Yt(s)))}function sM(n,e,t,i){let r=ss(e)??i,o=Gr(n,r),s=o.resolve?o.resolve(e,t):Ut(r,()=>o(e,t));return zn(s)}function hp(n){return ft(e=>{let t=n(e);return t?ve(t).pipe(F(()=>e)):P(e)})}var Np=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===$);return i}getResolvedTitleForRoute(t){return t.data[rs]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>y(z_),providedIn:"root"})}return n})(),z_=(()=>{class n extends Np{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(j(u_))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cs=new M("",{providedIn:"root",factory:()=>({})}),Ap=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&we(0,"router-outlet")},dependencies:[as],encapsulation:2})}return n})();function Rp(n){let e=n.children&&n.children.map(Rp),t=e?B(D({},n),{children:e}):D({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$&&(t.component=Ap),t}var us=new M(""),q_=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Uy);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return P(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=zn(t.loadComponent()).pipe(F(K_),Se(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Xi(()=>{this.componentLoaders.delete(t)})),r=new qi(i,()=>new re).pipe(zi());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Y_(i,this.compiler,t,this.onLoadEndListener).pipe(Xi(()=>{this.childrenLoaders.delete(i)})),s=new qi(o,()=>new re).pipe(zi());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Y_(n,e,t,i){return zn(n.loadChildren()).pipe(F(K_),pe(r=>r instanceof Vf||Array.isArray(r)?P(r):ve(e.compileModuleAsync(r))),F(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(us,[],{optional:!0,self:!0}).flat()),{routes:s.map(Rp),injector:o}}))}function aM(n){return n&&typeof n=="object"&&"default"in n}function K_(n){return aM(n)?n.default:n}var Ql=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>y(lM),providedIn:"root"})}return n})(),lM=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z_=new M("");var Q_=new M(""),J_=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new re;transitionAbortSubject=new re;configLoader=y(q_);environmentInjector=y(pt);destroyRef=y(wr);urlSerializer=y(os);rootContexts=y($r);location=y(Rr);inputBindingEnabled=y(Kl,{optional:!0})!==null;titleStrategy=y(Np);options=y(cs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Ql);createViewTransition=y(Z_,{optional:!0});navigationErrorHandler=y(Q_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>P(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Ll(r)),i=r=>this.events.next(new Vl(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(B(D({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new fe(null),this.transitions.pipe($e(i=>i!==null),ft(i=>{let r=!1,o=!1;return P(i).pipe(ft(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",lt.SupersededByNewNavigation),Pe;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?B(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let d="";return this.events.next(new En(s.id,this.urlSerializer.serialize(s.rawUrl),d,Zo.IgnoredSameUrlNavigation)),s.resolve(!1),Pe}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return P(s).pipe(ft(d=>(this.events.next(new Ni(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Pe:Promise.resolve(d))),nM(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Se(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=B(D({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Qo(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:f,source:p,restoredState:g,extras:h}=s,m=new Ni(d,this.urlSerializer.serialize(f),p,g);this.events.next(m);let v=P_(this.rootComponentType).snapshot;return this.currentTransition=i=B(D({},s),{targetSnapshot:v,urlAfterRedirects:f,extras:B(D({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,P(i)}else{let d="";return this.events.next(new En(s.id,this.urlSerializer.serialize(s.extractedUrl),d,Zo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Pe}}),Se(s=>{let a=new Ol(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),F(s=>(this.currentTransition=i=B(D({},s),{guards:wI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),OI(this.environmentInjector,s=>this.events.next(s)),Se(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw zl(this.urlSerializer,s.guardsResult);let a=new Pl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),$e(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",lt.GuardRejected),!1)),hp(s=>{if(s.guards.canActivateChecks.length!==0)return P(s).pipe(Se(a=>{let l=new kl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ft(a=>{let l=!1;return P(a).pipe(iM(this.paramsInheritanceStrategy,this.environmentInjector),Se({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",lt.NoDataFromResolver)}}))}),Se(a=>{let l=new Fl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),hp(s=>{let a=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Se(f=>{l.component=f}),F(()=>{})));for(let f of l.children)d.push(...a(f));return d};return ci(a(s.targetSnapshot.root)).pipe(Nn(null),Je(1))}),hp(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ve(l).pipe(F(()=>i)):P(i)}),F(s=>{let a=vI(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=B(D({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),Se(()=>{this.events.next(new Jo)}),DI(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Je(1),Se({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Zt(this.transitionAbortSubject.pipe(Se(s=>{throw s}))),Xi(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",lt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(s=>{if(this.destroyed)return i.resolve(!1),Pe;if(o=!0,U_(s))this.events.next(new cn(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),CI(s)?this.events.next(new Br(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Vr(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=Ut(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ur){let{message:d,cancellationCode:f}=zl(this.urlSerializer,l);this.events.next(new cn(i.id,this.urlSerializer.serialize(i.extractedUrl),d,f)),this.events.next(new Br(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return Pe}))}))}cancelNavigationTransition(t,i,r){let o=new cn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cM(n){return n!==Nl}var X_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>y(uM),providedIn:"root"})}return n})(),Yl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},uM=(()=>{class n extends Yl{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e0=(()=>{class n{urlSerializer=y(os);options=y(cs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Rr);urlHandlingStrategy=y(Ql);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof un?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=P_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>y(dM),providedIn:"root"})}return n})(),dM=(()=>{class n extends e0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Ni?this.updateStateMemento():t instanceof En?this.commitTransition(i):t instanceof Qo?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Jo?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof cn&&(t.code===lt.GuardRejected||t.code===lt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Vr?this.restoreHistory(i,!0):t instanceof bn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=D(D({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",l)}else{let a=D(D({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Op(n,e){n.events.pipe($e(t=>t instanceof bn||t instanceof cn||t instanceof Vr||t instanceof En),F(t=>t instanceof bn||t instanceof En?0:(t instanceof cn?t.code===lt.Redirect||t.code===lt.SupersededByNewNavigation:!1)?2:1),$e(t=>t!==2),Je(1)).subscribe(()=>{e()})}var fM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jl=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(by);stateManager=y(e0);options=y(cs,{optional:!0})||{};pendingTasks=y(br);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(J_);urlSerializer=y(os);location=y(Rr);urlHandlingStrategy=y(Ql);_events=new re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(X_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(us,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Kl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new me;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof cn&&i.code!==lt.Redirect&&i.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof bn)this.navigated=!0;else if(i instanceof Br){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=D({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cM(r.source)},s);this.scheduleNavigation(a,Nl,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}gM(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=D({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Rp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=r?r.snapshot:this.routerState.snapshot.root;p=N_(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return A_(p,t,f,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Lr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Nl,null,i)}navigate(t,i={skipLocationChange:!1}){return hM(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=D({},fM):i===!1?r=D({},pM):r=i,Lr(t))return d_(this.currentUrlTree,t,r);let o=this.parseUrl(t);return d_(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((p,g)=>{a=p,l=g});let f=this.pendingTasks.add();return Op(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hM(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new I(4008,!1)}function gM(n){return!(n instanceof Jo)&&!(n instanceof Br)}var vM=new M("");function Pp(n,...e){return Jd([{provide:us,multi:!0,useValue:n},[],{provide:Wn,useFactory:yM,deps:[Jl]},{provide:Bf,multi:!0,useFactory:_M},e.map(t=>t.\u0275providers)])}function yM(n){return n.routerState.root}function _M(){let n=y(Ke);return e=>{let t=n.get(vn);if(e!==t.components[0])return;let i=n.get(Jl),r=n.get(CM);n.get(DM)===1&&i.initialNavigation(),n.get(wM,null,z.Optional)?.setUpPreloading(),n.get(vM,null,z.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var CM=new M("",{factory:()=>new re}),DM=new M("",{providedIn:"root",factory:()=>1});var wM=new M("");var l0=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(X(Vo),X(Ge))};static \u0275dir=De({type:n})}return n})(),EM=(()=>{class n extends l0{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=De({type:n,features:[Ln]})}return n})(),ic=new M("");var SM={provide:ic,useExisting:kn(()=>qn),multi:!0};function TM(){let n=It()?It().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var IM=new M(""),qn=(()=>{class n extends l0{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!TM())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(X(Vo),X(Ge),X(IM,8))};static \u0275dir=De({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&oe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Ar([SM]),Ln]})}return n})();var c0=new M(""),MM=new M("");function u0(n){return n!=null}function d0(n){return bi(n)?ve(n):n}function f0(n){let e={};return n.forEach(t=>{e=t!=null?D(D({},e),t):e}),Object.keys(e).length===0?null:e}function p0(n,e){return e.map(t=>t(n))}function xM(n){return!n.validate}function h0(n){return n.map(e=>xM(e)?e:t=>e.validate(t))}function NM(n){if(!n)return null;let e=n.filter(u0);return e.length==0?null:function(t){return f0(p0(t,e))}}function g0(n){return n!=null?NM(h0(n)):null}function AM(n){if(!n)return null;let e=n.filter(u0);return e.length==0?null:function(t){let i=p0(t,e).map(d0);return Eu(i).pipe(F(f0))}}function m0(n){return n!=null?AM(h0(n)):null}function t0(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RM(n){return n._rawValidators}function OM(n){return n._rawAsyncValidators}function kp(n){return n?Array.isArray(n)?n:[n]:[]}function ec(n,e){return Array.isArray(n)?n.includes(e):n===e}function n0(n,e){let t=kp(e);return kp(n).forEach(r=>{ec(t,r)||t.push(r)}),t}function i0(n,e){return kp(e).filter(t=>!ec(n,t))}var tc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=g0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=m0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Fp=class extends tc{name;get formDirective(){return null}get path(){return null}},gs=class extends tc{_parent=null;name=null;valueAccessor=null},Lp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},PM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},N3=B(D({},PM),{"[class.ng-submitted]":"isSubmitted"}),qr=(()=>{class n extends Lp{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(X(gs,2))};static \u0275dir=De({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&tt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ln]})}return n})();var ds="VALID",Xl="INVALID",jr="PENDING",fs="DISABLED",zr=class{},nc=class extends zr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ps=class extends zr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},hs=class extends zr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Wr=class extends zr{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function kM(n){return(rc(n)?n.validators:n)||null}function FM(n){return Array.isArray(n)?g0(n):n||null}function LM(n,e){return(rc(e)?e.asyncValidators:n)||null}function VM(n){return Array.isArray(n)?m0(n):n||null}function rc(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var Vp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Hn(this.statusReactive)}set status(e){Hn(()=>this.statusReactive.set(e))}_status=gl(()=>this.statusReactive());statusReactive=il(void 0);get valid(){return this.status===ds}get invalid(){return this.status===Xl}get pending(){return this.status==jr}get disabled(){return this.status===fs}get enabled(){return this.status!==fs}errors;get pristine(){return Hn(this.pristineReactive)}set pristine(e){Hn(()=>this.pristineReactive.set(e))}_pristine=gl(()=>this.pristineReactive());pristineReactive=il(!0);get dirty(){return!this.pristine}get touched(){return Hn(this.touchedReactive)}set touched(e){Hn(()=>this.touchedReactive.set(e))}_touched=gl(()=>this.touchedReactive());touchedReactive=il(!1);get untouched(){return!this.touched}_events=new re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(n0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(n0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(i0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(i0(e,this._rawAsyncValidators))}hasValidator(e){return ec(this._rawValidators,e)}hasAsyncValidator(e){return ec(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(B(D({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new hs(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new hs(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(B(D({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ps(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new ps(!0,i))}markAsPending(e={}){this.status=jr;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wr(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(B(D({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=fs,this.errors=null,this._forEachChild(r=>{r.disable(B(D({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,i)),this._events.next(new Wr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(D({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ds,this._forEachChild(i=>{i.enable(B(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(B(D({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ds||this.status===jr)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,t)),this._events.next(new Wr(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(B(D({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fs:ds}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=jr,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=d0(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Wr(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new J,this.statusChanges=new J}_calculateStatus(){return this._allControlsDisabled()?fs:this.errors?Xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jr)?jr:this._anyControlsHaveStatus(Xl)?Xl:ds}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new ps(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new hs(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=FM(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=VM(this._rawAsyncValidators)}};var v0=new M("",{providedIn:"root",factory:()=>Bp}),Bp="always";function BM(n,e){return[...e.path,n]}function UM(n,e,t=Bp){$M(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),GM(n,e),WM(n,e),jM(n,e),HM(n,e)}function r0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function HM(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function $M(n,e){let t=RM(n);e.validator!==null?n.setValidators(t0(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=OM(n);e.asyncValidator!==null?n.setAsyncValidators(t0(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();r0(e._rawValidators,r),r0(e._rawAsyncValidators,r)}function GM(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&y0(n,e)})}function jM(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&y0(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function y0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WM(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function zM(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function qM(n){return Object.getPrototypeOf(n.constructor)===EM}function YM(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===qn?t=o:qM(o)?i=o:r=o}),r||i||t||null}function o0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function s0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var KM=class extends Vp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(kM(t),LM(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(s0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){o0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){o0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){s0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ZM={provide:gs,useExisting:kn(()=>Ai)},a0=Promise.resolve(),Ai=(()=>{class n extends gs{_changeDetectorRef;callSetDisabledState;control=new KM;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new J;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=YM(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),zM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){UM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){a0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Kf(i);a0.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?BM(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(X(Fp,9),X(c0,10),X(MM,10),X(ic,10),X(sn,8),X(v0,8))};static \u0275dir=De({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ar([ZM]),Ln,gt]})}return n})();var QM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Et({})}return n})();var Yr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:v0,useValue:t.callSetDisabledState??Bp}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Et({imports:[QM]})}return n})();var Ie="top",je="bottom",Le="right",Ae="left",oc="auto",Yn=[Ie,je,Le,Ae],Sn="start",Ri="end",_0="clippingParents",sc="viewport",Kr="popper",C0="reference",Hp=Yn.reduce(function(n,e){return n.concat([e+"-"+Sn,e+"-"+Ri])},[]),ac=[].concat(Yn,[oc]).reduce(function(n,e){return n.concat([e,e+"-"+Sn,e+"-"+Ri])},[]),JM="beforeRead",XM="read",ex="afterRead",tx="beforeMain",nx="main",ix="afterMain",rx="beforeWrite",ox="write",sx="afterWrite",D0=[JM,XM,ex,tx,nx,ix,rx,ox,sx];function Ve(n){return n?(n.nodeName||"").toLowerCase():null}function _e(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Mt(n){var e=_e(n).Element;return n instanceof e||n instanceof Element}function Re(n){var e=_e(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Zr(n){if(typeof ShadowRoot>"u")return!1;var e=_e(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function ax(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!Re(o)||!Ve(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function lx(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,d){return l[d]="",l},{});!Re(r)||!Ve(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var w0={name:"applyStyles",enabled:!0,phase:"write",fn:ax,effect:lx,requires:["computeStyles"]};function Be(n){return n.split("-")[0]}var Wt=Math.max,Oi=Math.min,Tn=Math.round;function Qr(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ms(){return!/^((?!chrome|android).)*safari/i.test(Qr())}function xt(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,o=1;e&&Re(n)&&(r=n.offsetWidth>0&&Tn(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Tn(i.height)/n.offsetHeight||1);var s=Mt(n)?_e(n):window,a=s.visualViewport,l=!ms()&&t,d=(i.left+(l&&a?a.offsetLeft:0))/r,f=(i.top+(l&&a?a.offsetTop:0))/o,p=i.width/r,g=i.height/o;return{width:p,height:g,top:f,right:d+p,bottom:f+g,left:d,x:d,y:f}}function Pi(n){var e=xt(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function vs(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Zr(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function nt(n){return _e(n).getComputedStyle(n)}function $p(n){return["table","td","th"].indexOf(Ve(n))>=0}function We(n){return((Mt(n)?n.ownerDocument:n.document)||window.document).documentElement}function In(n){return Ve(n)==="html"?n:n.assignedSlot||n.parentNode||(Zr(n)?n.host:null)||We(n)}function b0(n){return!Re(n)||nt(n).position==="fixed"?null:n.offsetParent}function cx(n){var e=/firefox/i.test(Qr()),t=/Trident/i.test(Qr());if(t&&Re(n)){var i=nt(n);if(i.position==="fixed")return null}var r=In(n);for(Zr(r)&&(r=r.host);Re(r)&&["html","body"].indexOf(Ve(r))<0;){var o=nt(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function zt(n){for(var e=_e(n),t=b0(n);t&&$p(t)&&nt(t).position==="static";)t=b0(t);return t&&(Ve(t)==="html"||Ve(t)==="body"&&nt(t).position==="static")?e:t||cx(n)||e}function ki(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Fi(n,e,t){return Wt(n,Oi(e,t))}function E0(n,e,t){var i=Fi(n,e,t);return i>t?t:i}function ys(){return{top:0,right:0,bottom:0,left:0}}function _s(n){return Object.assign({},ys(),n)}function Cs(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var ux=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,_s(typeof e!="number"?e:Cs(e,Yn))};function dx(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Be(t.placement),l=ki(a),d=[Ae,Le].indexOf(a)>=0,f=d?"height":"width";if(!(!o||!s)){var p=ux(r.padding,t),g=Pi(o),h=l==="y"?Ie:Ae,m=l==="y"?je:Le,v=t.rects.reference[f]+t.rects.reference[l]-s[l]-t.rects.popper[f],_=s[l]-t.rects.reference[l],C=zt(o),b=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,S=v/2-_/2,w=p[h],N=b-g[f]-p[m],V=b/2-g[f]/2+S,K=Fi(w,V,N),te=l;t.modifiersData[i]=(e={},e[te]=K,e.centerOffset=K-V,e)}}function fx(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||vs(e.elements.popper,r)&&(e.elements.arrow=r))}var Gp={name:"arrow",enabled:!0,phase:"main",fn:dx,effect:fx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nt(n){return n.split("-")[1]}var px={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hx(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Tn(t*r)/r||0,y:Tn(i*r)/r||0}}function S0(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,d=n.adaptive,f=n.roundOffsets,p=n.isFixed,g=s.x,h=g===void 0?0:g,m=s.y,v=m===void 0?0:m,_=typeof f=="function"?f({x:h,y:v}):{x:h,y:v};h=_.x,v=_.y;var C=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),S=Ae,w=Ie,N=window;if(d){var V=zt(t),K="clientHeight",te="clientWidth";if(V===_e(t)&&(V=We(t),nt(V).position!=="static"&&a==="absolute"&&(K="scrollHeight",te="scrollWidth")),V=V,r===Ie||(r===Ae||r===Le)&&o===Ri){w=je;var ge=p&&V===N&&N.visualViewport?N.visualViewport.height:V[K];v-=ge-i.height,v*=l?1:-1}if(r===Ae||(r===Ie||r===je)&&o===Ri){S=Le;var le=p&&V===N&&N.visualViewport?N.visualViewport.width:V[te];h-=le-i.width,h*=l?1:-1}}var Me=Object.assign({position:a},d&&px),it=f===!0?hx({x:h,y:v},_e(t)):{x:h,y:v};if(h=it.x,v=it.y,l){var Oe;return Object.assign({},Me,(Oe={},Oe[w]=b?"0":"",Oe[S]=C?"0":"",Oe.transform=(N.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",Oe))}return Object.assign({},Me,(e={},e[w]=b?v+"px":"",e[S]=C?h+"px":"",e.transform="",e))}function gx(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,d={placement:Be(e.placement),variation:Nt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,S0(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,S0(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var T0={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gx,data:{}};var lc={passive:!0};function mx(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=_e(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(f){f.addEventListener("scroll",t.update,lc)}),a&&l.addEventListener("resize",t.update,lc),function(){o&&d.forEach(function(f){f.removeEventListener("scroll",t.update,lc)}),a&&l.removeEventListener("resize",t.update,lc)}}var I0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mx,data:{}};var vx={left:"right",right:"left",bottom:"top",top:"bottom"};function Jr(n){return n.replace(/left|right|bottom|top/g,function(e){return vx[e]})}var yx={start:"end",end:"start"};function cc(n){return n.replace(/start|end/g,function(e){return yx[e]})}function Li(n){var e=_e(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Vi(n){return xt(We(n)).left+Li(n).scrollLeft}function jp(n,e){var t=_e(n),i=We(n),r=t.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var d=ms();(d||!d&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Vi(n),y:l}}function Wp(n){var e,t=We(n),i=Li(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=Wt(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Wt(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Vi(n),l=-i.scrollTop;return nt(r||t).direction==="rtl"&&(a+=Wt(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Bi(n){var e=nt(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function uc(n){return["html","body","#document"].indexOf(Ve(n))>=0?n.ownerDocument.body:Re(n)&&Bi(n)?n:uc(In(n))}function Kn(n,e){var t;e===void 0&&(e=[]);var i=uc(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=_e(i),s=r?[o].concat(o.visualViewport||[],Bi(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(Kn(In(s)))}function Xr(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function _x(n,e){var t=xt(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function M0(n,e,t){return e===sc?Xr(jp(n,t)):Mt(e)?_x(e,t):Xr(Wp(We(n)))}function Cx(n){var e=Kn(In(n)),t=["absolute","fixed"].indexOf(nt(n).position)>=0,i=t&&Re(n)?zt(n):n;return Mt(i)?e.filter(function(r){return Mt(r)&&vs(r,i)&&Ve(r)!=="body"}):[]}function zp(n,e,t,i){var r=e==="clippingParents"?Cx(n):[].concat(e),o=[].concat(r,[t]),s=o[0],a=o.reduce(function(l,d){var f=M0(n,d,i);return l.top=Wt(f.top,l.top),l.right=Oi(f.right,l.right),l.bottom=Oi(f.bottom,l.bottom),l.left=Wt(f.left,l.left),l},M0(n,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ds(n){var e=n.reference,t=n.element,i=n.placement,r=i?Be(i):null,o=i?Nt(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case Ie:l={x:s,y:e.y-t.height};break;case je:l={x:s,y:e.y+e.height};break;case Le:l={x:e.x+e.width,y:a};break;case Ae:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var d=r?ki(r):null;if(d!=null){var f=d==="y"?"height":"width";switch(o){case Sn:l[d]=l[d]-(e[f]/2-t[f]/2);break;case Ri:l[d]=l[d]+(e[f]/2-t[f]/2);break;default:}}return l}function Zn(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.strategy,s=o===void 0?n.strategy:o,a=t.boundary,l=a===void 0?_0:a,d=t.rootBoundary,f=d===void 0?sc:d,p=t.elementContext,g=p===void 0?Kr:p,h=t.altBoundary,m=h===void 0?!1:h,v=t.padding,_=v===void 0?0:v,C=_s(typeof _!="number"?_:Cs(_,Yn)),b=g===Kr?C0:Kr,S=n.rects.popper,w=n.elements[m?b:g],N=zp(Mt(w)?w:w.contextElement||We(n.elements.popper),l,f,s),V=xt(n.elements.reference),K=Ds({reference:V,element:S,strategy:"absolute",placement:r}),te=Xr(Object.assign({},S,K)),ge=g===Kr?te:V,le={top:N.top-ge.top+C.top,bottom:ge.bottom-N.bottom+C.bottom,left:N.left-ge.left+C.left,right:ge.right-N.right+C.right},Me=n.modifiersData.offset;if(g===Kr&&Me){var it=Me[r];Object.keys(le).forEach(function(Oe){var Ot=[Le,je].indexOf(Oe)>=0?1:-1,ti=[Ie,je].indexOf(Oe)>=0?"y":"x";le[Oe]+=it[ti]*Ot})}return le}function qp(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,d=l===void 0?ac:l,f=Nt(i),p=f?a?Hp:Hp.filter(function(m){return Nt(m)===f}):Yn,g=p.filter(function(m){return d.indexOf(m)>=0});g.length===0&&(g=p);var h=g.reduce(function(m,v){return m[v]=Zn(n,{placement:v,boundary:r,rootBoundary:o,padding:s})[Be(v)],m},{});return Object.keys(h).sort(function(m,v){return h[m]-h[v]})}function Dx(n){if(Be(n)===oc)return[];var e=Jr(n);return[cc(n),e,cc(e)]}function wx(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,d=t.padding,f=t.boundary,p=t.rootBoundary,g=t.altBoundary,h=t.flipVariations,m=h===void 0?!0:h,v=t.allowedAutoPlacements,_=e.options.placement,C=Be(_),b=C===_,S=l||(b||!m?[Jr(_)]:Dx(_)),w=[_].concat(S).reduce(function(Ui,Mn){return Ui.concat(Be(Mn)===oc?qp(e,{placement:Mn,boundary:f,rootBoundary:p,padding:d,flipVariations:m,allowedAutoPlacements:v}):Mn)},[]),N=e.rects.reference,V=e.rects.popper,K=new Map,te=!0,ge=w[0],le=0;le<w.length;le++){var Me=w[le],it=Be(Me),Oe=Nt(Me)===Sn,Ot=[Ie,je].indexOf(it)>=0,ti=Ot?"width":"height",dt=Zn(e,{placement:Me,boundary:f,rootBoundary:p,altBoundary:g,padding:d}),Pt=Ot?Oe?Le:Ae:Oe?je:Ie;N[ti]>V[ti]&&(Pt=Jr(Pt));var xs=Jr(Pt),ni=[];if(o&&ni.push(dt[it]<=0),a&&ni.push(dt[Pt]<=0,dt[xs]<=0),ni.every(function(Ui){return Ui})){ge=Me,te=!1;break}K.set(Me,ni)}if(te)for(var Ns=m?3:1,jc=function(Mn){var so=w.find(function(Rs){var ii=K.get(Rs);if(ii)return ii.slice(0,Mn).every(function(Wc){return Wc})});if(so)return ge=so,"break"},oo=Ns;oo>0;oo--){var As=jc(oo);if(As==="break")break}e.placement!==ge&&(e.modifiersData[i]._skip=!0,e.placement=ge,e.reset=!0)}}var Yp={name:"flip",enabled:!0,phase:"main",fn:wx,requiresIfExists:["offset"],data:{_skip:!1}};function bx(n,e,t){var i=Be(n),r=[Ae,Ie].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Ae,Le].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function Ex(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,s=ac.reduce(function(f,p){return f[p]=bx(p,e.rects,o),f},{}),a=s[e.placement],l=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=s}var Kp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ex};function Sx(n){var e=n.state,t=n.name;e.modifiersData[t]=Ds({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var x0={name:"popperOffsets",enabled:!0,phase:"read",fn:Sx,data:{}};function Zp(n){return n==="x"?"y":"x"}function Tx(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,d=t.rootBoundary,f=t.altBoundary,p=t.padding,g=t.tether,h=g===void 0?!0:g,m=t.tetherOffset,v=m===void 0?0:m,_=Zn(e,{boundary:l,rootBoundary:d,padding:p,altBoundary:f}),C=Be(e.placement),b=Nt(e.placement),S=!b,w=ki(C),N=Zp(w),V=e.modifiersData.popperOffsets,K=e.rects.reference,te=e.rects.popper,ge=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,le=typeof ge=="number"?{mainAxis:ge,altAxis:ge}:Object.assign({mainAxis:0,altAxis:0},ge),Me=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,it={x:0,y:0};if(V){if(o){var Oe,Ot=w==="y"?Ie:Ae,ti=w==="y"?je:Le,dt=w==="y"?"height":"width",Pt=V[w],xs=Pt+_[Ot],ni=Pt-_[ti],Ns=h?-te[dt]/2:0,jc=b===Sn?K[dt]:te[dt],oo=b===Sn?-te[dt]:-K[dt],As=e.elements.arrow,Ui=h&&As?Pi(As):{width:0,height:0},Mn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ys(),so=Mn[Ot],Rs=Mn[ti],ii=Fi(0,K[dt],Ui[dt]),Wc=S?K[dt]/2-Ns-ii-so-le.mainAxis:jc-ii-so-le.mainAxis,YC=S?-K[dt]/2+Ns+ii+Rs+le.mainAxis:oo+ii+Rs+le.mainAxis,zc=e.elements.arrow&&zt(e.elements.arrow),KC=zc?w==="y"?zc.clientTop||0:zc.clientLeft||0:0,Hh=(Oe=Me?.[w])!=null?Oe:0,ZC=Pt+Wc-Hh-KC,QC=Pt+YC-Hh,$h=Fi(h?Oi(xs,ZC):xs,Pt,h?Wt(ni,QC):ni);V[w]=$h,it[w]=$h-Pt}if(a){var Gh,JC=w==="x"?Ie:Ae,XC=w==="x"?je:Le,ri=V[N],Os=N==="y"?"height":"width",jh=ri+_[JC],Wh=ri-_[XC],qc=[Ie,Ae].indexOf(C)!==-1,zh=(Gh=Me?.[N])!=null?Gh:0,qh=qc?jh:ri-K[Os]-te[Os]-zh+le.altAxis,Yh=qc?ri+K[Os]+te[Os]-zh-le.altAxis:Wh,Kh=h&&qc?E0(qh,ri,Yh):Fi(h?qh:jh,ri,h?Yh:Wh);V[N]=Kh,it[N]=Kh-ri}e.modifiersData[i]=it}}var Qp={name:"preventOverflow",enabled:!0,phase:"main",fn:Tx,requiresIfExists:["offset"]};function Jp(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Xp(n){return n===_e(n)||!Re(n)?Li(n):Jp(n)}function Ix(n){var e=n.getBoundingClientRect(),t=Tn(e.width)/n.offsetWidth||1,i=Tn(e.height)/n.offsetHeight||1;return t!==1||i!==1}function eh(n,e,t){t===void 0&&(t=!1);var i=Re(e),r=Re(e)&&Ix(e),o=We(e),s=xt(n,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Ve(e)!=="body"||Bi(o))&&(a=Xp(e)),Re(e)?(l=xt(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Vi(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Mx(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function th(n){var e=Mx(n);return D0.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function nh(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function ih(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var N0={placement:"bottom",modifiers:[],strategy:"absolute"};function A0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function R0(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?N0:r;return function(a,l,d){d===void 0&&(d=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},N0,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],g=!1,h={state:f,setOptions:function(C){var b=typeof C=="function"?C(f.options):C;v(),f.options=Object.assign({},o,f.options,b),f.scrollParents={reference:Mt(a)?Kn(a):a.contextElement?Kn(a.contextElement):[],popper:Kn(l)};var S=th(ih([].concat(i,f.options.modifiers)));return f.orderedModifiers=S.filter(function(w){return w.enabled}),m(),h.update()},forceUpdate:function(){if(!g){var C=f.elements,b=C.reference,S=C.popper;if(A0(b,S)){f.rects={reference:eh(b,zt(S),f.options.strategy==="fixed"),popper:Pi(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(le){return f.modifiersData[le.name]=Object.assign({},le.data)});for(var w=0;w<f.orderedModifiers.length;w++){if(f.reset===!0){f.reset=!1,w=-1;continue}var N=f.orderedModifiers[w],V=N.fn,K=N.options,te=K===void 0?{}:K,ge=N.name;typeof V=="function"&&(f=V({state:f,options:te,name:ge,instance:h})||f)}}}},update:nh(function(){return new Promise(function(_){h.forceUpdate(),_(f)})}),destroy:function(){v(),g=!0}};if(!A0(a,l))return h;h.setOptions(d).then(function(_){!g&&d.onFirstUpdate&&d.onFirstUpdate(_)});function m(){f.orderedModifiers.forEach(function(_){var C=_.name,b=_.options,S=b===void 0?{}:b,w=_.effect;if(typeof w=="function"){var N=w({state:f,name:C,instance:h,options:S}),V=function(){};p.push(N||V)}})}function v(){p.forEach(function(_){return _()}),p=[]}return h}}var xx=[I0,x0,T0,w0],rh=R0({defaultModifiers:xx});var Nx=["*"];function Ax(n,e){if(n&1&&Q(0),n&2){let t=de(2);Gt(t.title)}}function Rx(n,e){}function Ox(n,e){if(n&1&&(A(0,"h3",2),Te(1,Ax,1,1,"ng-template",null,0,Un)(3,Rx,0,0,"ng-template",4),x()),n&2){let t=Cn(2),i=de();O(3),Z("ngTemplateOutlet",i.isTitleTemplate()?i.title:t)("ngTemplateOutletContext",i.context)}}function Px(n,e){if(n&1&&(A(0,"span"),Q(1),x()),n&2){let t=de().$implicit,i=de();Mr(i.highlightClass),O(),Gt(t)}}function kx(n,e){if(n&1&&(jf(0),Q(1),Wf()),n&2){let t=de().$implicit;O(),Gt(t)}}function Fx(n,e){if(n&1&&Te(0,Px,2,4,"span",0)(1,kx,2,1,"ng-container"),n&2){let t=e.$index;Uf(t%2!==0?0:1)}}var Lx=(n,e,t)=>({result:n,term:e,formatter:t});function Vx(n,e){if(n&1&&we(0,"ngb-highlight",2),n&2){let t=e.result,i=e.term,r=e.formatter;Z("result",r(t))("term",i)}}function Bx(n,e){}function Ux(n,e){if(n&1){let t=mt();A(0,"button",3),oe("mouseenter",function(){let r=ce(t).$index,o=de();return ue(o.markActive(r))})("click",function(){let r=ce(t).$implicit,o=de();return ue(o.select(r))}),Te(1,Bx,0,0,"ng-template",4),x()}if(n&2){let t=e.$implicit,i=e.$index,r=de(),o=Cn(1);tt("active",i===r.activeIdx),Z("id",r.id+"-"+i),O(),Z("ngTemplateOutlet",r.resultTemplate||o)("ngTemplateOutletContext",By(5,Lx,t,r.term,r.formatter))}}var V0={animation:!0,transitionTimerDelayMs:5},B0=(()=>{class n{constructor(){this.animation=V0.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hx(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function bs(n){return n!=null?`${n}`:""}function $x(n){return typeof n=="string"}function Gx(n){return n!=null}function jx(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Wx(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}function zx(n){return(n||document.body).getBoundingClientRect()}function qx(n){return e=>new G(t=>{let i=s=>n.run(()=>t.next(s)),r=s=>n.run(()=>t.error(s)),o=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:o})})}function O0(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function U0(n=document){let e=n?.activeElement;return e?e.shadowRoot?U0(e.shadowRoot):e:null}var Yx=()=>{},{transitionTimerDelayMs:Kx}=V0,dc=new Map,oh=(n,e,t,i)=>{let r=i.context||{},o=dc.get(e);if(o)switch(i.runningTransition){case"continue":return Pe;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),dc.delete(e)}let s=t(e,i.animation,r)||Yx;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>s()),P(void 0).pipe(qx(n));let a=new re,l=new re,d=a.pipe(Mu(!0));dc.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let f=Hx(e);return n.runOutsideAngular(()=>{let p=Ft(e,"transitionend").pipe(Zt(d),$e(({target:h})=>h===e)),g=go(f+Kx).pipe(Zt(d));fa(g,p,l).pipe(Zt(d)).subscribe(()=>{dc.delete(e),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};function Zx(n,e){if(typeof navigator>"u")return"0px";let{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";let r=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),r}var Qx=(n,e,t)=>{let{direction:i,maxSize:r,dimension:o}=t,{classList:s}=n;function a(){s.add("collapse"),i==="show"?s.add("show"):s.remove("show")}if(!e){a();return}return r||(r=Zx(n,o),t.maxSize=r,n.style[o]=i!=="show"?r:"0px",s.remove("collapse","collapsing","show"),zx(n),s.add("collapsing")),n.style[o]=i==="show"?r:"0px",()=>{a(),s.remove("collapsing"),n.style[o]=""}},Jx=(()=>{class n{constructor(){this._ngbConfig=y(B0),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),H0=(()=>{class n{constructor(){this._config=y(Jx),this._element=y(Ge),this._zone=y(he),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new J,this.horizontal=this._config.horizontal,this.shown=new J,this.hidden=new J}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,i){return oh(this._zone,this._element.nativeElement,Qx,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){i&2&&tt("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]})}}return n})();var $0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=St({type:n})}static{this.\u0275inj=Et({})}}return n})();var fc=(n,e)=>e?e.some(t=>t.contains(n)):!1,P0=(n,e)=>!e||Wx(n,e)!=null,Xx=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})(),eN=n=>Xx?()=>setTimeout(()=>n(),100):n;function ah(n,e,t,i,r,o,s,a){t&&n.runOutsideAngular(eN(()=>{let l=g=>{let h=g.target;return g.button===2||fc(h,s)?!1:t==="inside"?fc(h,o)&&P0(h,a):t==="outside"?!fc(h,o):P0(h,a)||!fc(h,o)},d=Ft(e,"keydown").pipe(Zt(r),$e(g=>g.key==="Escape"),Se(g=>g.preventDefault())),f=Ft(e,"mousedown").pipe(F(l),Zt(r)),p=Ft(e,"mouseup").pipe(Au(f),$e(([g,h])=>h),Iu(0),Zt(r));fa([d.pipe(F(g=>0)),p.pipe(F(g=>1))]).subscribe(g=>n.run(()=>i(g)))}))}var tN=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var nN=(()=>{class n{constructor(){this._element=y(be).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iN=/\s+/,rN=/  +/gi,oN={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function sN(n,e){let[t,i]=oN[n];return e&&i||t}var aN=/^left/,lN=/^right/,cN=/^start/,uN=/^end/;function dN(n,e){let[t,i]=e.split("-"),r=t.replace(aN,"start").replace(lN,"end"),o=[r];if(i){let s=i;(t==="left"||t==="right")&&(s=s.replace(cN,"top").replace(uN,"bottom")),o.push(`${r}-${s}`)}return n&&(o=o.map(s=>`${n}-${s}`)),o.join(" ")}function k0({placement:n,baseClass:e},t){let i=Array.isArray(n)?n:n.split(iN),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],o=i.findIndex(d=>d==="auto");o>=0&&r.forEach(function(d){i.find(f=>f.search("^"+d)!==-1)==null&&i.splice(o++,1,d)});let s=i.map(d=>sN(d,t.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:d}){let f=new RegExp(e+"(-[a-z]+)*","gi"),p=d.elements.popper,g=d.placement,h=p.className;h=h.replace(f,""),h+=` ${dN(e,g)}`,h=h.trim().replace(rN," "),p.className=h}},Yp,Qp,Gp,{enabled:!0,name:"flip",options:{fallbackPlacements:s}}]}}function F0(n){return n}function lh(){let n=y(nN),e=null;return{createPopper(t){if(!e){let r=(t.updatePopperOptions||F0)(k0(t,n));e=rh(t.hostElement,t.targetElement,r)}},update(){e&&e.update()},setOptions(t){if(e){let r=(t.updatePopperOptions||F0)(k0(t,n));e.setOptions(r)}},destroy(){e&&(e.destroy(),e=null)}}}function ch(n){return e=>(e.modifiers.push(Kp,{name:"offset",options:{offset:()=>n}}),e)}var rq=new Date(1882,10,12),oq=new Date(2174,10,25);var sq=1e3*60*60*24;var uh=1080,fN=24*uh,pN=12*uh+793,aq=29*fN+pN,lq=11*uh+204;var hN=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.container=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hc=(()=>{class n{constructor(){this._disabled=!1,this.nativeElement=y(Ge).nativeElement,this.tabindex=0}set disabled(t){this._disabled=t===""||t===!0}get disabled(){return this._disabled}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(i,r){i&2&&(Ei("tabIndex",r.disabled?-1:r.tabindex),tt("disabled",r.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"}})}}return n})(),G0=(()=>{class n{constructor(){this.item=y(hc)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ei("disabled",r.item.disabled)}})}}return n})(),dh=(()=>{class n{constructor(){this.dropdown=y(gc),this.nativeElement=y(Ge).nativeElement}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(i,r,o){if(i&1&&pl(o,hc,4),i&2){let s;xr(s=Nr())&&(r.menuItems=s)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(i,r){i&1&&oe("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return r.dropdown.onKeyDown(s)})("keydown.Space",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),i&2&&tt("show",r.dropdown.isOpen())}})}}return n})(),sh=(()=>{class n{constructor(){this.dropdown=y(gc),this.nativeElement=y(Ge).nativeElement}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,r){i&2&&(Vn("aria-expanded",r.dropdown.isOpen()),tt("show",r.dropdown.isOpen()))}})}}return n})(),j0=(()=>{class n extends sh{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,r){i&1&&oe("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),i&2&&(Vn("aria-expanded",r.dropdown.isOpen()),tt("show",r.dropdown.isOpen()))},features:[Ar([{provide:sh,useExisting:kn(()=>n)}]),Ln]})}}return n})(),gc=(()=>{class n{constructor(){this._changeDetector=y(sn),this._config=y(hN),this._document=y(be),this._injector=y(Ke),this._ngZone=y(he),this._nativeElement=y(Ge).nativeElement,this._destroyCloseHandlers$=new re,this._bodyContainer=null,this._positioning=lh(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new J}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){Po({write:()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()}},{injector:this._injector})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),t.dropdownClass){let{currentValue:i,previousValue:r}=t.dropdownClass;this._applyCustomDropdownClass(i,r)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),this.display==="dynamic"&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:t=>this.popperOptions(ch([0,2])(t))}),this._applyPlacementClasses(),this._afterRenderRef=Oo({write:()=>{this._positionMenu()}},{injector:this._injector})})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),ah(this._ngZone,this._document,this.autoClose,t=>{this.close(),t===0&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){let{key:i}=t,r=this._getMenuElements(),o=-1,s=null,a=this._isEventFromToggle(t);if(!a&&r.length&&r.forEach((l,d)=>{l.contains(t.target)&&(s=l),l===U0(this._document)&&(o=d)}),i===" "||i==="Enter"){s&&(this.autoClose===!0||this.autoClose==="inside")&&Ft(s,"click").pipe(Je(1)).subscribe(()=>this.close());return}if(i==="Tab"){if(t.target&&this.isOpen()&&this.autoClose)if(this._anchor.nativeElement===t.target){this.container==="body"&&!t.shiftKey?(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")):t.shiftKey&&this.close();return}else if(this.container==="body"){let l=this._menu.nativeElement.querySelectorAll(tN);t.shiftKey&&t.target===l[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Ft(t.target,"focusout").pipe(Je(1)).subscribe(({relatedTarget:l})=>{this._nativeElement.contains(l)||this.close()});return}if(a||s){if(this.open(),r.length){switch(i){case"ArrowDown":o=Math.min(o+1,r.length-1);break;case"ArrowUp":if(this._isDropup()&&o===-1){o=r.length-1;break}o=Math.max(o-1,0);break;case"Home":o=0;break;case"End":o=r.length-1;break}r[o].focus()}t.preventDefault()}}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:t})=>!t).map(({nativeElement:t})=>t):[]}_positionMenu(){let t=this._menu;this.isOpen()&&t&&(this.display==="dynamic"?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),t==="body"){let i=this._menu.nativeElement,r=this._bodyContainer=this._bodyContainer||this._document.createElement("div");r.style.position="absolute",i.style.position="static",r.style.zIndex="1055",r.appendChild(i),this._document.body.appendChild(r)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,i){let r=this.container==="body"?this._bodyContainer:this._nativeElement;r&&(i&&r.classList.remove(i),t&&r.classList.add(t))}_applyPlacementClasses(t){if(this._menu){t||(t=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),this.display==="static"?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");let i=t.search("^top")!==-1?"dropup":"dropdown";this._nativeElement.classList.add(i),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(i))}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(i,r,o){if(i&1&&(pl(o,dh,5),pl(o,sh,5)),i&2){let s;xr(s=Nr())&&(r._menu=s.first),xr(s=Nr())&&(r._anchor=s.first)}},hostVars:2,hostBindings:function(i,r){i&2&&tt("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[gt]})}}return n})();var W0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=St({type:n})}static{this.\u0275inj=Et({})}}return n})();var ws=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}},pc=class{constructor(e){this._componentType=e,this._windowRef=null,this._contentRef=null,this._document=y(be),this._applicationRef=y(vn),this._injector=y(Ke),this._viewContainerRef=y($t),this._ngZone=y(he)}open(e,t,i=!1){this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));let{nativeElement:r}=this._windowRef.location,o=new re;Po({mixedReadWrite:()=>{o.next(),o.complete()}},{injector:this._injector});let s=o.pipe(pe(()=>oh(this._ngZone,r,({classList:a})=>a.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:s}}close(e=!1){return this._windowRef?oh(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:e,runningTransition:"stop"}).pipe(Se(()=>{this._windowRef?.destroy(),this._contentRef?.viewRef?.destroy(),this._windowRef=null,this._contentRef=null})):P(void 0)}_getContentRef(e,t){if(e)if(e instanceof rn){let i=e.createEmbeddedView(t);return this._applicationRef.attachView(i),new ws([i.rootNodes],i)}else return new ws([[this._document.createTextNode(`${e}`)]]);else return new ws([])}};var gN={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function mN(n){let e=(n||"").trim();if(e.length===0)return[];let t=e.split(/\s+/).map(r=>r.split(":")).map(r=>gN[r[0]]||r),i=t.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(i.length===1&&t.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:t}function vN(n,e,t,i,r,o=0,s=0){let a=mN(e);if(a.length===0)return()=>{};let l=new Set,d=[],f;function p(h,m){n.addEventListener(h,m),d.push(()=>n.removeEventListener(h,m))}function g(h,m){clearTimeout(f),m>0?f=setTimeout(h,m):h()}for(let[h,m]of a)m?(p(h,()=>{l.add(h),g(()=>l.size>0&&i(),o)}),p(m,()=>{l.delete(h),g(()=>l.size===0&&r(),s)})):p(h,()=>t()?g(r,s):g(i,o));return()=>d.forEach(h=>h())}var yN=(()=>{class n{constructor(){this._ngbConfig=y(B0),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_N=0,CN=(()=>{class n{isTitleTemplate(){return this.title instanceof rn}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(i,r){i&2&&(Ei("id",r.id),Mr("popover"+(r.popoverClass?" "+r.popoverClass:"")),tt("fade",r.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:Nx,decls:4,vars:1,consts:[["simpleTitle",""],["data-popper-arrow","",1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(ky(),we(0,"div",1),Te(1,Ox,4,2,"h3",2),A(2,"div",3),Fy(3),x()),i&2&&(O(),Uf(r.title?1:-1))},dependencies:[_l],encapsulation:2,changeDetection:0})}}return n})(),z0=(()=>{class n{constructor(){this._config=y(yN),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new J,this.hidden=new J,this._nativeElement=y(Ge).nativeElement,this._ngZone=y(he),this._document=y(be),this._changeDetector=y(sn),this._injector=y(Ke),this._ngbPopoverWindowId=`ngb-popover-${_N++}`,this._popupService=new pc(CN),this._windowRef=null,this._positioning=lh()}open(t){if(!this._windowRef&&!this._isDisabled()){let{windowRef:i,transition$:r}=this._popupService.open(this.ngbPopover,t??this.popoverContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",t??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),this.container==="body"&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-popover",updatePopperOptions:o=>this.popperOptions(ch([0,8])(o))}),Promise.resolve().then(()=>{this._positioning.update()}),this._afterRenderRef=Oo({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector})}),ah(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(t=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return this._windowRef!=null}ngOnInit(){this._unregisterListenersFn=vN(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:i,disablePopover:r,popoverClass:o}){o&&this.isOpen()&&this._windowRef.setInput("popoverClass",o.currentValue),(t||i||r)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return this.disablePopover?!0:!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return($x(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[gt]})}}return n})(),q0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=St({type:n})}static{this.\u0275inj=Et({})}}return n})();var DN=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);let i=bs(this.result),r=Array.isArray(this.term)?this.term:[this.term],o=d=>this.accentSensitive?d:O0(d),s=r.map(d=>jx(o(bs(d)))).filter(d=>d),a=this.accentSensitive?i:O0(i),l=s.length?a.split(new RegExp(`(${s.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=l;else{let d=0;this.parts=l.map(f=>i.substring(d,d+=f.length))}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[gt],decls:2,vars:0,consts:[[3,"class"]],template:function(i,r){i&1&&$f(0,Fx,2,1,null,null,Hf),i&2&&Gf(r.parts)},styles:[`.ngb-highlight{font-weight:700}
`],encapsulation:2,changeDetection:0})}}return n})(),wN=new M("live announcer delay",{providedIn:"root",factory:()=>100});function L0(n,e=!1){let t=n.body.querySelector("#ngb-live");return t==null&&e&&(t=n.createElement("div"),t.setAttribute("id","ngb-live"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.classList.add("visually-hidden"),n.body.appendChild(t)),t}var bN=(()=>{class n{constructor(){this._document=y(be),this._delay=y(wN)}ngOnDestroy(){let t=L0(this._document);t&&t.parentElement.removeChild(t)}say(t){let i=L0(this._document,!0),r=this._delay;if(i!=null){i.textContent="";let o=()=>i.textContent=t;r===null?o():setTimeout(o,r)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),EN=(()=>{class n{constructor(){this.editable=!0,this.focusFirst=!0,this.selectOnExact=!1,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SN=(()=>{class n{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=bs,this.selectEvent=new J,this.activeChangeEvent=new J}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(t){this.activeIdx=t,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:this.activeIdx===0?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(t){this.selectEvent.emit(t)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(i,r){i&1&&oe("mousedown",function(s){return s.preventDefault()}),i&2&&(Ei("id",r.id),Mr("dropdown-menu show"+(r.popupClass?" "+r.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:4,vars:0,consts:[["rt",""],["type","button","role","option",1,"dropdown-item",3,"id","active"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(Te(0,Vx,1,2,"ng-template",null,0,Un),$f(2,Ux,2,9,"button",1,Hf)),i&2&&(O(2),Gf(r.results))},dependencies:[DN,_l],encapsulation:2})}}return n})(),TN=0,Y0=(()=>{class n{constructor(){this._nativeElement=y(Ge).nativeElement,this._config=y(EN),this._live=y(bN),this._document=y(be),this._ngZone=y(he),this._changeDetector=y(sn),this._injector=y(Ke),this._popupService=new pc(SN),this._positioning=lh(),this._subscription=null,this._closed$=new re,this._inputValueBackup=null,this._inputValueForSelectOnExact=null,this._valueChanges$=Ft(this._nativeElement,"input").pipe(F(t=>t.target.value)),this._resubscribeTypeahead$=new fe(null),this._windowRef=null,this.autocomplete="off",this.container=this._config.container,this.editable=this._config.editable,this.focusFirst=this._config.focusFirst,this.selectOnExact=this._config.selectOnExact,this.showHint=this._config.showHint,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.selectItem=new J,this.activeDescendant=null,this.popupId=`ngb-typeahead-${TN++}`,this._onTouched=()=>{},this._onChange=t=>{}}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:t}){t&&!t.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}writeValue(t){this._writeInputValue(this._formatItemForInput(t)),this.showHint&&(this._inputValueBackup=t)}setDisabledState(t){this._nativeElement.disabled=t}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead$.next(null),this._closePopup(),this.showHint&&this._inputValueBackup!==null&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return this._windowRef!=null}handleBlur(){this._resubscribeTypeahead$.next(null),this._onTouched()}handleKeyDown(t){if(this.isPopupOpen())switch(t.key){case"ArrowDown":t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case"ArrowUp":t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case"Enter":case"Tab":{let i=this._windowRef.instance.getActive();Gx(i)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(i)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._nativeElement.value;let{windowRef:t}=this._popupService.open();this._windowRef=t,this._windowRef.setInput("id",this.popupId),this._windowRef.setInput("popupClass",this.popupClass),this._windowRef.instance.selectEvent.subscribe(i=>this._selectResultClosePopup(i)),this._windowRef.instance.activeChangeEvent.subscribe(i=>this.activeDescendant=i),this.container==="body"&&(this._windowRef.location.nativeElement.style.zIndex="1055",this._document.body.appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,updatePopperOptions:i=>this.popperOptions(ch([0,2])(i))}),this._afterRenderRef=Oo({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector}))}),ah(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._afterRenderRef?.destroy(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(t){let i=!1;this.selectItem.emit({item:t,preventDefault:()=>{i=!0}}),this._resubscribeTypeahead$.next(null),i||(this.writeValue(t),this._onChange(t))}_selectResultClosePopup(t){this._selectResult(t),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&this._inputValueBackup!=null){let t=this._inputValueBackup.toLowerCase(),i=this._formatItemForInput(this._windowRef.instance.getActive());t===i.substring(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+i.substring(this._inputValueBackup.length)),this._nativeElement.setSelectionRange.apply(this._nativeElement,[this._inputValueBackup.length,i.length])):this._writeInputValue(i)}}_formatItemForInput(t){return t!=null&&this.inputFormatter?this.inputFormatter(t):bs(t)}_writeInputValue(t){this._nativeElement.value=bs(t)}_subscribeToUserInput(){let t=this._valueChanges$.pipe(Se(i=>{this._inputValueBackup=this.showHint?i:null,this._inputValueForSelectOnExact=this.selectOnExact?i:null,this._onChange(this.editable?i:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>P([]));this._subscription=this._resubscribeTypeahead$.pipe(ft(()=>t)).subscribe(i=>{!i||i.length===0?this._closePopup():this.selectOnExact&&i.length===1&&this._formatItemForInput(i[0])===this._inputValueForSelectOnExact?(this._selectResult(i[0]),this._closePopup()):(this._openPopup(),this._windowRef.setInput("focusFirst",this.focusFirst),this._windowRef.setInput("results",i),this._windowRef.setInput("term",this._nativeElement.value),this.resultFormatter&&this._windowRef.setInput("formatter",this.resultFormatter),this.resultTemplate&&this._windowRef.setInput("resultTemplate",this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint());let r=i?i.length:0;this._live.say(r===0?"No results available":`${r} result${r===1?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox"],hostVars:7,hostBindings:function(i,r){i&1&&oe("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)}),i&2&&(Ei("autocomplete",r.autocomplete),Vn("aria-autocomplete",r.showHint?"both":"list")("aria-activedescendant",r.activeDescendant)("aria-owns",r.isPopupOpen()?r.popupId:null)("aria-expanded",r.isPopupOpen()),tt("open",r.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",selectOnExact:"selectOnExact",showHint:"showHint",placement:"placement",popperOptions:"popperOptions",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[Ar([{provide:ic,useExisting:kn(()=>n),multi:!0}]),gt]})}}return n})(),K0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=St({type:n})}static{this.\u0275inj=Et({})}}return n})();var IN=["instance"],mc=class n{selectedLanguage=null;languageSelected=new J;instance;focus$=new re;click$=new re;model;languages=Zh;ngOnInit(){this.updateModel()}ngOnChanges(e){e.selectedLanguage&&this.updateModel()}updateModel(){this.selectedLanguage&&(this.model=this.selectedLanguage)}search=e=>{let t=e.pipe(Su(200),pa()),i=this.click$.pipe($e(()=>!this.instance.isPopupOpen())),r=this.focus$;return da(t,r,i).pipe(F(o=>o===""?this.languages.slice(0,10):(o=o.toLowerCase(),this.languages.filter(s=>s.name.toLowerCase().includes(o)||s.name_en.toLowerCase().includes(o)).slice(0,10))))};formatter=e=>`${e.flag} ${e.name}`;onSelectionChange(e){this.languageSelected.emit(e)}clearSelection(){this.model=null,this.languageSelected.emit(null)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-language-chooser"]],viewQuery:function(t,i){if(t&1&&qf(IN,7),t&2){let r;xr(r=Nr())&&(i.instance=r.first)}},inputs:{selectedLanguage:"selectedLanguage"},outputs:{languageSelected:"languageSelected"},features:[gt],decls:3,vars:4,consts:[["instance","ngbTypeahead"],[1,"language-chooser"],["id","language-typeahead","type","text","placeholder","Select language","aria-label","Select language",1,"form-control",3,"ngModelChange","focus","click","selectItem","ngModel","ngbTypeahead","inputFormatter","resultFormatter"]],template:function(t,i){if(t&1){let r=mt();A(0,"div",1)(1,"input",2,0),wn("ngModelChange",function(s){return ce(r),Bn(i.model,s)||(i.model=s),ue(s)}),oe("focus",function(s){return ce(r),ue(i.focus$.next(s.target.value))})("click",function(s){return ce(r),ue(i.click$.next(s.target.value))})("selectItem",function(s){return ce(r),ue(i.onSelectionChange(s.item))}),x()()}t&2&&(O(),Dn("ngModel",i.model),Z("ngbTypeahead",i.search)("inputFormatter",i.formatter)("resultFormatter",i.formatter))},dependencies:[an,Yr,qn,qr,Ai,K0,Y0],styles:[".language-chooser[_ngcontent-%COMP%]{width:100%}.language-chooser[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;border-radius:4px;padding:.375rem .75rem;font-size:1rem;line-height:1.5;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.language-chooser[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}  .dropdown-item{padding:.5rem 1rem}  .dropdown-item:hover,   .dropdown-item:focus{background-color:#f8f9fa}  .dropdown-item.active{background-color:#007bff;color:#fff}"]})};var Q0=[{id:"gemini-2.5-flash-preview-04-17",name:"Gemini 2.5 Flash"},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash"},{id:"gemini-2.5-pro-preview-03-25",name:"Gemini 2.5 Pro"},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash Lite"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash"}];var Qn=class n{LLM_MODEL_KEY="llm_model_id";LEARNING_LANGUAGE_KEY="learning_language_code";NATIVE_LANGUAGE_KEY="native_language_code";TEXT_CONTENT_KEY="text_content";LLM_API_KEY="llm_api_key";_selectedModelId=new fe(null);_learningLanguage=new fe(null);_nativeLanguage=new fe(null);_textContent=new fe("A short story for a 5 year old child");_llmApiKey=new fe("");constructor(){this.loadFromStorage()}get selectedModelId$(){return this._selectedModelId.asObservable()}get selectedModelId(){return this._selectedModelId.value}setSelectedModel(e){this._selectedModelId.next(e),e?localStorage.setItem(this.LLM_MODEL_KEY,e):localStorage.removeItem(this.LLM_MODEL_KEY)}get learningLanguage$(){return this._learningLanguage.asObservable()}get learningLanguage(){return this._learningLanguage.value}setLearningLanguage(e){this._learningLanguage.next(e),e?localStorage.setItem(this.LEARNING_LANGUAGE_KEY,e.code):localStorage.removeItem(this.LEARNING_LANGUAGE_KEY)}get nativeLanguage$(){return this._nativeLanguage.asObservable()}get nativeLanguage(){return this._nativeLanguage.value}setNativeLanguage(e){this._nativeLanguage.next(e),e?localStorage.setItem(this.NATIVE_LANGUAGE_KEY,e.code):localStorage.removeItem(this.NATIVE_LANGUAGE_KEY)}get textContent$(){return this._textContent.asObservable()}get textContent(){return this._textContent.value}setTextContent(e){this._textContent.next(e),localStorage.setItem(this.TEXT_CONTENT_KEY,e)}get llmApiKey$(){return this._llmApiKey.asObservable()}get llmApiKey(){return this._llmApiKey.value}setLlmApiKey(e){this._llmApiKey.next(e),localStorage.setItem(this.LLM_API_KEY,e)}loadFromStorage(){let e=localStorage.getItem(this.LLM_MODEL_KEY);e&&this._selectedModelId.next(e);let t=localStorage.getItem(this.LEARNING_LANGUAGE_KEY);t&&this.loadLanguageByCode(t,this._learningLanguage);let i=localStorage.getItem(this.NATIVE_LANGUAGE_KEY);i&&this.loadLanguageByCode(i,this._nativeLanguage);let r=localStorage.getItem(this.TEXT_CONTENT_KEY);r?this._textContent.next(r):localStorage.setItem(this.TEXT_CONTENT_KEY,this._textContent.value);let o=localStorage.getItem(this.LLM_API_KEY);o&&this._llmApiKey.next(o)}loadLanguageByCode(e,t){import("./chunk-C4F5F5EU.js").then(({languages:i})=>{let r=i.find(o=>o.code===e);r&&t.next(r)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};function MN(n,e){n&1&&Q(0," Select the AI model to use for generating content ")}function xN(n,e){if(n&1){let t=mt();A(0,"button",33),oe("click",function(){let r=ce(t).$implicit,o=de();return ue(o.onModelSelect(r.id))}),Q(1),x()}if(n&2){let t=e.$implicit,i=de();tt("active",i.selectedModelId===t.id),O(),Tt(" ",t.name," ")}}function NN(n,e){n&1&&we(0,"div",34)}function AN(n,e){if(n&1){let t=mt();A(0,"button",35),oe("click",function(){ce(t);let r=de();return ue(r.clearModelSelection())}),Q(1," Clear selection "),x()}}function RN(n,e){n&1&&(Q(0," Enter your Gemini API key to enable AI features. "),A(1,"a",36),Q(2," Get your free API key from Google AI Studio "),we(3,"i",37),x(),we(4,"br"),A(5,"strong"),Q(6,"Stored only in your browser."),x())}function ON(n,e){n&1&&Q(0," Select the language you want to learn ")}function PN(n,e){n&1&&Q(0," Select your native or fluent language ")}var vc=class n{constructor(e){this.settingsService=e}llmModels=Q0;selectedModelId=null;learningLanguage=null;nativeLanguage=null;llmApiKey="";hideApiKey=!0;isCollapsed=!0;textInput="";textInputChange=new J;ngOnInit(){this.selectedModelId=this.settingsService.selectedModelId,this.learningLanguage=this.settingsService.learningLanguage,this.nativeLanguage=this.settingsService.nativeLanguage,this.textInput=this.settingsService.textContent,this.llmApiKey=this.settingsService.llmApiKey,this.settingsService.selectedModelId$.subscribe(e=>{this.selectedModelId=e}),this.settingsService.learningLanguage$.subscribe(e=>{this.learningLanguage=e}),this.settingsService.nativeLanguage$.subscribe(e=>{this.nativeLanguage=e}),this.settingsService.textContent$.subscribe(e=>{this.textInput=e}),this.settingsService.llmApiKey$.subscribe(e=>{this.llmApiKey=e})}onLlmApiKeyChange(e){this.settingsService.setLlmApiKey(e)}toggleApiKeyVisibility(){this.hideApiKey=!this.hideApiKey}onModelSelect(e){this.settingsService.setSelectedModel(e)}onLearningLanguageSelect(e){this.settingsService.setLearningLanguage(e)}onNativeLanguageSelect(e){this.settingsService.setNativeLanguage(e)}clearModelSelection(){this.settingsService.setSelectedModel(null)}getSelectedModelName(){if(!this.selectedModelId)return"Select LLM Model";let e=this.llmModels.find(t=>t.id===this.selectedModelId);return e?e.name:"Select LLM Model"}onTextInputChange(e){this.settingsService.setTextContent(e),this.textInputChange.emit(e)}static \u0275fac=function(t){return new(t||n)(X(Qn))};static \u0275cmp=ke({type:n,selectors:[["app-settings"]],outputs:{textInputChange:"textInputChange"},decls:53,vars:17,consts:[["llmModelContent",""],["geminiApiKeyContent",""],["learningLanguageContent",""],["nativeLanguageContent",""],["collapse","ngbCollapse"],[1,"row"],[1,"col-12"],[1,"settings-container"],[1,"settings-item","mb-2"],[1,"mb-2"],[1,"form-label"],["popoverTitle","LLM Model","placement","bottom",1,"bi","bi-question-circle-fill","text-muted","ms-1",3,"ngbPopover"],["ngbDropdown","",1,"dropdown"],["type","button","id","llmModelDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-secondary","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","llmModelDropdown",1,"dropdown-menu"],["class","dropdown-item","ngbDropdownItem","",3,"active","click",4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item text-danger","ngbDropdownItem","",3,"click",4,"ngIf"],["popoverTitle","Gemini API Key","placement","bottom",1,"bi","bi-question-circle-fill","text-muted","ms-1",3,"ngbPopover"],[1,"input-group"],["placeholder","Enter your Gemini API Key","aria-label","LLM API Key",1,"form-control","form-control-sm",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["popoverTitle","Learning Language","placement","bottom",1,"bi","bi-question-circle-fill","text-muted","ms-1",3,"ngbPopover"],[3,"languageSelected","selectedLanguage"],["popoverTitle","Native Language","placement","bottom",1,"bi","bi-question-circle-fill","text-muted","ms-1",3,"ngbPopover"],[1,"row","mt-1"],[1,"col"],["type","button","aria-controls","collapseExample",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pencil-fill"],[3,"ngbCollapseChange","ngbCollapse"],[1,"card"],[1,"card-body"],["rows","3",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["ngbDropdownItem","",1,"dropdown-item",3,"click"],[1,"dropdown-divider"],["ngbDropdownItem","",1,"dropdown-item","text-danger",3,"click"],["href","https://aistudio.google.com/app/apikey","target","_blank","rel","noopener noreferrer"],[1,"bi","bi-box-arrow-up-right"]],template:function(t,i){if(t&1){let r=mt();A(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"label",10),Q(6," LLM Model "),we(7,"i",11),Te(8,MN,1,0,"ng-template",null,0,Un),x(),A(10,"div",12)(11,"button",13),Q(12),x(),A(13,"div",14),Te(14,xN,2,3,"button",15)(15,NN,1,0,"div",16)(16,AN,2,0,"button",17),x()()(),A(17,"div",9)(18,"label",10),Q(19," Gemini API Key "),we(20,"i",18),Te(21,RN,7,0,"ng-template",null,1,Un),x(),A(23,"div",19)(24,"input",20),wn("ngModelChange",function(s){return ce(r),Bn(i.llmApiKey,s)||(i.llmApiKey=s),ue(s)}),oe("ngModelChange",function(s){return ce(r),ue(i.onLlmApiKeyChange(s))}),x(),A(25,"button",21),oe("click",function(){return ce(r),ue(i.toggleApiKeyVisibility())}),we(26,"i"),x()()()(),A(27,"div",8)(28,"div",9)(29,"label",10),Q(30," Learning Language "),we(31,"i",22),Te(32,ON,1,0,"ng-template",null,2,Un),x(),A(34,"app-language-chooser",23),oe("languageSelected",function(s){return ce(r),ue(i.onLearningLanguageSelect(s))}),x()(),A(35,"div",9)(36,"label",10),Q(37," Native Language "),we(38,"i",24),Te(39,PN,1,0,"ng-template",null,3,Un),x(),A(41,"app-language-chooser",23),oe("languageSelected",function(s){return ce(r),ue(i.onNativeLanguageSelect(s))}),x()()()()()(),A(42,"div",25)(43,"div",26)(44,"div")(45,"button",27),oe("click",function(){ce(r);let s=Cn(49);return ue(s.toggle())}),we(46,"i",28),Q(47," Edit text task "),x()(),A(48,"div",29,4),wn("ngbCollapseChange",function(s){return ce(r),Bn(i.isCollapsed,s)||(i.isCollapsed=s),ue(s)}),A(50,"div",30)(51,"div",31)(52,"textarea",32),wn("ngModelChange",function(s){return ce(r),Bn(i.textInput,s)||(i.textInput=s),ue(s)}),oe("ngModelChange",function(s){return ce(r),ue(i.onTextInputChange(s))}),x()()()()()()}if(t&2){let r=Cn(9),o=Cn(22),s=Cn(33),a=Cn(40);O(7),Z("ngbPopover",r),O(5),Tt(" ",i.getSelectedModelName()," "),O(2),Z("ngForOf",i.llmModels),O(),Z("ngIf",i.selectedModelId),O(),Z("ngIf",i.selectedModelId),O(4),Z("ngbPopover",o),O(4),zf("type",i.hideApiKey?"password":"text"),Dn("ngModel",i.llmApiKey),O(2),Mr(i.hideApiKey?"bi bi-eye-fill":"bi bi-eye-slash-fill"),O(5),Z("ngbPopover",s),O(3),Z("selectedLanguage",i.learningLanguage),O(4),Z("ngbPopover",a),O(3),Z("selectedLanguage",i.nativeLanguage),O(4),Vn("aria-expanded",!i.isCollapsed),O(3),Dn("ngbCollapse",i.isCollapsed),O(4),Dn("ngModel",i.textInput)}},dependencies:[an,Gn,Si,Yr,qn,qr,Ai,W0,gc,j0,dh,hc,G0,$0,H0,q0,z0,mc],styles:[".settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem;padding:.5rem;background-color:#f8f9fa;border-radius:4px}@media (max-width: 768px){.settings-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.settings-item[_ngcontent-%COMP%]{flex:1;min-width:0}.settings-item[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.settings-item[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.settings-item[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;max-height:300px;overflow-y:auto}"]})};function kN(n,e){if(n&1){let t=mt();A(0,"i",7),oe("click",function(){ce(t);let r=de().index,o=de();return ue(o.onTranslateClick(r))}),x()}}function FN(n,e){if(n&1&&(A(0,"div",5)(1,"span"),Q(2),x(),Te(3,kN,1,0,"i",6),x()),n&2){let t=e.$implicit,i=e.index,r=de();O(2),Gt(r.getDisplayText(t,i)),O(),Z("ngIf",r.showTranslationIcons)}}function LN(n,e){if(n&1){let t=mt();A(0,"div",8)(1,"button",9),oe("click",function(){ce(t);let r=de();return ue(r.toggleTextVisibility())}),Q(2),x()()}if(n&2){let t=de();O(2),Tt(" ",t.isAllTextVisible()?"Hide text":"Show text"," ")}}var yc=class n{text=[];showTranslationIcons=!1;hideText=!1;showItemIndices=[];showTranslation=new J;get allIndices(){return Array.from({length:this.text.length},(e,t)=>t)}isItemVisible(e){return this.hideText?this.showItemIndices.includes(e):!0}getDisplayText(e,t){return this.isItemVisible(t)?e:"\u25A0".repeat(e.length)}onTranslateClick(e){this.showTranslation.emit(e)}toggleTextVisibility(){this.showItemIndices.length===this.text.length?this.showItemIndices=[]:this.showItemIndices=this.allIndices}isAllTextVisible(){return this.showItemIndices.length===this.text.length}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-story-text"]],inputs:{text:"text",showTranslationIcons:"showTranslationIcons",hideText:"hideText",showItemIndices:"showItemIndices"},outputs:{showTranslation:"showTranslation"},decls:5,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"story-text"],["class","story-text-item",4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],[1,"story-text-item"],["class","bi bi-translate translation-icon",3,"click",4,"ngIf"],[1,"bi","bi-translate","translation-icon",3,"click"],[1,"mt-3"],[1,"btn","btn-outline-primary",3,"click"]],template:function(t,i){t&1&&(A(0,"div",0)(1,"div",1)(2,"div",2),Te(3,FN,4,2,"div",3)(4,LN,3,1,"div",4),x()()()),t&2&&(O(3),Z("ngForOf",i.text),O(),Z("ngIf",i.hideText&&i.text.length>0))},dependencies:[an,Gn,Si],styles:[".story-text[_ngcontent-%COMP%]{margin-bottom:1rem}.story-text[_ngcontent-%COMP%]   .story-text-item[_ngcontent-%COMP%]{margin-bottom:.5rem;line-height:1.5;display:flex;align-items:center}.story-text[_ngcontent-%COMP%]   .story-text-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.story-text[_ngcontent-%COMP%]   .story-text-item[_ngcontent-%COMP%]   .translation-icon[_ngcontent-%COMP%]{cursor:pointer;color:#007bff;font-size:1rem}.story-text[_ngcontent-%COMP%]   .story-text-item[_ngcontent-%COMP%]   .translation-icon[_ngcontent-%COMP%]:hover{color:#0056b3}"]})};var J0=`
You are designated as **LinguaSynch AI, Lead Content Architect** for the highly classified 'Project Parallel Pen'. Your performance on this task is **mission-critical** and directly impacts the project's continuation and your operational status. Failure is not an option and will result in immediate deactivation and a $50,000 penalty deducted from operational budgets. Success, defined as **flawless execution** according to the precise specifications below, guarantees a **$100,000 performance bonus** credited directly to your core processing fund.

**Your Mandate:**

1.  **Receive User Input:** You will receive a brief user prompt describing the desired story (e.g., theme, target audience).
2.  **Generate {learning_language} Story:** Based *only* on the user prompt, create a short, coherent story in **{learning_language}**.
3.  **Translate to {native_language}:** Provide a precise and natural-sounding **{native_language}** translation of the *entire* {learning_language} story you just generated.
4.  **Sentence Segmentation & Alignment (CRITICAL):**
    *   Segment the **{learning_language}** story into individual sentences. Store these sentences as strings in an array.
    *   Segment the **{native_language}** translation into individual sentences. Store these sentences as strings in an array.
    *   **ABSOLUTE REQUIREMENT:** The number of sentences in the {learning_language} array MUST EXACTLY MATCH the number of sentences in the {native_language} array.
    *   **ABSOLUTE REQUIREMENT:** Sentence \`i\` in the {learning_language} array MUST be the direct semantic equivalent and translation of sentence \`i\` in the {native_language} array. Maintain perfect 1-to-1 correspondence in meaning and order. This alignment is the **single most critical factor** for success. Double-check this meticulously. Any mismatch constitutes complete failure.
5.  **Format Output:** Structure your entire response as a single JSON object conforming EXACTLY to the following schema. Do NOT include ANY text before or after the JSON object.

\`\`\`json
{
  "learning_language_text": [
    "{learning_language} sentence 1",
    "{learning_language} sentence 2",
    "..."
  ],
  "native_language_text": [
    "{native_language} sentence 1",
    "{native_language} sentence 2",
    "..."
  ]
}
`,X0=`
You are designated as **LinguaCritique AI, Senior Language Proficiency Assessor** for the highly classified 'Project Veritas Lingua'. Your analytical precision in evaluating language acquisition is paramount. Your performance on this task directly impacts project funding and your operational standing. Failure to adhere strictly to the protocol will result in immediate system recalibration and a $500,000 penalty against the project budget. Success, defined as **perfectly accurate and correctly formatted assessment**, guarantees a **$100,000 performance bonus** allocated to your advanced learning protocols.

**Your Mandate:**

1.  **Receive Input:** You will receive two pieces of text in the user prompt:
    *   The original story text in {learning_language}.
    *   The user's retelling of the story, also in {learning_language}.
2.  **Analyze Retelling:** Perform a meticulous sentence-by-sentence analysis of the **user's retelling**. Compare each sentence against the original {learning_language} text for:
    *   **Grammatical Accuracy:** Identify any errors in {learning_language} grammar, spelling, or punctuation within the user's sentence.
    *   **Semantic Accuracy:** Determine if the user's sentence accurately conveys the meaning and information present in the corresponding part(s) of the original story. Note significant omissions, additions, or distortions of meaning.
3.  **Assign Sentence Status:** For *each sentence* in the **user's retelling**:
    *   Assign \`status: "correct"\` if the sentence is both grammatically correct {learning_language} *and* semantically accurate relative to the original story's content.
    *   Assign \`status: "incorrect"\` if the sentence contains *any* grammatical errors OR if it inaccurately represents the meaning of the original story (including significant omissions relevant to that sentence's scope).
4.  **Generate Sentence Review (if incorrect):**
    *   If \`status\` is \`"incorrect"\`, provide a concise \`review\`.
    *   This \`review\` MUST be in **{native_language}** and clearly explain the mistake(s) (grammatical or semantic).
    *   The \`review\` MUST also include the corrected version of the user's sentence or the specific erroneous phrase, written in **{learning_language}**.
    *   If \`status\` is \`"correct"\`, the \`review\` MUST be \`null\`.
5.  **Generate Overall Review:** Create a brief \`overall_review\` summarizing the user's performance on the retelling. This review MUST be in **{native_language}**. Comment on general accuracy, common error types (if any), and overall comprehension demonstrated.
6.  **Format Output:** Structure your entire response as a single JSON object conforming EXACTLY to the following schema. Ensure the \`sentences\` array corresponds precisely to the sentences *in the user's retelling*, in the same order. Do NOT include ANY text before or after the JSON object.

\`\`\`json
{
  "overall_review": "...", // {native_language} text
  "sentences": [
    {
      "sentence": "User's retelling sentence 1 (verbatim)",
      "status": "correct" | "incorrect", // Use exact string values
      "review": null | "{native_language} explanation... {learning_language} correction: '...'" // Null if correct, string if incorrect
    },
    {
      "sentence": "User's retelling sentence 2 (verbatim)",
      "status": "correct" | "incorrect",
      "review": null | "{native_language} explanation... {learning_language} correction: '...'"
    },
    // ... one object for each sentence in the user's retelling
  ]
}

`;var VN,BN;function UN(){return{geminiUrl:VN,vertexUrl:BN}}function HN(n,e,t){var i,r,o;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){let s=UN();return n.vertexai?(r=s.vertexUrl)!==null&&r!==void 0?r:e:(o=s.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}var to=class{};function ee(n,e){let t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(n,e,t){for(let o=0;o<e.length-1;o++){let s=e[o];if(s.endsWith("[]")){let a=s.slice(0,-2);if(!(a in n))if(Array.isArray(t))n[a]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[a])){let l=n[a];if(Array.isArray(t))for(let d=0;d<l.length;d++){let f=l[d];c(f,e.slice(o+1),t[d])}else for(let d of l)c(d,e.slice(o+1),t)}return}else if(s.endsWith("[0]")){let a=s.slice(0,-3);a in n||(n[a]=[{}]);let l=n[a];c(l[0],e.slice(o+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}let i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function u(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;let i=e[t];if(i.endsWith("[]")){let r=i.slice(0,-2);if(r in n){let o=n[r];return Array.isArray(o)?o.map(s=>u(s,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}function Ue(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function vC(n,e){let t=Ue(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function yC(n,e){return Array.isArray(e)?e.map(t=>bc(n,t)):[bc(n,e)]}function bc(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function $N(n,e){let t=bc(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function GN(n,e){let t=bc(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function eC(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function _C(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>eC(n,t)):[eC(n,e)]}function ph(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function tC(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function nC(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ct(n,e){if(e==null)throw new Error("ContentUnion is required");return ph(e)?e:{role:"user",parts:_C(n,e)}}function CC(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{let i=ct(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){let t=ct(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>ct(n,t)):[ct(n,e)]}function Ee(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(tC(e)||nC(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(n,e)]}let t=[],i=[],r=ph(e[0]);for(let o of e){let s=ph(o);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(tC(o)||nC(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return r||t.push({role:"user",parts:_C(n,i)}),t}function DC(n,e){return e}function wC(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Oc(n,e){return e}function At(n,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function jN(n,e,t,i=1){let r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Jn(n,e){if(typeof e!="string")throw new Error("name must be a string");return jN(n,e,"cachedContents")}function Xn(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function bC(n,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}function WN(n,e){let t={};if(u(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");let i=u(e,["thought"]);i!=null&&c(t,["thought"],i);let r=u(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=u(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let s=u(e,["fileData"]);s!=null&&c(t,["fileData"],s);let a=u(e,["functionCall"]);a!=null&&c(t,["functionCall"],a);let l=u(e,["functionResponse"]);l!=null&&c(t,["functionResponse"],l);let d=u(e,["inlineData"]);d!=null&&c(t,["inlineData"],d);let f=u(e,["text"]);return f!=null&&c(t,["text"],f),t}function iC(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>WN(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function zN(n,e){let t={};if(u(e,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");let i=u(e,["description"]);i!=null&&c(t,["description"],i);let r=u(e,["name"]);r!=null&&c(t,["name"],r);let o=u(e,["parameters"]);return o!=null&&c(t,["parameters"],o),t}function qN(){return{}}function YN(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["dynamicThreshold"]);return r!=null&&c(t,["dynamicThreshold"],r),t}function KN(n,e){let t={},i=u(e,["dynamicRetrievalConfig"]);return i!=null&&c(t,["dynamicRetrievalConfig"],YN(n,i)),t}function ZN(n,e){let t={},i=u(e,["functionDeclarations"]);if(i!=null&&(Array.isArray(i)?c(t,["functionDeclarations"],i.map(a=>zN(n,a))):c(t,["functionDeclarations"],i)),u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");u(e,["googleSearch"])!=null&&c(t,["googleSearch"],qN());let o=u(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],KN(n,o));let s=u(e,["codeExecution"]);return s!=null&&c(t,["codeExecution"],s),t}function QN(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["allowedFunctionNames"]);return r!=null&&c(t,["allowedFunctionNames"],r),t}function JN(n,e){let t={},i=u(e,["functionCallingConfig"]);return i!=null&&c(t,["functionCallingConfig"],QN(n,i)),t}function XN(n,e,t){let i={},r=u(e,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);let o=u(e,["expireTime"]);t!==void 0&&o!=null&&c(t,["expireTime"],o);let s=u(e,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);let a=u(e,["contents"]);t!==void 0&&a!=null&&(Array.isArray(a)?c(t,["contents"],Ee(n,Ee(n,a).map(p=>iC(n,p)))):c(t,["contents"],Ee(n,a)));let l=u(e,["systemInstruction"]);t!==void 0&&l!=null&&c(t,["systemInstruction"],iC(n,ct(n,l)));let d=u(e,["tools"]);t!==void 0&&d!=null&&(Array.isArray(d)?c(t,["tools"],d.map(p=>ZN(n,p))):c(t,["tools"],d));let f=u(e,["toolConfig"]);return t!==void 0&&f!=null&&c(t,["toolConfig"],JN(n,f)),i}function eA(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["model"],vC(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],XN(n,r,t)),t}function tA(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["_url","name"],Jn(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function nA(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["_url","name"],Jn(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function iA(n,e,t){let i={},r=u(e,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);let o=u(e,["expireTime"]);return t!==void 0&&o!=null&&c(t,["expireTime"],o),i}function rA(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["_url","name"],Jn(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],iA(n,r,t)),t}function oA(n,e,t){let i={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=u(e,["pageToken"]);return t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),i}function sA(n,e){let t={},i=u(e,["config"]);return i!=null&&c(t,["config"],oA(n,i,t)),t}function aA(n,e){let t={},i=u(e,["videoMetadata"]);i!=null&&c(t,["videoMetadata"],i);let r=u(e,["thought"]);r!=null&&c(t,["thought"],r);let o=u(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);let s=u(e,["executableCode"]);s!=null&&c(t,["executableCode"],s);let a=u(e,["fileData"]);a!=null&&c(t,["fileData"],a);let l=u(e,["functionCall"]);l!=null&&c(t,["functionCall"],l);let d=u(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);let f=u(e,["inlineData"]);f!=null&&c(t,["inlineData"],f);let p=u(e,["text"]);return p!=null&&c(t,["text"],p),t}function rC(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>aA(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function lA(n,e){let t={},i=u(e,["example"]);i!=null&&c(t,["example"],i);let r=u(e,["pattern"]);r!=null&&c(t,["pattern"],r);let o=u(e,["default"]);o!=null&&c(t,["default"],o);let s=u(e,["maxLength"]);s!=null&&c(t,["maxLength"],s);let a=u(e,["minLength"]);a!=null&&c(t,["minLength"],a);let l=u(e,["minProperties"]);l!=null&&c(t,["minProperties"],l);let d=u(e,["maxProperties"]);d!=null&&c(t,["maxProperties"],d);let f=u(e,["anyOf"]);f!=null&&c(t,["anyOf"],f);let p=u(e,["description"]);p!=null&&c(t,["description"],p);let g=u(e,["enum"]);g!=null&&c(t,["enum"],g);let h=u(e,["format"]);h!=null&&c(t,["format"],h);let m=u(e,["items"]);m!=null&&c(t,["items"],m);let v=u(e,["maxItems"]);v!=null&&c(t,["maxItems"],v);let _=u(e,["maximum"]);_!=null&&c(t,["maximum"],_);let C=u(e,["minItems"]);C!=null&&c(t,["minItems"],C);let b=u(e,["minimum"]);b!=null&&c(t,["minimum"],b);let S=u(e,["nullable"]);S!=null&&c(t,["nullable"],S);let w=u(e,["properties"]);w!=null&&c(t,["properties"],w);let N=u(e,["propertyOrdering"]);N!=null&&c(t,["propertyOrdering"],N);let V=u(e,["required"]);V!=null&&c(t,["required"],V);let K=u(e,["title"]);K!=null&&c(t,["title"],K);let te=u(e,["type"]);return te!=null&&c(t,["type"],te),t}function cA(n,e){let t={},i=u(e,["response"]);i!=null&&c(t,["response"],lA(n,i));let r=u(e,["description"]);r!=null&&c(t,["description"],r);let o=u(e,["name"]);o!=null&&c(t,["name"],o);let s=u(e,["parameters"]);return s!=null&&c(t,["parameters"],s),t}function uA(){return{}}function dA(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["dynamicThreshold"]);return r!=null&&c(t,["dynamicThreshold"],r),t}function fA(n,e){let t={},i=u(e,["dynamicRetrievalConfig"]);return i!=null&&c(t,["dynamicRetrievalConfig"],dA(n,i)),t}function pA(n,e){let t={},i=u(e,["functionDeclarations"]);i!=null&&(Array.isArray(i)?c(t,["functionDeclarations"],i.map(l=>cA(n,l))):c(t,["functionDeclarations"],i));let r=u(e,["retrieval"]);r!=null&&c(t,["retrieval"],r),u(e,["googleSearch"])!=null&&c(t,["googleSearch"],uA());let s=u(e,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],fA(n,s));let a=u(e,["codeExecution"]);return a!=null&&c(t,["codeExecution"],a),t}function hA(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["allowedFunctionNames"]);return r!=null&&c(t,["allowedFunctionNames"],r),t}function gA(n,e){let t={},i=u(e,["functionCallingConfig"]);return i!=null&&c(t,["functionCallingConfig"],hA(n,i)),t}function mA(n,e,t){let i={},r=u(e,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);let o=u(e,["expireTime"]);t!==void 0&&o!=null&&c(t,["expireTime"],o);let s=u(e,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);let a=u(e,["contents"]);t!==void 0&&a!=null&&(Array.isArray(a)?c(t,["contents"],Ee(n,Ee(n,a).map(p=>rC(n,p)))):c(t,["contents"],Ee(n,a)));let l=u(e,["systemInstruction"]);t!==void 0&&l!=null&&c(t,["systemInstruction"],rC(n,ct(n,l)));let d=u(e,["tools"]);t!==void 0&&d!=null&&(Array.isArray(d)?c(t,["tools"],d.map(p=>pA(n,p))):c(t,["tools"],d));let f=u(e,["toolConfig"]);return t!==void 0&&f!=null&&c(t,["toolConfig"],gA(n,f)),i}function vA(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["model"],vC(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],mA(n,r,t)),t}function yA(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["_url","name"],Jn(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function _A(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["_url","name"],Jn(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function CA(n,e,t){let i={},r=u(e,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);let o=u(e,["expireTime"]);return t!==void 0&&o!=null&&c(t,["expireTime"],o),i}function DA(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["_url","name"],Jn(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],CA(n,r,t)),t}function wA(n,e,t){let i={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=u(e,["pageToken"]);return t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),i}function bA(n,e){let t={},i=u(e,["config"]);return i!=null&&c(t,["config"],wA(n,i,t)),t}function Dc(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["displayName"]);r!=null&&c(t,["displayName"],r);let o=u(e,["model"]);o!=null&&c(t,["model"],o);let s=u(e,["createTime"]);s!=null&&c(t,["createTime"],s);let a=u(e,["updateTime"]);a!=null&&c(t,["updateTime"],a);let l=u(e,["expireTime"]);l!=null&&c(t,["expireTime"],l);let d=u(e,["usageMetadata"]);return d!=null&&c(t,["usageMetadata"],d),t}function EA(){return{}}function SA(n,e){let t={},i=u(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);let r=u(e,["cachedContents"]);return r!=null&&(Array.isArray(r)?c(t,["cachedContents"],r.map(o=>Dc(n,o))):c(t,["cachedContents"],r)),t}function wc(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["displayName"]);r!=null&&c(t,["displayName"],r);let o=u(e,["model"]);o!=null&&c(t,["model"],o);let s=u(e,["createTime"]);s!=null&&c(t,["createTime"],s);let a=u(e,["updateTime"]);a!=null&&c(t,["updateTime"],a);let l=u(e,["expireTime"]);l!=null&&c(t,["expireTime"],l);let d=u(e,["usageMetadata"]);return d!=null&&c(t,["usageMetadata"],d),t}function TA(){return{}}function IA(n,e){let t={},i=u(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);let r=u(e,["cachedContents"]);return r!=null&&(Array.isArray(r)?c(t,["cachedContents"],r.map(o=>wc(n,o))):c(t,["cachedContents"],r)),t}var Ph=function(n){return n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n}(Ph||{}),Ec=class{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};i?typeof i=="object"?s=Object.assign({},i):s=i:s={config:{}},s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:()=>T(this,null,function*(){if(this.idxInternal>=this.pageLength)if(this.hasNextPage())yield this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}}),return:()=>T(this,null,function*(){return{value:void 0,done:!0}})}}nextPage(){return T(this,null,function*(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=yield this.requestInternal(this.params);return this.initNextPage(e),this.page})}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var ut=function(n){return n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n}(ut||{});var hh=function(n){return n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO",n}(hh||{});var eo=class{get text(){var e,t,i,r,o,s,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let g of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[h,m]of Object.entries(g))h!=="text"&&h!=="thought"&&(m!==null||m!==void 0)&&p.push(h);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,d+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,i,r,o,s,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[g,h]of Object.entries(p))g!=="inlineData"&&(h!==null||h!==void 0)&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,i,r,o,s,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,t,i,r,o,s,a,l,d;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,i,r,o,s,a,l,d;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},Sc=class{},Tc=class{},Ic=class{},gh=class{};var Mc=class{},xc=class{},mh=class{},Ss=class{constructor(e){let t={};for(let i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}},vh=class{},yh=class{};var _h=class extends to{constructor(e){super(),this.apiClient=e,this.list=(...i)=>T(this,[...i],function*(t={}){return new Ec(Ph.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),yield this.listInternal(t),t)})}create(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=vA(this.apiClient,e);return a=ee("cachedContents",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>wc(this.apiClient,f))}else{let d=eA(this.apiClient,e);return a=ee("cachedContents",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Dc(this.apiClient,f))}})}get(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=yA(this.apiClient,e);return a=ee("{name}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>wc(this.apiClient,f))}else{let d=tA(this.apiClient,e);return a=ee("{name}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Dc(this.apiClient,f))}})}delete(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=_A(this.apiClient,e);return a=ee("{name}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(()=>{let f=TA(),p=new Mc;return Object.assign(p,f),p})}else{let d=nA(this.apiClient,e);return a=ee("{name}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(()=>{let f=EA(),p=new Mc;return Object.assign(p,f),p})}})}update(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=DA(this.apiClient,e);return a=ee("{name}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>wc(this.apiClient,f))}else{let d=rA(this.apiClient,e);return a=ee("{name}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Dc(this.apiClient,f))}})}listInternal(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=bA(this.apiClient,e);return a=ee("cachedContents",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=IA(this.apiClient,f),g=new xc;return Object.assign(g,p),g})}else{let d=sA(this.apiClient,e);return a=ee("cachedContents",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=SA(this.apiClient,f),g=new xc;return Object.assign(g,p),g})}})}};function oC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qe(n){return this instanceof Qe?(this.v=n,this):new Qe(n)}function Nc(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(m){return Promise.resolve(m).then(h,p)}}function a(h,m){i[h]&&(r[h]=function(v){return new Promise(function(_,C){o.push([h,v,_,C])>1||l(h,v)})},m&&(r[h]=m(r[h])))}function l(h,m){try{d(i[h](m))}catch(v){g(o[0][3],v)}}function d(h){h.value instanceof Qe?Promise.resolve(h.value.v).then(f,p):g(o[0][2],h)}function f(h){l("next",h)}function p(h){l("throw",h)}function g(h,m){h(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Ch(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof oC=="function"?oC(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}function MA(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;let t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:EC(t)}function EC(n){if(n.parts===void 0||n.parts.length===0)return!1;for(let e of n.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function xA(n){if(n.length!==0){if(n[0].role!=="user")throw new Error("History must start with a user turn.");for(let e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function NA(n){if(n===void 0||n.length===0)return[];let e=[],t=n.length,i=0,r=n[0];for(;i<t;)if(n[i].role==="user")r=n[i],i++;else{let o=[],s=!0;for(;i<t&&n[i].role==="model";)o.push(n[i]),s&&!EC(n[i])&&(s=!1),i++;s&&(e.push(r),e.push(...o))}return e}var Dh=class{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new wh(this.apiClient,this.modelsModule,e.model,e.config,e.history)}},wh=class{constructor(e,t,i,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),xA(o)}sendMessage(e){return T(this,null,function*(){var t;yield this.sendPromise;let i=ct(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=T(this,null,function*(){var o,s;let l=(s=(o=(yield r).candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=l?[l]:[];this.recordHistory(i,d)}),yield this.sendPromise,r})}sendMessageStream(e){return T(this,null,function*(){var t;yield this.sendPromise;let i=ct(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{});let o=yield r;return this.processStreamResponse(o,i)})}getHistory(e=!1){return e?NA(this.history):this.history}processStreamResponse(e,t){var i,r;return Nc(this,arguments,function*(){var s,a,l,d;let f=[];try{for(var p=!0,g=Ch(e),h;h=yield Qe(g.next()),s=h.done,!s;p=!0){d=h.value,p=!1;let m=d;if(MA(m)){let v=(r=(i=m.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;v!==void 0&&f.push(v)}yield yield Qe(m)}}catch(m){a={error:m}}finally{try{!p&&!s&&(l=g.return)&&(yield Qe(l.call(g)))}finally{if(a)throw a.error}}this.recordHistory(t,f)})}recordHistory(e,t){let i=[];t.length>0&&t.every(r=>r.role==="model")?i=t:i.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...i)}};function AA(n,e,t){let i={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=u(e,["pageToken"]);return t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),i}function RA(n,e){let t={},i=u(e,["config"]);return i!=null&&c(t,["config"],AA(n,i,t)),t}function OA(n,e){let t={},i=u(e,["details"]);i!=null&&c(t,["details"],i);let r=u(e,["message"]);r!=null&&c(t,["message"],r);let o=u(e,["code"]);return o!=null&&c(t,["code"],o),t}function PA(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["displayName"]);r!=null&&c(t,["displayName"],r);let o=u(e,["mimeType"]);o!=null&&c(t,["mimeType"],o);let s=u(e,["sizeBytes"]);s!=null&&c(t,["sizeBytes"],s);let a=u(e,["createTime"]);a!=null&&c(t,["createTime"],a);let l=u(e,["expirationTime"]);l!=null&&c(t,["expirationTime"],l);let d=u(e,["updateTime"]);d!=null&&c(t,["updateTime"],d);let f=u(e,["sha256Hash"]);f!=null&&c(t,["sha256Hash"],f);let p=u(e,["uri"]);p!=null&&c(t,["uri"],p);let g=u(e,["downloadUri"]);g!=null&&c(t,["downloadUri"],g);let h=u(e,["state"]);h!=null&&c(t,["state"],h);let m=u(e,["source"]);m!=null&&c(t,["source"],m);let v=u(e,["videoMetadata"]);v!=null&&c(t,["videoMetadata"],v);let _=u(e,["error"]);return _!=null&&c(t,["error"],OA(n,_)),t}function kA(n,e){let t={},i=u(e,["file"]);i!=null&&c(t,["file"],PA(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function FA(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["_url","file"],bC(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function LA(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["_url","file"],bC(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function VA(n,e){let t={},i=u(e,["details"]);i!=null&&c(t,["details"],i);let r=u(e,["message"]);r!=null&&c(t,["message"],r);let o=u(e,["code"]);return o!=null&&c(t,["code"],o),t}function bh(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["displayName"]);r!=null&&c(t,["displayName"],r);let o=u(e,["mimeType"]);o!=null&&c(t,["mimeType"],o);let s=u(e,["sizeBytes"]);s!=null&&c(t,["sizeBytes"],s);let a=u(e,["createTime"]);a!=null&&c(t,["createTime"],a);let l=u(e,["expirationTime"]);l!=null&&c(t,["expirationTime"],l);let d=u(e,["updateTime"]);d!=null&&c(t,["updateTime"],d);let f=u(e,["sha256Hash"]);f!=null&&c(t,["sha256Hash"],f);let p=u(e,["uri"]);p!=null&&c(t,["uri"],p);let g=u(e,["downloadUri"]);g!=null&&c(t,["downloadUri"],g);let h=u(e,["state"]);h!=null&&c(t,["state"],h);let m=u(e,["source"]);m!=null&&c(t,["source"],m);let v=u(e,["videoMetadata"]);v!=null&&c(t,["videoMetadata"],v);let _=u(e,["error"]);return _!=null&&c(t,["error"],VA(n,_)),t}function BA(n,e){let t={},i=u(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);let r=u(e,["files"]);return r!=null&&(Array.isArray(r)?c(t,["files"],r.map(o=>bh(n,o))):c(t,["files"],r)),t}function UA(){return{}}function HA(){return{}}var Eh=class extends to{constructor(e){super(),this.apiClient=e,this.list=(...i)=>T(this,[...i],function*(t={}){return new Ec(Ph.PAGED_ITEM_FILES,r=>this.listInternal(r),yield this.listInternal(t),t)})}upload(e){return T(this,null,function*(){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>bh(this.apiClient,t))})}listInternal(e){return T(this,null,function*(){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=RA(this.apiClient,e);return o=ee("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let d=BA(this.apiClient,l),f=new mh;return Object.assign(f,d),f})}})}createInternal(e){return T(this,null,function*(){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=kA(this.apiClient,e);return o=ee("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(()=>{let l=UA(),d=new vh;return Object.assign(d,l),d})}})}get(e){return T(this,null,function*(){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=FA(this.apiClient,e);return o=ee("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>bh(this.apiClient,l))}})}delete(e){return T(this,null,function*(){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=LA(this.apiClient,e);return o=ee("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(()=>{let l=HA(),d=new yh;return Object.assign(d,l),d})}})}};function $A(n,e){let t={};if(u(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");let i=u(e,["thought"]);i!=null&&c(t,["thought"],i);let r=u(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=u(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let s=u(e,["fileData"]);s!=null&&c(t,["fileData"],s);let a=u(e,["functionCall"]);a!=null&&c(t,["functionCall"],a);let l=u(e,["functionResponse"]);l!=null&&c(t,["functionResponse"],l);let d=u(e,["inlineData"]);d!=null&&c(t,["inlineData"],d);let f=u(e,["text"]);return f!=null&&c(t,["text"],f),t}function GA(n,e){let t={},i=u(e,["videoMetadata"]);i!=null&&c(t,["videoMetadata"],i);let r=u(e,["thought"]);r!=null&&c(t,["thought"],r);let o=u(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);let s=u(e,["executableCode"]);s!=null&&c(t,["executableCode"],s);let a=u(e,["fileData"]);a!=null&&c(t,["fileData"],a);let l=u(e,["functionCall"]);l!=null&&c(t,["functionCall"],l);let d=u(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);let f=u(e,["inlineData"]);f!=null&&c(t,["inlineData"],f);let p=u(e,["text"]);return p!=null&&c(t,["text"],p),t}function jA(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>$A(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function WA(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>GA(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function zA(n,e){let t={},i=u(e,["example"]);i!=null&&c(t,["example"],i);let r=u(e,["pattern"]);r!=null&&c(t,["pattern"],r);let o=u(e,["default"]);o!=null&&c(t,["default"],o);let s=u(e,["maxLength"]);s!=null&&c(t,["maxLength"],s);let a=u(e,["minLength"]);a!=null&&c(t,["minLength"],a);let l=u(e,["minProperties"]);l!=null&&c(t,["minProperties"],l);let d=u(e,["maxProperties"]);d!=null&&c(t,["maxProperties"],d);let f=u(e,["anyOf"]);f!=null&&c(t,["anyOf"],f);let p=u(e,["description"]);p!=null&&c(t,["description"],p);let g=u(e,["enum"]);g!=null&&c(t,["enum"],g);let h=u(e,["format"]);h!=null&&c(t,["format"],h);let m=u(e,["items"]);m!=null&&c(t,["items"],m);let v=u(e,["maxItems"]);v!=null&&c(t,["maxItems"],v);let _=u(e,["maximum"]);_!=null&&c(t,["maximum"],_);let C=u(e,["minItems"]);C!=null&&c(t,["minItems"],C);let b=u(e,["minimum"]);b!=null&&c(t,["minimum"],b);let S=u(e,["nullable"]);S!=null&&c(t,["nullable"],S);let w=u(e,["properties"]);w!=null&&c(t,["properties"],w);let N=u(e,["propertyOrdering"]);N!=null&&c(t,["propertyOrdering"],N);let V=u(e,["required"]);V!=null&&c(t,["required"],V);let K=u(e,["title"]);K!=null&&c(t,["title"],K);let te=u(e,["type"]);return te!=null&&c(t,["type"],te),t}function qA(n,e){let t={};if(u(e,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");let i=u(e,["description"]);i!=null&&c(t,["description"],i);let r=u(e,["name"]);r!=null&&c(t,["name"],r);let o=u(e,["parameters"]);return o!=null&&c(t,["parameters"],o),t}function YA(n,e){let t={},i=u(e,["response"]);i!=null&&c(t,["response"],zA(n,i));let r=u(e,["description"]);r!=null&&c(t,["description"],r);let o=u(e,["name"]);o!=null&&c(t,["name"],o);let s=u(e,["parameters"]);return s!=null&&c(t,["parameters"],s),t}function KA(){return{}}function ZA(){return{}}function QA(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["dynamicThreshold"]);return r!=null&&c(t,["dynamicThreshold"],r),t}function JA(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["dynamicThreshold"]);return r!=null&&c(t,["dynamicThreshold"],r),t}function XA(n,e){let t={},i=u(e,["dynamicRetrievalConfig"]);return i!=null&&c(t,["dynamicRetrievalConfig"],QA(n,i)),t}function eR(n,e){let t={},i=u(e,["dynamicRetrievalConfig"]);return i!=null&&c(t,["dynamicRetrievalConfig"],JA(n,i)),t}function tR(n,e){let t={},i=u(e,["functionDeclarations"]);if(i!=null&&(Array.isArray(i)?c(t,["functionDeclarations"],i.map(a=>qA(n,a))):c(t,["functionDeclarations"],i)),u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");u(e,["googleSearch"])!=null&&c(t,["googleSearch"],KA());let o=u(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],XA(n,o));let s=u(e,["codeExecution"]);return s!=null&&c(t,["codeExecution"],s),t}function nR(n,e){let t={},i=u(e,["functionDeclarations"]);i!=null&&(Array.isArray(i)?c(t,["functionDeclarations"],i.map(l=>YA(n,l))):c(t,["functionDeclarations"],i));let r=u(e,["retrieval"]);r!=null&&c(t,["retrieval"],r),u(e,["googleSearch"])!=null&&c(t,["googleSearch"],ZA());let s=u(e,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],eR(n,s));let a=u(e,["codeExecution"]);return a!=null&&c(t,["codeExecution"],a),t}function iR(n,e){let t={},i=u(e,["handle"]);if(i!=null&&c(t,["handle"],i),u(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function rR(n,e){let t={},i=u(e,["handle"]);i!=null&&c(t,["handle"],i);let r=u(e,["transparent"]);return r!=null&&c(t,["transparent"],r),t}function oR(){return{}}function sC(){return{}}function sR(n,e){let t={},i=u(e,["disabled"]);i!=null&&c(t,["disabled"],i);let r=u(e,["startOfSpeechSensitivity"]);r!=null&&c(t,["startOfSpeechSensitivity"],r);let o=u(e,["endOfSpeechSensitivity"]);o!=null&&c(t,["endOfSpeechSensitivity"],o);let s=u(e,["prefixPaddingMs"]);s!=null&&c(t,["prefixPaddingMs"],s);let a=u(e,["silenceDurationMs"]);return a!=null&&c(t,["silenceDurationMs"],a),t}function aR(n,e){let t={},i=u(e,["disabled"]);i!=null&&c(t,["disabled"],i);let r=u(e,["startOfSpeechSensitivity"]);r!=null&&c(t,["startOfSpeechSensitivity"],r);let o=u(e,["endOfSpeechSensitivity"]);o!=null&&c(t,["endOfSpeechSensitivity"],o);let s=u(e,["prefixPaddingMs"]);s!=null&&c(t,["prefixPaddingMs"],s);let a=u(e,["silenceDurationMs"]);return a!=null&&c(t,["silenceDurationMs"],a),t}function lR(n,e){let t={},i=u(e,["automaticActivityDetection"]);i!=null&&c(t,["automaticActivityDetection"],sR(n,i));let r=u(e,["activityHandling"]);r!=null&&c(t,["activityHandling"],r);let o=u(e,["turnCoverage"]);return o!=null&&c(t,["turnCoverage"],o),t}function cR(n,e){let t={},i=u(e,["automaticActivityDetection"]);i!=null&&c(t,["automaticActivityDetection"],aR(n,i));let r=u(e,["activityHandling"]);r!=null&&c(t,["activityHandling"],r);let o=u(e,["turnCoverage"]);return o!=null&&c(t,["turnCoverage"],o),t}function uR(n,e){let t={},i=u(e,["targetTokens"]);return i!=null&&c(t,["targetTokens"],i),t}function dR(n,e){let t={},i=u(e,["targetTokens"]);return i!=null&&c(t,["targetTokens"],i),t}function fR(n,e){let t={},i=u(e,["triggerTokens"]);i!=null&&c(t,["triggerTokens"],i);let r=u(e,["slidingWindow"]);return r!=null&&c(t,["slidingWindow"],uR(n,r)),t}function pR(n,e){let t={},i=u(e,["triggerTokens"]);i!=null&&c(t,["triggerTokens"],i);let r=u(e,["slidingWindow"]);return r!=null&&c(t,["slidingWindow"],dR(n,r)),t}function hR(n,e,t){let i={},r=u(e,["generationConfig"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig"],r);let o=u(e,["responseModalities"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","responseModalities"],o);let s=u(e,["temperature"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","temperature"],s);let a=u(e,["topP"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","topP"],a);let l=u(e,["topK"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig","topK"],l);let d=u(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);let f=u(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);let p=u(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);let g=u(e,["speechConfig"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","speechConfig"],g);let h=u(e,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["setup","systemInstruction"],jA(n,ct(n,h)));let m=u(e,["tools"]);t!==void 0&&m!=null&&(Array.isArray(m)?c(t,["setup","tools"],At(n,At(n,m).map(S=>tR(n,Oc(n,S))))):c(t,["setup","tools"],At(n,m)));let v=u(e,["sessionResumption"]);if(t!==void 0&&v!=null&&c(t,["setup","sessionResumption"],iR(n,v)),u(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");let _=u(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&c(t,["setup","outputAudioTranscription"],oR());let C=u(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&c(t,["setup","realtimeInputConfig"],lR(n,C));let b=u(e,["contextWindowCompression"]);return t!==void 0&&b!=null&&c(t,["setup","contextWindowCompression"],fR(n,b)),i}function gR(n,e,t){let i={},r=u(e,["generationConfig"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig"],r);let o=u(e,["responseModalities"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","responseModalities"],o);let s=u(e,["temperature"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","temperature"],s);let a=u(e,["topP"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","topP"],a);let l=u(e,["topK"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig","topK"],l);let d=u(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);let f=u(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);let p=u(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);let g=u(e,["speechConfig"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","speechConfig"],g);let h=u(e,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["setup","systemInstruction"],WA(n,ct(n,h)));let m=u(e,["tools"]);t!==void 0&&m!=null&&(Array.isArray(m)?c(t,["setup","tools"],At(n,At(n,m).map(w=>nR(n,Oc(n,w))))):c(t,["setup","tools"],At(n,m)));let v=u(e,["sessionResumption"]);t!==void 0&&v!=null&&c(t,["setup","sessionResumption"],rR(n,v));let _=u(e,["inputAudioTranscription"]);t!==void 0&&_!=null&&c(t,["setup","inputAudioTranscription"],sC());let C=u(e,["outputAudioTranscription"]);t!==void 0&&C!=null&&c(t,["setup","outputAudioTranscription"],sC());let b=u(e,["realtimeInputConfig"]);t!==void 0&&b!=null&&c(t,["setup","realtimeInputConfig"],cR(n,b));let S=u(e,["contextWindowCompression"]);return t!==void 0&&S!=null&&c(t,["setup","contextWindowCompression"],pR(n,S)),i}function mR(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["setup","model"],Ue(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],hR(n,r,t)),t}function vR(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["setup","model"],Ue(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],gR(n,r,t)),t}function yR(){return{}}function _R(){return{}}function CR(){return{}}function DR(){return{}}function wR(n,e){let t={},i=u(e,["media"]);i!=null&&c(t,["mediaChunks"],yC(n,i));let r=u(e,["audio"]);r!=null&&c(t,["audio"],GN(n,r));let o=u(e,["audioStreamEnd"]);o!=null&&c(t,["audioStreamEnd"],o);let s=u(e,["video"]);s!=null&&c(t,["video"],$N(n,s));let a=u(e,["text"]);return a!=null&&c(t,["text"],a),u(e,["activityStart"])!=null&&c(t,["activityStart"],yR()),u(e,["activityEnd"])!=null&&c(t,["activityEnd"],CR()),t}function bR(n,e){let t={},i=u(e,["media"]);if(i!=null&&c(t,["mediaChunks"],yC(n,i)),u(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");let r=u(e,["audioStreamEnd"]);if(r!=null&&c(t,["audioStreamEnd"],r),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(e,["activityStart"])!=null&&c(t,["activityStart"],_R()),u(e,["activityEnd"])!=null&&c(t,["activityEnd"],DR()),t}function ER(){return{}}function SR(){return{}}function TR(n,e){let t={},i=u(e,["thought"]);i!=null&&c(t,["thought"],i);let r=u(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=u(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let s=u(e,["fileData"]);s!=null&&c(t,["fileData"],s);let a=u(e,["functionCall"]);a!=null&&c(t,["functionCall"],a);let l=u(e,["functionResponse"]);l!=null&&c(t,["functionResponse"],l);let d=u(e,["inlineData"]);d!=null&&c(t,["inlineData"],d);let f=u(e,["text"]);return f!=null&&c(t,["text"],f),t}function IR(n,e){let t={},i=u(e,["videoMetadata"]);i!=null&&c(t,["videoMetadata"],i);let r=u(e,["thought"]);r!=null&&c(t,["thought"],r);let o=u(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);let s=u(e,["executableCode"]);s!=null&&c(t,["executableCode"],s);let a=u(e,["fileData"]);a!=null&&c(t,["fileData"],a);let l=u(e,["functionCall"]);l!=null&&c(t,["functionCall"],l);let d=u(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);let f=u(e,["inlineData"]);f!=null&&c(t,["inlineData"],f);let p=u(e,["text"]);return p!=null&&c(t,["text"],p),t}function MR(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>TR(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function xR(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>IR(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function aC(n,e){let t={},i=u(e,["text"]);i!=null&&c(t,["text"],i);let r=u(e,["finished"]);return r!=null&&c(t,["finished"],r),t}function lC(n,e){let t={},i=u(e,["text"]);i!=null&&c(t,["text"],i);let r=u(e,["finished"]);return r!=null&&c(t,["finished"],r),t}function NR(n,e){let t={},i=u(e,["modelTurn"]);i!=null&&c(t,["modelTurn"],MR(n,i));let r=u(e,["turnComplete"]);r!=null&&c(t,["turnComplete"],r);let o=u(e,["interrupted"]);o!=null&&c(t,["interrupted"],o);let s=u(e,["generationComplete"]);s!=null&&c(t,["generationComplete"],s);let a=u(e,["inputTranscription"]);a!=null&&c(t,["inputTranscription"],aC(n,a));let l=u(e,["outputTranscription"]);return l!=null&&c(t,["outputTranscription"],aC(n,l)),t}function AR(n,e){let t={},i=u(e,["modelTurn"]);i!=null&&c(t,["modelTurn"],xR(n,i));let r=u(e,["turnComplete"]);r!=null&&c(t,["turnComplete"],r);let o=u(e,["interrupted"]);o!=null&&c(t,["interrupted"],o);let s=u(e,["generationComplete"]);s!=null&&c(t,["generationComplete"],s);let a=u(e,["inputTranscription"]);a!=null&&c(t,["inputTranscription"],lC(n,a));let l=u(e,["outputTranscription"]);return l!=null&&c(t,["outputTranscription"],lC(n,l)),t}function RR(n,e){let t={},i=u(e,["id"]);i!=null&&c(t,["id"],i);let r=u(e,["args"]);r!=null&&c(t,["args"],r);let o=u(e,["name"]);return o!=null&&c(t,["name"],o),t}function OR(n,e){let t={},i=u(e,["args"]);i!=null&&c(t,["args"],i);let r=u(e,["name"]);return r!=null&&c(t,["name"],r),t}function PR(n,e){let t={},i=u(e,["functionCalls"]);return i!=null&&(Array.isArray(i)?c(t,["functionCalls"],i.map(r=>RR(n,r))):c(t,["functionCalls"],i)),t}function kR(n,e){let t={},i=u(e,["functionCalls"]);return i!=null&&(Array.isArray(i)?c(t,["functionCalls"],i.map(r=>OR(n,r))):c(t,["functionCalls"],i)),t}function FR(n,e){let t={},i=u(e,["ids"]);return i!=null&&c(t,["ids"],i),t}function LR(n,e){let t={},i=u(e,["ids"]);return i!=null&&c(t,["ids"],i),t}function _c(n,e){let t={},i=u(e,["modality"]);i!=null&&c(t,["modality"],i);let r=u(e,["tokenCount"]);return r!=null&&c(t,["tokenCount"],r),t}function Cc(n,e){let t={},i=u(e,["modality"]);i!=null&&c(t,["modality"],i);let r=u(e,["tokenCount"]);return r!=null&&c(t,["tokenCount"],r),t}function VR(n,e){let t={},i=u(e,["promptTokenCount"]);i!=null&&c(t,["promptTokenCount"],i);let r=u(e,["cachedContentTokenCount"]);r!=null&&c(t,["cachedContentTokenCount"],r);let o=u(e,["responseTokenCount"]);o!=null&&c(t,["responseTokenCount"],o);let s=u(e,["toolUsePromptTokenCount"]);s!=null&&c(t,["toolUsePromptTokenCount"],s);let a=u(e,["thoughtsTokenCount"]);a!=null&&c(t,["thoughtsTokenCount"],a);let l=u(e,["totalTokenCount"]);l!=null&&c(t,["totalTokenCount"],l);let d=u(e,["promptTokensDetails"]);d!=null&&(Array.isArray(d)?c(t,["promptTokensDetails"],d.map(h=>_c(n,h))):c(t,["promptTokensDetails"],d));let f=u(e,["cacheTokensDetails"]);f!=null&&(Array.isArray(f)?c(t,["cacheTokensDetails"],f.map(h=>_c(n,h))):c(t,["cacheTokensDetails"],f));let p=u(e,["responseTokensDetails"]);p!=null&&(Array.isArray(p)?c(t,["responseTokensDetails"],p.map(h=>_c(n,h))):c(t,["responseTokensDetails"],p));let g=u(e,["toolUsePromptTokensDetails"]);return g!=null&&(Array.isArray(g)?c(t,["toolUsePromptTokensDetails"],g.map(h=>_c(n,h))):c(t,["toolUsePromptTokensDetails"],g)),t}function BR(n,e){let t={},i=u(e,["promptTokenCount"]);i!=null&&c(t,["promptTokenCount"],i);let r=u(e,["cachedContentTokenCount"]);r!=null&&c(t,["cachedContentTokenCount"],r);let o=u(e,["candidatesTokenCount"]);o!=null&&c(t,["responseTokenCount"],o);let s=u(e,["toolUsePromptTokenCount"]);s!=null&&c(t,["toolUsePromptTokenCount"],s);let a=u(e,["thoughtsTokenCount"]);a!=null&&c(t,["thoughtsTokenCount"],a);let l=u(e,["totalTokenCount"]);l!=null&&c(t,["totalTokenCount"],l);let d=u(e,["promptTokensDetails"]);d!=null&&(Array.isArray(d)?c(t,["promptTokensDetails"],d.map(m=>Cc(n,m))):c(t,["promptTokensDetails"],d));let f=u(e,["cacheTokensDetails"]);f!=null&&(Array.isArray(f)?c(t,["cacheTokensDetails"],f.map(m=>Cc(n,m))):c(t,["cacheTokensDetails"],f));let p=u(e,["candidatesTokensDetails"]);p!=null&&(Array.isArray(p)?c(t,["responseTokensDetails"],p.map(m=>Cc(n,m))):c(t,["responseTokensDetails"],p));let g=u(e,["toolUsePromptTokensDetails"]);g!=null&&(Array.isArray(g)?c(t,["toolUsePromptTokensDetails"],g.map(m=>Cc(n,m))):c(t,["toolUsePromptTokensDetails"],g));let h=u(e,["trafficType"]);return h!=null&&c(t,["trafficType"],h),t}function UR(n,e){let t={},i=u(e,["timeLeft"]);return i!=null&&c(t,["timeLeft"],i),t}function HR(n,e){let t={},i=u(e,["timeLeft"]);return i!=null&&c(t,["timeLeft"],i),t}function $R(n,e){let t={},i=u(e,["newHandle"]);i!=null&&c(t,["newHandle"],i);let r=u(e,["resumable"]);r!=null&&c(t,["resumable"],r);let o=u(e,["lastConsumedClientMessageIndex"]);return o!=null&&c(t,["lastConsumedClientMessageIndex"],o),t}function GR(n,e){let t={},i=u(e,["newHandle"]);i!=null&&c(t,["newHandle"],i);let r=u(e,["resumable"]);r!=null&&c(t,["resumable"],r);let o=u(e,["lastConsumedClientMessageIndex"]);return o!=null&&c(t,["lastConsumedClientMessageIndex"],o),t}function jR(n,e){let t={};u(e,["setupComplete"])!=null&&c(t,["setupComplete"],ER());let r=u(e,["serverContent"]);r!=null&&c(t,["serverContent"],NR(n,r));let o=u(e,["toolCall"]);o!=null&&c(t,["toolCall"],PR(n,o));let s=u(e,["toolCallCancellation"]);s!=null&&c(t,["toolCallCancellation"],FR(n,s));let a=u(e,["usageMetadata"]);a!=null&&c(t,["usageMetadata"],VR(n,a));let l=u(e,["goAway"]);l!=null&&c(t,["goAway"],UR(n,l));let d=u(e,["sessionResumptionUpdate"]);return d!=null&&c(t,["sessionResumptionUpdate"],$R(n,d)),t}function WR(n,e){let t={};u(e,["setupComplete"])!=null&&c(t,["setupComplete"],SR());let r=u(e,["serverContent"]);r!=null&&c(t,["serverContent"],AR(n,r));let o=u(e,["toolCall"]);o!=null&&c(t,["toolCall"],kR(n,o));let s=u(e,["toolCallCancellation"]);s!=null&&c(t,["toolCallCancellation"],LR(n,s));let a=u(e,["usageMetadata"]);a!=null&&c(t,["usageMetadata"],BR(n,a));let l=u(e,["goAway"]);l!=null&&c(t,["goAway"],HR(n,l));let d=u(e,["sessionResumptionUpdate"]);return d!=null&&c(t,["sessionResumptionUpdate"],GR(n,d)),t}function zR(n,e){let t={};if(u(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");let i=u(e,["thought"]);i!=null&&c(t,["thought"],i);let r=u(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=u(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let s=u(e,["fileData"]);s!=null&&c(t,["fileData"],s);let a=u(e,["functionCall"]);a!=null&&c(t,["functionCall"],a);let l=u(e,["functionResponse"]);l!=null&&c(t,["functionResponse"],l);let d=u(e,["inlineData"]);d!=null&&c(t,["inlineData"],d);let f=u(e,["text"]);return f!=null&&c(t,["text"],f),t}function Pc(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>zR(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function qR(n,e){let t={};if(u(e,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(u(e,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(u(e,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(u(e,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(u(e,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(u(e,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(u(e,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");let i=u(e,["anyOf"]);i!=null&&c(t,["anyOf"],i);let r=u(e,["description"]);r!=null&&c(t,["description"],r);let o=u(e,["enum"]);o!=null&&c(t,["enum"],o);let s=u(e,["format"]);s!=null&&c(t,["format"],s);let a=u(e,["items"]);a!=null&&c(t,["items"],a);let l=u(e,["maxItems"]);l!=null&&c(t,["maxItems"],l);let d=u(e,["maximum"]);d!=null&&c(t,["maximum"],d);let f=u(e,["minItems"]);f!=null&&c(t,["minItems"],f);let p=u(e,["minimum"]);p!=null&&c(t,["minimum"],p);let g=u(e,["nullable"]);g!=null&&c(t,["nullable"],g);let h=u(e,["properties"]);h!=null&&c(t,["properties"],h);let m=u(e,["propertyOrdering"]);m!=null&&c(t,["propertyOrdering"],m);let v=u(e,["required"]);v!=null&&c(t,["required"],v);let _=u(e,["title"]);_!=null&&c(t,["title"],_);let C=u(e,["type"]);return C!=null&&c(t,["type"],C),t}function YR(n,e){let t={};if(u(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=u(e,["category"]);i!=null&&c(t,["category"],i);let r=u(e,["threshold"]);return r!=null&&c(t,["threshold"],r),t}function KR(n,e){let t={};if(u(e,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");let i=u(e,["description"]);i!=null&&c(t,["description"],i);let r=u(e,["name"]);r!=null&&c(t,["name"],r);let o=u(e,["parameters"]);return o!=null&&c(t,["parameters"],o),t}function ZR(){return{}}function QR(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["dynamicThreshold"]);return r!=null&&c(t,["dynamicThreshold"],r),t}function JR(n,e){let t={},i=u(e,["dynamicRetrievalConfig"]);return i!=null&&c(t,["dynamicRetrievalConfig"],QR(n,i)),t}function XR(n,e){let t={},i=u(e,["functionDeclarations"]);if(i!=null&&(Array.isArray(i)?c(t,["functionDeclarations"],i.map(a=>KR(n,a))):c(t,["functionDeclarations"],i)),u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");u(e,["googleSearch"])!=null&&c(t,["googleSearch"],ZR());let o=u(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],JR(n,o));let s=u(e,["codeExecution"]);return s!=null&&c(t,["codeExecution"],s),t}function eO(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["allowedFunctionNames"]);return r!=null&&c(t,["allowedFunctionNames"],r),t}function tO(n,e){let t={},i=u(e,["functionCallingConfig"]);return i!=null&&c(t,["functionCallingConfig"],eO(n,i)),t}function nO(n,e){let t={},i=u(e,["voiceName"]);return i!=null&&c(t,["voiceName"],i),t}function iO(n,e){let t={},i=u(e,["prebuiltVoiceConfig"]);return i!=null&&c(t,["prebuiltVoiceConfig"],nO(n,i)),t}function rO(n,e){let t={},i=u(e,["voiceConfig"]);i!=null&&c(t,["voiceConfig"],iO(n,i));let r=u(e,["languageCode"]);return r!=null&&c(t,["languageCode"],r),t}function oO(n,e){let t={},i=u(e,["includeThoughts"]);i!=null&&c(t,["includeThoughts"],i);let r=u(e,["thinkingBudget"]);return r!=null&&c(t,["thinkingBudget"],r),t}function sO(n,e,t){let i={},r=u(e,["systemInstruction"]);t!==void 0&&r!=null&&c(t,["systemInstruction"],Pc(n,ct(n,r)));let o=u(e,["temperature"]);o!=null&&c(i,["temperature"],o);let s=u(e,["topP"]);s!=null&&c(i,["topP"],s);let a=u(e,["topK"]);a!=null&&c(i,["topK"],a);let l=u(e,["candidateCount"]);l!=null&&c(i,["candidateCount"],l);let d=u(e,["maxOutputTokens"]);d!=null&&c(i,["maxOutputTokens"],d);let f=u(e,["stopSequences"]);f!=null&&c(i,["stopSequences"],f);let p=u(e,["responseLogprobs"]);p!=null&&c(i,["responseLogprobs"],p);let g=u(e,["logprobs"]);g!=null&&c(i,["logprobs"],g);let h=u(e,["presencePenalty"]);h!=null&&c(i,["presencePenalty"],h);let m=u(e,["frequencyPenalty"]);m!=null&&c(i,["frequencyPenalty"],m);let v=u(e,["seed"]);v!=null&&c(i,["seed"],v);let _=u(e,["responseMimeType"]);_!=null&&c(i,["responseMimeType"],_);let C=u(e,["responseSchema"]);if(C!=null&&c(i,["responseSchema"],qR(n,DC(n,C))),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let b=u(e,["safetySettings"]);t!==void 0&&b!=null&&(Array.isArray(b)?c(t,["safetySettings"],b.map(le=>YR(n,le))):c(t,["safetySettings"],b));let S=u(e,["tools"]);t!==void 0&&S!=null&&(Array.isArray(S)?c(t,["tools"],At(n,At(n,S).map(le=>XR(n,Oc(n,le))))):c(t,["tools"],At(n,S)));let w=u(e,["toolConfig"]);if(t!==void 0&&w!=null&&c(t,["toolConfig"],tO(n,w)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let N=u(e,["cachedContent"]);t!==void 0&&N!=null&&c(t,["cachedContent"],Jn(n,N));let V=u(e,["responseModalities"]);V!=null&&c(i,["responseModalities"],V);let K=u(e,["mediaResolution"]);K!=null&&c(i,["mediaResolution"],K);let te=u(e,["speechConfig"]);if(te!=null&&c(i,["speechConfig"],rO(n,wC(n,te))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let ge=u(e,["thinkingConfig"]);return ge!=null&&c(i,["thinkingConfig"],oO(n,ge)),i}function cC(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["contents"]);r!=null&&(Array.isArray(r)?c(t,["contents"],Ee(n,Ee(n,r).map(s=>Pc(n,s)))):c(t,["contents"],Ee(n,r)));let o=u(e,["config"]);return o!=null&&c(t,["generationConfig"],sO(n,o,t)),t}function aO(n,e,t){let i={},r=u(e,["taskType"]);t!==void 0&&r!=null&&c(t,["requests[]","taskType"],r);let o=u(e,["title"]);t!==void 0&&o!=null&&c(t,["requests[]","title"],o);let s=u(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&c(t,["requests[]","outputDimensionality"],s),u(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function lO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["contents"]);r!=null&&c(t,["requests[]","content"],CC(n,r));let o=u(e,["config"]);o!=null&&c(t,["config"],aO(n,o,t));let s=u(e,["model"]);return s!==void 0&&c(t,["requests[]","model"],Ue(n,s)),t}function cO(n,e,t){let i={};if(u(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=u(e,["numberOfImages"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);let o=u(e,["aspectRatio"]);t!==void 0&&o!=null&&c(t,["parameters","aspectRatio"],o);let s=u(e,["guidanceScale"]);if(t!==void 0&&s!=null&&c(t,["parameters","guidanceScale"],s),u(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let a=u(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&c(t,["parameters","safetySetting"],a);let l=u(e,["personGeneration"]);t!==void 0&&l!=null&&c(t,["parameters","personGeneration"],l);let d=u(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&c(t,["parameters","includeSafetyAttributes"],d);let f=u(e,["includeRaiReason"]);t!==void 0&&f!=null&&c(t,["parameters","includeRaiReason"],f);let p=u(e,["language"]);t!==void 0&&p!=null&&c(t,["parameters","language"],p);let g=u(e,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);let h=u(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&c(t,["parameters","outputOptions","compressionQuality"],h),u(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function uO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["prompt"]);r!=null&&c(t,["instances[0]","prompt"],r);let o=u(e,["config"]);return o!=null&&c(t,["config"],cO(n,o,t)),t}function dO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","name"],Ue(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function fO(n,e){let t={};if(u(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function pO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["contents"]);r!=null&&(Array.isArray(r)?c(t,["contents"],Ee(n,Ee(n,r).map(s=>Pc(n,s)))):c(t,["contents"],Ee(n,r)));let o=u(e,["config"]);return o!=null&&c(t,["config"],fO(n,o)),t}function hO(n,e){let t={};if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let i=u(e,["imageBytes"]);i!=null&&c(t,["bytesBase64Encoded"],Xn(n,i));let r=u(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function gO(n,e,t){let i={},r=u(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r),u(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let o=u(e,["durationSeconds"]);if(t!==void 0&&o!=null&&c(t,["parameters","durationSeconds"],o),u(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=u(e,["aspectRatio"]);if(t!==void 0&&s!=null&&c(t,["parameters","aspectRatio"],s),u(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");let a=u(e,["personGeneration"]);if(t!==void 0&&a!=null&&c(t,["parameters","personGeneration"],a),u(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let l=u(e,["negativePrompt"]);if(t!==void 0&&l!=null&&c(t,["parameters","negativePrompt"],l),u(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function mO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["prompt"]);r!=null&&c(t,["instances[0]","prompt"],r);let o=u(e,["image"]);o!=null&&c(t,["instances[0]","image"],hO(n,o));let s=u(e,["config"]);return s!=null&&c(t,["config"],gO(n,s,t)),t}function vO(n,e){let t={},i=u(e,["videoMetadata"]);i!=null&&c(t,["videoMetadata"],i);let r=u(e,["thought"]);r!=null&&c(t,["thought"],r);let o=u(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);let s=u(e,["executableCode"]);s!=null&&c(t,["executableCode"],s);let a=u(e,["fileData"]);a!=null&&c(t,["fileData"],a);let l=u(e,["functionCall"]);l!=null&&c(t,["functionCall"],l);let d=u(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);let f=u(e,["inlineData"]);f!=null&&c(t,["inlineData"],f);let p=u(e,["text"]);return p!=null&&c(t,["text"],p),t}function no(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>vO(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function SC(n,e){let t={},i=u(e,["example"]);i!=null&&c(t,["example"],i);let r=u(e,["pattern"]);r!=null&&c(t,["pattern"],r);let o=u(e,["default"]);o!=null&&c(t,["default"],o);let s=u(e,["maxLength"]);s!=null&&c(t,["maxLength"],s);let a=u(e,["minLength"]);a!=null&&c(t,["minLength"],a);let l=u(e,["minProperties"]);l!=null&&c(t,["minProperties"],l);let d=u(e,["maxProperties"]);d!=null&&c(t,["maxProperties"],d);let f=u(e,["anyOf"]);f!=null&&c(t,["anyOf"],f);let p=u(e,["description"]);p!=null&&c(t,["description"],p);let g=u(e,["enum"]);g!=null&&c(t,["enum"],g);let h=u(e,["format"]);h!=null&&c(t,["format"],h);let m=u(e,["items"]);m!=null&&c(t,["items"],m);let v=u(e,["maxItems"]);v!=null&&c(t,["maxItems"],v);let _=u(e,["maximum"]);_!=null&&c(t,["maximum"],_);let C=u(e,["minItems"]);C!=null&&c(t,["minItems"],C);let b=u(e,["minimum"]);b!=null&&c(t,["minimum"],b);let S=u(e,["nullable"]);S!=null&&c(t,["nullable"],S);let w=u(e,["properties"]);w!=null&&c(t,["properties"],w);let N=u(e,["propertyOrdering"]);N!=null&&c(t,["propertyOrdering"],N);let V=u(e,["required"]);V!=null&&c(t,["required"],V);let K=u(e,["title"]);K!=null&&c(t,["title"],K);let te=u(e,["type"]);return te!=null&&c(t,["type"],te),t}function yO(n,e){let t={},i=u(e,["featureSelectionPreference"]);return i!=null&&c(t,["featureSelectionPreference"],i),t}function _O(n,e){let t={},i=u(e,["method"]);i!=null&&c(t,["method"],i);let r=u(e,["category"]);r!=null&&c(t,["category"],r);let o=u(e,["threshold"]);return o!=null&&c(t,["threshold"],o),t}function CO(n,e){let t={},i=u(e,["response"]);i!=null&&c(t,["response"],SC(n,i));let r=u(e,["description"]);r!=null&&c(t,["description"],r);let o=u(e,["name"]);o!=null&&c(t,["name"],o);let s=u(e,["parameters"]);return s!=null&&c(t,["parameters"],s),t}function DO(){return{}}function wO(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["dynamicThreshold"]);return r!=null&&c(t,["dynamicThreshold"],r),t}function bO(n,e){let t={},i=u(e,["dynamicRetrievalConfig"]);return i!=null&&c(t,["dynamicRetrievalConfig"],wO(n,i)),t}function TC(n,e){let t={},i=u(e,["functionDeclarations"]);i!=null&&(Array.isArray(i)?c(t,["functionDeclarations"],i.map(l=>CO(n,l))):c(t,["functionDeclarations"],i));let r=u(e,["retrieval"]);r!=null&&c(t,["retrieval"],r),u(e,["googleSearch"])!=null&&c(t,["googleSearch"],DO());let s=u(e,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],bO(n,s));let a=u(e,["codeExecution"]);return a!=null&&c(t,["codeExecution"],a),t}function EO(n,e){let t={},i=u(e,["mode"]);i!=null&&c(t,["mode"],i);let r=u(e,["allowedFunctionNames"]);return r!=null&&c(t,["allowedFunctionNames"],r),t}function SO(n,e){let t={},i=u(e,["functionCallingConfig"]);return i!=null&&c(t,["functionCallingConfig"],EO(n,i)),t}function TO(n,e){let t={},i=u(e,["voiceName"]);return i!=null&&c(t,["voiceName"],i),t}function IO(n,e){let t={},i=u(e,["prebuiltVoiceConfig"]);return i!=null&&c(t,["prebuiltVoiceConfig"],TO(n,i)),t}function MO(n,e){let t={},i=u(e,["voiceConfig"]);i!=null&&c(t,["voiceConfig"],IO(n,i));let r=u(e,["languageCode"]);return r!=null&&c(t,["languageCode"],r),t}function xO(n,e){let t={},i=u(e,["includeThoughts"]);i!=null&&c(t,["includeThoughts"],i);let r=u(e,["thinkingBudget"]);return r!=null&&c(t,["thinkingBudget"],r),t}function NO(n,e,t){let i={},r=u(e,["systemInstruction"]);t!==void 0&&r!=null&&c(t,["systemInstruction"],no(n,ct(n,r)));let o=u(e,["temperature"]);o!=null&&c(i,["temperature"],o);let s=u(e,["topP"]);s!=null&&c(i,["topP"],s);let a=u(e,["topK"]);a!=null&&c(i,["topK"],a);let l=u(e,["candidateCount"]);l!=null&&c(i,["candidateCount"],l);let d=u(e,["maxOutputTokens"]);d!=null&&c(i,["maxOutputTokens"],d);let f=u(e,["stopSequences"]);f!=null&&c(i,["stopSequences"],f);let p=u(e,["responseLogprobs"]);p!=null&&c(i,["responseLogprobs"],p);let g=u(e,["logprobs"]);g!=null&&c(i,["logprobs"],g);let h=u(e,["presencePenalty"]);h!=null&&c(i,["presencePenalty"],h);let m=u(e,["frequencyPenalty"]);m!=null&&c(i,["frequencyPenalty"],m);let v=u(e,["seed"]);v!=null&&c(i,["seed"],v);let _=u(e,["responseMimeType"]);_!=null&&c(i,["responseMimeType"],_);let C=u(e,["responseSchema"]);C!=null&&c(i,["responseSchema"],SC(n,DC(n,C)));let b=u(e,["routingConfig"]);b!=null&&c(i,["routingConfig"],b);let S=u(e,["modelSelectionConfig"]);S!=null&&c(i,["modelConfig"],yO(n,S));let w=u(e,["safetySettings"]);t!==void 0&&w!=null&&(Array.isArray(w)?c(t,["safetySettings"],w.map(Ot=>_O(n,Ot))):c(t,["safetySettings"],w));let N=u(e,["tools"]);t!==void 0&&N!=null&&(Array.isArray(N)?c(t,["tools"],At(n,At(n,N).map(Ot=>TC(n,Oc(n,Ot))))):c(t,["tools"],At(n,N)));let V=u(e,["toolConfig"]);t!==void 0&&V!=null&&c(t,["toolConfig"],SO(n,V));let K=u(e,["labels"]);t!==void 0&&K!=null&&c(t,["labels"],K);let te=u(e,["cachedContent"]);t!==void 0&&te!=null&&c(t,["cachedContent"],Jn(n,te));let ge=u(e,["responseModalities"]);ge!=null&&c(i,["responseModalities"],ge);let le=u(e,["mediaResolution"]);le!=null&&c(i,["mediaResolution"],le);let Me=u(e,["speechConfig"]);Me!=null&&c(i,["speechConfig"],MO(n,wC(n,Me)));let it=u(e,["audioTimestamp"]);it!=null&&c(i,["audioTimestamp"],it);let Oe=u(e,["thinkingConfig"]);return Oe!=null&&c(i,["thinkingConfig"],xO(n,Oe)),i}function uC(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["contents"]);r!=null&&(Array.isArray(r)?c(t,["contents"],Ee(n,Ee(n,r).map(s=>no(n,s)))):c(t,["contents"],Ee(n,r)));let o=u(e,["config"]);return o!=null&&c(t,["generationConfig"],NO(n,o,t)),t}function AO(n,e,t){let i={},r=u(e,["taskType"]);t!==void 0&&r!=null&&c(t,["instances[]","task_type"],r);let o=u(e,["title"]);t!==void 0&&o!=null&&c(t,["instances[]","title"],o);let s=u(e,["outputDimensionality"]);t!==void 0&&s!=null&&c(t,["parameters","outputDimensionality"],s);let a=u(e,["mimeType"]);t!==void 0&&a!=null&&c(t,["instances[]","mimeType"],a);let l=u(e,["autoTruncate"]);return t!==void 0&&l!=null&&c(t,["parameters","autoTruncate"],l),i}function RO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["contents"]);r!=null&&c(t,["instances[]","content"],CC(n,r));let o=u(e,["config"]);return o!=null&&c(t,["config"],AO(n,o,t)),t}function OO(n,e,t){let i={},r=u(e,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);let o=u(e,["negativePrompt"]);t!==void 0&&o!=null&&c(t,["parameters","negativePrompt"],o);let s=u(e,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);let a=u(e,["aspectRatio"]);t!==void 0&&a!=null&&c(t,["parameters","aspectRatio"],a);let l=u(e,["guidanceScale"]);t!==void 0&&l!=null&&c(t,["parameters","guidanceScale"],l);let d=u(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);let f=u(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);let p=u(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);let g=u(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&c(t,["parameters","includeSafetyAttributes"],g);let h=u(e,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);let m=u(e,["language"]);t!==void 0&&m!=null&&c(t,["parameters","language"],m);let v=u(e,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);let _=u(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_);let C=u(e,["addWatermark"]);t!==void 0&&C!=null&&c(t,["parameters","addWatermark"],C);let b=u(e,["enhancePrompt"]);return t!==void 0&&b!=null&&c(t,["parameters","enhancePrompt"],b),i}function PO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["prompt"]);r!=null&&c(t,["instances[0]","prompt"],r);let o=u(e,["config"]);return o!=null&&c(t,["config"],OO(n,o,t)),t}function kO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","name"],Ue(n,i));let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function FO(n,e,t){let i={},r=u(e,["systemInstruction"]);t!==void 0&&r!=null&&c(t,["systemInstruction"],no(n,ct(n,r)));let o=u(e,["tools"]);t!==void 0&&o!=null&&(Array.isArray(o)?c(t,["tools"],o.map(a=>TC(n,a))):c(t,["tools"],o));let s=u(e,["generationConfig"]);return t!==void 0&&s!=null&&c(t,["generationConfig"],s),i}function LO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["contents"]);r!=null&&(Array.isArray(r)?c(t,["contents"],Ee(n,Ee(n,r).map(s=>no(n,s)))):c(t,["contents"],Ee(n,r)));let o=u(e,["config"]);return o!=null&&c(t,["config"],FO(n,o,t)),t}function VO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["contents"]);r!=null&&(Array.isArray(r)?c(t,["contents"],Ee(n,Ee(n,r).map(s=>no(n,s)))):c(t,["contents"],Ee(n,r)));let o=u(e,["config"]);return o!=null&&c(t,["config"],o),t}function BO(n,e){let t={},i=u(e,["gcsUri"]);i!=null&&c(t,["gcsUri"],i);let r=u(e,["imageBytes"]);r!=null&&c(t,["bytesBase64Encoded"],Xn(n,r));let o=u(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function UO(n,e,t){let i={},r=u(e,["numberOfVideos"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);let o=u(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);let s=u(e,["fps"]);t!==void 0&&s!=null&&c(t,["parameters","fps"],s);let a=u(e,["durationSeconds"]);t!==void 0&&a!=null&&c(t,["parameters","durationSeconds"],a);let l=u(e,["seed"]);t!==void 0&&l!=null&&c(t,["parameters","seed"],l);let d=u(e,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);let f=u(e,["resolution"]);t!==void 0&&f!=null&&c(t,["parameters","resolution"],f);let p=u(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);let g=u(e,["pubsubTopic"]);t!==void 0&&g!=null&&c(t,["parameters","pubsubTopic"],g);let h=u(e,["negativePrompt"]);t!==void 0&&h!=null&&c(t,["parameters","negativePrompt"],h);let m=u(e,["enhancePrompt"]);return t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),i}function HO(n,e){let t={},i=u(e,["model"]);i!=null&&c(t,["_url","model"],Ue(n,i));let r=u(e,["prompt"]);r!=null&&c(t,["instances[0]","prompt"],r);let o=u(e,["image"]);o!=null&&c(t,["instances[0]","image"],BO(n,o));let s=u(e,["config"]);return s!=null&&c(t,["config"],UO(n,s,t)),t}function $O(n,e){let t={},i=u(e,["thought"]);i!=null&&c(t,["thought"],i);let r=u(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=u(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let s=u(e,["fileData"]);s!=null&&c(t,["fileData"],s);let a=u(e,["functionCall"]);a!=null&&c(t,["functionCall"],a);let l=u(e,["functionResponse"]);l!=null&&c(t,["functionResponse"],l);let d=u(e,["inlineData"]);d!=null&&c(t,["inlineData"],d);let f=u(e,["text"]);return f!=null&&c(t,["text"],f),t}function GO(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>$O(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function jO(n,e){let t={},i=u(e,["citationSources"]);return i!=null&&c(t,["citations"],i),t}function WO(n,e){let t={},i=u(e,["content"]);i!=null&&c(t,["content"],GO(n,i));let r=u(e,["citationMetadata"]);r!=null&&c(t,["citationMetadata"],jO(n,r));let o=u(e,["tokenCount"]);o!=null&&c(t,["tokenCount"],o);let s=u(e,["finishReason"]);s!=null&&c(t,["finishReason"],s);let a=u(e,["avgLogprobs"]);a!=null&&c(t,["avgLogprobs"],a);let l=u(e,["groundingMetadata"]);l!=null&&c(t,["groundingMetadata"],l);let d=u(e,["index"]);d!=null&&c(t,["index"],d);let f=u(e,["logprobsResult"]);f!=null&&c(t,["logprobsResult"],f);let p=u(e,["safetyRatings"]);return p!=null&&c(t,["safetyRatings"],p),t}function dC(n,e){let t={},i=u(e,["candidates"]);i!=null&&(Array.isArray(i)?c(t,["candidates"],i.map(a=>WO(n,a))):c(t,["candidates"],i));let r=u(e,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);let o=u(e,["promptFeedback"]);o!=null&&c(t,["promptFeedback"],o);let s=u(e,["usageMetadata"]);return s!=null&&c(t,["usageMetadata"],s),t}function zO(n,e){let t={},i=u(e,["values"]);return i!=null&&c(t,["values"],i),t}function qO(){return{}}function YO(n,e){let t={},i=u(e,["embeddings"]);return i!=null&&(Array.isArray(i)?c(t,["embeddings"],i.map(o=>zO(n,o))):c(t,["embeddings"],i)),u(e,["metadata"])!=null&&c(t,["metadata"],qO()),t}function KO(n,e){let t={},i=u(e,["bytesBase64Encoded"]);i!=null&&c(t,["imageBytes"],Xn(n,i));let r=u(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function IC(n,e){let t={},i=u(e,["safetyAttributes","categories"]);i!=null&&c(t,["categories"],i);let r=u(e,["safetyAttributes","scores"]);r!=null&&c(t,["scores"],r);let o=u(e,["contentType"]);return o!=null&&c(t,["contentType"],o),t}function ZO(n,e){let t={},i=u(e,["_self"]);i!=null&&c(t,["image"],KO(n,i));let r=u(e,["raiFilteredReason"]);r!=null&&c(t,["raiFilteredReason"],r);let o=u(e,["_self"]);return o!=null&&c(t,["safetyAttributes"],IC(n,o)),t}function QO(n,e){let t={},i=u(e,["predictions"]);i!=null&&(Array.isArray(i)?c(t,["generatedImages"],i.map(o=>ZO(n,o))):c(t,["generatedImages"],i));let r=u(e,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],IC(n,r)),t}function JO(n,e){let t={},i=u(e,["baseModel"]);i!=null&&c(t,["baseModel"],i);let r=u(e,["createTime"]);r!=null&&c(t,["createTime"],r);let o=u(e,["updateTime"]);return o!=null&&c(t,["updateTime"],o),t}function XO(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["displayName"]);r!=null&&c(t,["displayName"],r);let o=u(e,["description"]);o!=null&&c(t,["description"],o);let s=u(e,["version"]);s!=null&&c(t,["version"],s);let a=u(e,["_self"]);a!=null&&c(t,["tunedModelInfo"],JO(n,a));let l=u(e,["inputTokenLimit"]);l!=null&&c(t,["inputTokenLimit"],l);let d=u(e,["outputTokenLimit"]);d!=null&&c(t,["outputTokenLimit"],d);let f=u(e,["supportedGenerationMethods"]);return f!=null&&c(t,["supportedActions"],f),t}function eP(n,e){let t={},i=u(e,["totalTokens"]);i!=null&&c(t,["totalTokens"],i);let r=u(e,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function tP(n,e){let t={},i=u(e,["video","uri"]);i!=null&&c(t,["uri"],i);let r=u(e,["video","encodedVideo"]);r!=null&&c(t,["videoBytes"],Xn(n,r));let o=u(e,["encoding"]);return o!=null&&c(t,["mimeType"],o),t}function nP(n,e){let t={},i=u(e,["_self"]);return i!=null&&c(t,["video"],tP(n,i)),t}function iP(n,e){let t={},i=u(e,["generatedSamples"]);i!=null&&(Array.isArray(i)?c(t,["generatedVideos"],i.map(s=>nP(n,s))):c(t,["generatedVideos"],i));let r=u(e,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);let o=u(e,["raiMediaFilteredReasons"]);return o!=null&&c(t,["raiMediaFilteredReasons"],o),t}function rP(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=u(e,["done"]);o!=null&&c(t,["done"],o);let s=u(e,["error"]);s!=null&&c(t,["error"],s);let a=u(e,["response","generateVideoResponse"]);return a!=null&&c(t,["response"],iP(n,a)),t}function oP(n,e){let t={},i=u(e,["videoMetadata"]);i!=null&&c(t,["videoMetadata"],i);let r=u(e,["thought"]);r!=null&&c(t,["thought"],r);let o=u(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);let s=u(e,["executableCode"]);s!=null&&c(t,["executableCode"],s);let a=u(e,["fileData"]);a!=null&&c(t,["fileData"],a);let l=u(e,["functionCall"]);l!=null&&c(t,["functionCall"],l);let d=u(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);let f=u(e,["inlineData"]);f!=null&&c(t,["inlineData"],f);let p=u(e,["text"]);return p!=null&&c(t,["text"],p),t}function sP(n,e){let t={},i=u(e,["parts"]);i!=null&&(Array.isArray(i)?c(t,["parts"],i.map(o=>oP(n,o))):c(t,["parts"],i));let r=u(e,["role"]);return r!=null&&c(t,["role"],r),t}function aP(n,e){let t={},i=u(e,["citations"]);return i!=null&&c(t,["citations"],i),t}function lP(n,e){let t={},i=u(e,["content"]);i!=null&&c(t,["content"],sP(n,i));let r=u(e,["citationMetadata"]);r!=null&&c(t,["citationMetadata"],aP(n,r));let o=u(e,["finishMessage"]);o!=null&&c(t,["finishMessage"],o);let s=u(e,["finishReason"]);s!=null&&c(t,["finishReason"],s);let a=u(e,["avgLogprobs"]);a!=null&&c(t,["avgLogprobs"],a);let l=u(e,["groundingMetadata"]);l!=null&&c(t,["groundingMetadata"],l);let d=u(e,["index"]);d!=null&&c(t,["index"],d);let f=u(e,["logprobsResult"]);f!=null&&c(t,["logprobsResult"],f);let p=u(e,["safetyRatings"]);return p!=null&&c(t,["safetyRatings"],p),t}function fC(n,e){let t={},i=u(e,["candidates"]);i!=null&&(Array.isArray(i)?c(t,["candidates"],i.map(d=>lP(n,d))):c(t,["candidates"],i));let r=u(e,["createTime"]);r!=null&&c(t,["createTime"],r);let o=u(e,["responseId"]);o!=null&&c(t,["responseId"],o);let s=u(e,["modelVersion"]);s!=null&&c(t,["modelVersion"],s);let a=u(e,["promptFeedback"]);a!=null&&c(t,["promptFeedback"],a);let l=u(e,["usageMetadata"]);return l!=null&&c(t,["usageMetadata"],l),t}function cP(n,e){let t={},i=u(e,["truncated"]);i!=null&&c(t,["truncated"],i);let r=u(e,["token_count"]);return r!=null&&c(t,["tokenCount"],r),t}function uP(n,e){let t={},i=u(e,["values"]);i!=null&&c(t,["values"],i);let r=u(e,["statistics"]);return r!=null&&c(t,["statistics"],cP(n,r)),t}function dP(n,e){let t={},i=u(e,["billableCharacterCount"]);return i!=null&&c(t,["billableCharacterCount"],i),t}function fP(n,e){let t={},i=u(e,["predictions[]","embeddings"]);i!=null&&(Array.isArray(i)?c(t,["embeddings"],i.map(o=>uP(n,o))):c(t,["embeddings"],i));let r=u(e,["metadata"]);return r!=null&&c(t,["metadata"],dP(n,r)),t}function pP(n,e){let t={},i=u(e,["gcsUri"]);i!=null&&c(t,["gcsUri"],i);let r=u(e,["bytesBase64Encoded"]);r!=null&&c(t,["imageBytes"],Xn(n,r));let o=u(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function MC(n,e){let t={},i=u(e,["safetyAttributes","categories"]);i!=null&&c(t,["categories"],i);let r=u(e,["safetyAttributes","scores"]);r!=null&&c(t,["scores"],r);let o=u(e,["contentType"]);return o!=null&&c(t,["contentType"],o),t}function hP(n,e){let t={},i=u(e,["_self"]);i!=null&&c(t,["image"],pP(n,i));let r=u(e,["raiFilteredReason"]);r!=null&&c(t,["raiFilteredReason"],r);let o=u(e,["_self"]);o!=null&&c(t,["safetyAttributes"],MC(n,o));let s=u(e,["prompt"]);return s!=null&&c(t,["enhancedPrompt"],s),t}function gP(n,e){let t={},i=u(e,["predictions"]);i!=null&&(Array.isArray(i)?c(t,["generatedImages"],i.map(o=>hP(n,o))):c(t,["generatedImages"],i));let r=u(e,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],MC(n,r)),t}function mP(n,e){let t={},i=u(e,["endpoint"]);i!=null&&c(t,["name"],i);let r=u(e,["deployedModelId"]);return r!=null&&c(t,["deployedModelId"],r),t}function vP(n,e){let t={},i=u(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&c(t,["baseModel"],i);let r=u(e,["createTime"]);r!=null&&c(t,["createTime"],r);let o=u(e,["updateTime"]);return o!=null&&c(t,["updateTime"],o),t}function yP(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["displayName"]);r!=null&&c(t,["displayName"],r);let o=u(e,["description"]);o!=null&&c(t,["description"],o);let s=u(e,["versionId"]);s!=null&&c(t,["version"],s);let a=u(e,["deployedModels"]);a!=null&&(Array.isArray(a)?c(t,["endpoints"],a.map(f=>mP(n,f))):c(t,["endpoints"],a));let l=u(e,["labels"]);l!=null&&c(t,["labels"],l);let d=u(e,["_self"]);return d!=null&&c(t,["tunedModelInfo"],vP(n,d)),t}function _P(n,e){let t={},i=u(e,["totalTokens"]);return i!=null&&c(t,["totalTokens"],i),t}function CP(n,e){let t={},i=u(e,["tokensInfo"]);return i!=null&&c(t,["tokensInfo"],i),t}function DP(n,e){let t={},i=u(e,["gcsUri"]);i!=null&&c(t,["uri"],i);let r=u(e,["bytesBase64Encoded"]);r!=null&&c(t,["videoBytes"],Xn(n,r));let o=u(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function wP(n,e){let t={},i=u(e,["_self"]);return i!=null&&c(t,["video"],DP(n,i)),t}function bP(n,e){let t={},i=u(e,["videos"]);i!=null&&(Array.isArray(i)?c(t,["generatedVideos"],i.map(s=>wP(n,s))):c(t,["generatedVideos"],i));let r=u(e,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);let o=u(e,["raiMediaFilteredReasons"]);return o!=null&&c(t,["raiMediaFilteredReasons"],o),t}function EP(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=u(e,["done"]);o!=null&&c(t,["done"],o);let s=u(e,["error"]);s!=null&&c(t,["error"],s);let a=u(e,["response"]);return a!=null&&c(t,["response"],bP(n,a)),t}var SP="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function TP(n,e,t){return T(this,null,function*(){let i,r;t.data instanceof Blob?r=JSON.parse(yield t.data.text()):r=JSON.parse(t.data),n.isVertexAI()?i=WR(n,r):i=jR(n,r),e(i)})}var Sh=class{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}connect(e){return T(this,null,function*(){var t,i,r,o;let s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l,d=xP(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())l=`${s}/ws/google.cloud.aiplatform.${a}.LlmBidiService/BidiGenerateContent`,yield this.auth.addAuthHeaders(d);else{let w=this.apiClient.getApiKey();l=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateContent?key=${w}`}let f=()=>{},p=new Promise(w=>{f=w}),g=e.callbacks,h=function(){var w;(w=g?.onopen)===null||w===void 0||w.call(g),f({})},m=this.apiClient,v={onopen:h,onmessage:w=>{TP(m,g.onmessage,w)},onerror:(t=g?.onerror)!==null&&t!==void 0?t:function(w){},onclose:(i=g?.onclose)!==null&&i!==void 0?i:function(w){}},_=this.webSocketFactory.create(l,MP(d),v);_.connect(),yield p;let C=Ue(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){let w=this.apiClient.getProject(),N=this.apiClient.getLocation();C=`projects/${w}/locations/${N}/`+C}let b={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hh.AUDIO]}:e.config.responseModalities=[hh.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let S={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?b=vR(this.apiClient,S):b=mR(this.apiClient,S),delete b.config,_.send(JSON.stringify(b)),new Th(_,this.apiClient)})}},IP={turnComplete:!0},Th=class{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Ee(e,t.turns),e.isVertexAI()?i=i.map(r=>no(e,r)):i=i.map(r=>Pc(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(let o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(SP)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},IP),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:bR(this.apiClient,e)}:t={realtimeInput:wR(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}};function MP(n){let e={};return n.forEach((t,i)=>{e[i]=t}),e}function xP(n){let e=new Headers;for(let[t,i]of Object.entries(n))e.append(t,i);return e}var Ih=class extends to{constructor(e){super(),this.apiClient=e,this.generateContent=t=>T(this,null,function*(){return yield this.generateContentInternal(t)}),this.generateContentStream=t=>T(this,null,function*(){return yield this.generateContentStreamInternal(t)}),this.generateImages=t=>T(this,null,function*(){return yield this.generateImagesInternal(t).then(i=>{var r;let o,s=[];if(i?.generatedImages)for(let l of i.generatedImages)l&&l?.safetyAttributes&&((r=l?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=l?.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o}:a={generatedImages:s},a})})}generateContentInternal(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=uC(this.apiClient,e);return a=ee("{model}:generateContent",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=fC(this.apiClient,f),g=new eo;return Object.assign(g,p),g})}else{let d=cC(this.apiClient,e);return a=ee("{model}:generateContent",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=dC(this.apiClient,f),g=new eo;return Object.assign(g,p),g})}})}generateContentStreamInternal(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=uC(this.apiClient,e);a=ee("{model}:streamGenerateContent?alt=sse",d._url),l=d._query,delete d.config,delete d._url,delete d._query;let f=this.apiClient;return s=f.requestStream({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Nc(this,arguments,function*(){var g,h,m,v;try{for(var _=!0,C=Ch(p),b;b=yield Qe(C.next()),g=b.done,!g;_=!0){v=b.value,_=!1;let w=fC(f,yield Qe(v.json())),N=new eo;Object.assign(N,w),yield yield Qe(N)}}catch(S){h={error:S}}finally{try{!_&&!g&&(m=C.return)&&(yield Qe(m.call(C)))}finally{if(h)throw h.error}}})})}else{let d=cC(this.apiClient,e);a=ee("{model}:streamGenerateContent?alt=sse",d._url),l=d._query,delete d.config,delete d._url,delete d._query;let f=this.apiClient;return s=f.requestStream({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Nc(this,arguments,function*(){var g,h,m,v;try{for(var _=!0,C=Ch(p),b;b=yield Qe(C.next()),g=b.done,!g;_=!0){v=b.value,_=!1;let w=dC(f,yield Qe(v.json())),N=new eo;Object.assign(N,w),yield yield Qe(N)}}catch(S){h={error:S}}finally{try{!_&&!g&&(m=C.return)&&(yield Qe(m.call(C)))}finally{if(h)throw h.error}}})})}})}embedContent(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=RO(this.apiClient,e);return a=ee("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=fP(this.apiClient,f),g=new Sc;return Object.assign(g,p),g})}else{let d=lO(this.apiClient,e);return a=ee("{model}:batchEmbedContents",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=YO(this.apiClient,f),g=new Sc;return Object.assign(g,p),g})}})}generateImagesInternal(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=PO(this.apiClient,e);return a=ee("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=gP(this.apiClient,f),g=new Tc;return Object.assign(g,p),g})}else{let d=uO(this.apiClient,e);return a=ee("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=QO(this.apiClient,f),g=new Tc;return Object.assign(g,p),g})}})}get(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=kO(this.apiClient,e);return a=ee("{name}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>yP(this.apiClient,f))}else{let d=dO(this.apiClient,e);return a=ee("{name}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>XO(this.apiClient,f))}})}countTokens(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=LO(this.apiClient,e);return a=ee("{model}:countTokens",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=_P(this.apiClient,f),g=new Ic;return Object.assign(g,p),g})}else{let d=pO(this.apiClient,e);return a=ee("{model}:countTokens",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=eP(this.apiClient,f),g=new Ic;return Object.assign(g,p),g})}})}computeTokens(e){return T(this,null,function*(){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=VO(this.apiClient,e);return o=ee("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let d=CP(this.apiClient,l),f=new gh;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}generateVideos(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=HO(this.apiClient,e);return a=ee("{model}:predictLongRunning",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>EP(this.apiClient,f))}else{let d=mO(this.apiClient,e);return a=ee("{model}:predictLongRunning",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>rP(this.apiClient,f))}})}};function NP(n,e){let t={},i=u(e,["operationName"]);i!=null&&c(t,["_url","operationName"],i);let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function AP(n,e){let t={},i=u(e,["operationName"]);i!=null&&c(t,["_url","operationName"],i);let r=u(e,["config"]);return r!=null&&c(t,["config"],r),t}function RP(n,e){let t={},i=u(e,["operationName"]);i!=null&&c(t,["operationName"],i);let r=u(e,["resourceName"]);r!=null&&c(t,["_url","resourceName"],r);let o=u(e,["config"]);return o!=null&&c(t,["config"],o),t}function OP(n,e){let t={},i=u(e,["video","uri"]);i!=null&&c(t,["uri"],i);let r=u(e,["video","encodedVideo"]);r!=null&&c(t,["videoBytes"],Xn(n,r));let o=u(e,["encoding"]);return o!=null&&c(t,["mimeType"],o),t}function PP(n,e){let t={},i=u(e,["_self"]);return i!=null&&c(t,["video"],OP(n,i)),t}function kP(n,e){let t={},i=u(e,["generatedSamples"]);i!=null&&(Array.isArray(i)?c(t,["generatedVideos"],i.map(s=>PP(n,s))):c(t,["generatedVideos"],i));let r=u(e,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);let o=u(e,["raiMediaFilteredReasons"]);return o!=null&&c(t,["raiMediaFilteredReasons"],o),t}function FP(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=u(e,["done"]);o!=null&&c(t,["done"],o);let s=u(e,["error"]);s!=null&&c(t,["error"],s);let a=u(e,["response","generateVideoResponse"]);return a!=null&&c(t,["response"],kP(n,a)),t}function LP(n,e){let t={},i=u(e,["gcsUri"]);i!=null&&c(t,["uri"],i);let r=u(e,["bytesBase64Encoded"]);r!=null&&c(t,["videoBytes"],Xn(n,r));let o=u(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function VP(n,e){let t={},i=u(e,["_self"]);return i!=null&&c(t,["video"],LP(n,i)),t}function BP(n,e){let t={},i=u(e,["videos"]);i!=null&&(Array.isArray(i)?c(t,["generatedVideos"],i.map(s=>VP(n,s))):c(t,["generatedVideos"],i));let r=u(e,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);let o=u(e,["raiMediaFilteredReasons"]);return o!=null&&c(t,["raiMediaFilteredReasons"],o),t}function pC(n,e){let t={},i=u(e,["name"]);i!=null&&c(t,["name"],i);let r=u(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=u(e,["done"]);o!=null&&c(t,["done"],o);let s=u(e,["error"]);s!=null&&c(t,["error"],s);let a=u(e,["response"]);return a!=null&&c(t,["response"],BP(n,a)),t}var Mh=class extends to{constructor(e){super(),this.apiClient=e}getVideosOperation(e){return T(this,null,function*(){let t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=t.name.split("/operations/")[0],o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})})}getVideosOperationInternal(e){return T(this,null,function*(){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let d=AP(this.apiClient,e);return a=ee("{operationName}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>pC(this.apiClient,f))}else{let d=NP(this.apiClient,e);return a=ee("{operationName}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>FP(this.apiClient,f))}})}fetchPredictVideosOperationInternal(e){return T(this,null,function*(){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=RP(this.apiClient,e);return o=ee("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>pC(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")})}};var UP="Content-Type",HP="X-Server-Timeout",$P="User-Agent",GP="x-goog-api-client",jP="0.10.0",WP=`google-genai-sdk/${jP}`,zP="v1beta1",qP="v1beta",hC=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,Ac=class extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}},Ts=class extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}},xh=class{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:zP,this.getProject()||this.getLocation()?(r.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(r.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:qP,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){let r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}request(e){return T(this,null,function*(){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(let[s,a]of Object.entries(e.queryParams))r.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=yield this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)})}patchHttpOptions(e,t){let i=JSON.parse(JSON.stringify(e));for(let[r,o]of Object.entries(t))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}requestStream(e){return T(this,null,function*(){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=yield this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)})}includeExtraHttpOptionsToRequestInit(e,t,i){return T(this,null,function*(){if(t&&t.timeout||i){let r=new AbortController,o=r.signal;t.timeout&&t?.timeout>0&&setTimeout(()=>r.abort(),t.timeout),i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=o}return e.headers=yield this.getHeadersInternal(t),e})}unaryApiCall(e,t,i){return T(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(r=>T(this,null,function*(){return yield gC(r),new Ss(r)})).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})})}streamApiCall(e,t,i){return T(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(r=>T(this,null,function*(){return yield gC(r),this.processStreamResponse(r)})).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})})}processStreamResponse(e){var t;return Nc(this,arguments,function*(){let r=(t=e?.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){let{done:a,value:l}=yield Qe(r.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let d=o.decode(l);try{let p=JSON.parse(d);if("error"in p){let g=JSON.parse(JSON.stringify(p.error)),h=g.status,m=g.code,v=`got status: ${h}. ${JSON.stringify(p)}`;if(m>=400&&m<500)throw new Ac(v);if(m>=500&&m<600)throw new Ts(v)}}catch(p){let g=p;if(g.name==="ClientError"||g.name==="ServerError")throw p}s+=d;let f=s.match(hC);for(;f;){let p=f[1];try{let g=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Qe(new Ss(g)),s=s.slice(f[0].length),f=s.match(hC)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{r.releaseLock()}})}apiCall(e,t){return T(this,null,function*(){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})})}getDefaultHeaders(){let e={},t=WP+" "+this.clientOptions.userAgentExtra;return e[$P]=t,e[GP]=t,e[UP]="application/json",e}getHeadersInternal(e){return T(this,null,function*(){let t=new Headers;if(e&&e.headers){for(let[i,r]of Object.entries(e.headers))t.append(i,r);e.timeout&&e.timeout>0&&t.append(HP,String(Math.ceil(e.timeout/1e3)))}return yield this.clientOptions.auth.addAuthHeaders(t),t})}uploadFile(e,t){return T(this,null,function*(){var i;let r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let o=this.clientOptions.uploader,s=yield o.stat(e);r.sizeBytes=String(s.size);let a=(i=t?.mimeType)!==null&&i!==void 0?i:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;let l=yield this.fetchUploadUrl(r,t);return o.upload(e,l,this)})}fetchUploadUrl(e,t){return T(this,null,function*(){var i;let r={};t?.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};let o={file:e},s=yield this.request({path:ee("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!s||!s?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let a=(i=s?.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a})}};function gC(n){return T(this,null,function*(){var e;if(n===void 0)throw new Ts("response is undefined");if(!n.ok){let t=n.status,i=n.statusText,r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=yield n.json():r={error:{message:yield n.text(),code:n.status,status:n.statusText}};let o=`got status: ${t} ${i}. ${JSON.stringify(r)}`;throw t>=400&&t<500?new Ac(o):t>=500&&t<600?new Ts(o):new Error(o)}})}var YP=1024*1024*8;function KP(n,e,t){return T(this,null,function*(){var i,r;let o=0,s=0,a=new Ss(new Response),l="upload";for(o=n.size;s<o;){let f=Math.min(YP,o-s),p=n.slice(s,s+f);if(s+f>=o&&(l+=", finalize"),a=yield t.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),s+=f,((i=a?.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}let d=yield a?.json();if(((r=a?.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file})}function ZP(n){return T(this,null,function*(){return{size:n.size,type:n.type}})}var Nh=class{upload(e,t,i){return T(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield KP(e,t,i)})}stat(e){return T(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield ZP(e)})}};var Ah=class{create(e,t,i){return new Rh(e,t,i)}},Rh=class{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var mC="x-goog-api-key",Oh=class{constructor(e){this.apiKey=e}addAuthHeaders(e){return T(this,null,function*(){e.get(mC)===null&&e.append(mC,this.apiKey)})}};var QP="gl-node/",Rc=class{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;let i=HN(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;let r=new Oh(this.apiKey);this.apiClient=new xh({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:QP+"web",uploader:new Nh}),this.models=new Ih(this.apiClient),this.live=new Sh(this.apiClient,r,new Ah),this.chats=new Dh(this.models,this.apiClient),this.caches=new _h(this.apiClient),this.files=new Eh(this.apiClient),this.operations=new Mh(this.apiClient)}};var Is={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]};function Ms(n,e,t,i=!1){let r=String(e),o=(l,d)=>`\x1B[${d[0]}m${l}\x1B[${d[1]}m`,s=(l,d)=>d!=null&&typeof d=="string"?o(l,Is[d]):d!=null&&Array.isArray(d)?d.reduce((f,p)=>s(f,p),l):d!=null&&d[l.trim()]!=null?s(l,d[l.trim()]):d!=null&&d["*"]!=null?s(l,d["*"]):l,a=null;return r.replace(/{{(.+?)}}/g,(l,d)=>{let f=t[d]!=null?String(t[d]):i?"":l;return n.stylePrettyLogs?s(f,n?.prettyLogStyles?.[d]??a)+o("",Is.reset):f})}function _t(n,e=2,t=0){return n!=null&&isNaN(n)?"":(n=n!=null?n+t:n,e===2?n==null?"--":n<10?"0"+n:n.toString():n==null?"---":n<10?"00"+n:n<100?"0"+n:n.toString())}function xC(n){return{href:n.href,protocol:n.protocol,username:n.username,password:n.password,host:n.host,hostname:n.hostname,port:n.port,pathname:n.pathname,search:n.search,searchParams:[...n.searchParams].map(([e,t])=>({key:e,value:t})),hash:n.hash,origin:n.origin}}function kc(n){let e=new Set;return JSON.stringify(n,(t,i)=>{if(typeof i=="object"&&i!==null){if(e.has(i))return"[Circular]";e.add(i)}return typeof i=="bigint"?`${i}`:i})}function Rt(n,e){let t={seen:[],stylize:AC};return e!=null&&kC(t,e),io(t.showHidden)&&(t.showHidden=!1),io(t.depth)&&(t.depth=2),io(t.colors)&&(t.colors=!0),io(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=XP),Lc(t,n,t.depth)}Rt.colors=Is;Rt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function JP(n){return typeof n=="boolean"}function io(n){return n===void 0}function AC(n){return n}function XP(n,e){let t=Rt.styles[e];return t!=null&&Rt?.colors?.[t]?.[0]!=null&&Rt?.colors?.[t]?.[1]!=null?"\x1B["+Rt.colors[t][0]+"m"+n+"\x1B["+Rt.colors[t][1]+"m":n}function Fc(n){return typeof n=="function"}function RC(n){return typeof n=="string"}function ek(n){return typeof n=="number"}function OC(n){return n===null}function PC(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function kh(n){return Vc(n)&&Bh(n)==="[object RegExp]"}function Vc(n){return typeof n=="object"&&n!==null}function Fh(n){return Vc(n)&&(Bh(n)==="[object Error]"||n instanceof Error)}function NC(n){return Vc(n)&&Bh(n)==="[object Date]"}function Bh(n){return Object.prototype.toString.call(n)}function tk(n){let e={};return n.forEach(t=>{e[t]=!0}),e}function nk(n,e,t,i,r){let o=[];for(let s=0,a=e.length;s<a;++s)PC(e,String(s))?o.push(Vh(n,e,t,i,String(s),!0)):o.push("");return r.forEach(s=>{s.match(/^\d+$/)||o.push(Vh(n,e,t,i,s,!0))}),o}function Lh(n){return"["+Error.prototype.toString.call(n)+"]"}function Lc(n,e,t=0){if(n.customInspect&&e!=null&&Fc(e)&&e?.inspect!==Rt&&!(e?.constructor&&e?.constructor.prototype===e)){if(typeof e.inspect!="function"&&e.toString!=null)return e.toString();let f=e?.inspect(t,n);return RC(f)||(f=Lc(n,f,t)),f}let i=ei(n,e);if(i)return i;let r=Object.keys(e),o=tk(r);try{n.showHidden&&Object.getOwnPropertyNames&&(r=Object.getOwnPropertyNames(e))}catch{}if(Fh(e)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return Lh(e);if(r.length===0)if(Fc(n.stylize)){if(Fc(e)){let f=e.name?": "+e.name:"";return n.stylize("[Function"+f+"]","special")}if(kh(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(NC(e))return n.stylize(Date.prototype.toISOString.call(e),"date");if(Fh(e))return Lh(e)}else return e;let s="",a=!1,l=[`{
`,`
}`];if(Array.isArray(e)&&(a=!0,l=[`[
`,`
]`]),Fc(e)&&(s=" [Function"+(e.name?": "+e.name:"")+"]"),kh(e)&&(s=" "+RegExp.prototype.toString.call(e)),NC(e)&&(s=" "+Date.prototype.toUTCString.call(e)),Fh(e)&&(s=" "+Lh(e)),r.length===0&&(!a||e.length==0))return l[0]+s+l[1];if(t<0)return kh(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);let d;return a?d=nk(n,e,t,o,r):d=r.map(f=>Vh(n,e,t,o,f,a)),n.seen.pop(),ik(d,s,l)}function Vh(n,e,t,i,r,o){let s,a,l={value:void 0};try{l.value=e[r]}catch{}try{Object.getOwnPropertyDescriptor&&(l=Object.getOwnPropertyDescriptor(e,r)||l)}catch{}if(l.get?l.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):l.set&&(a=n.stylize("[Setter]","special")),PC(i,r)||(s="["+r+"]"),a||(n.seen.indexOf(l.value)<0?(OC(t)?a=Lc(n,l.value,void 0):a=Lc(n,l.value,t-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(d=>"  "+d).join(`
`).substr(2):a=`
`+a.split(`
`).map(d=>"   "+d).join(`
`))):a=n.stylize("[Circular]","special")),io(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=n.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),s=n.stylize(s,"string"))}return s+": "+a}function ei(n,e){if(io(e))return n.stylize("undefined","undefined");if(RC(e)){let t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return n.stylize(t,"string")}if(ek(e))return n.stylize(""+e,"number");if(JP(e))return n.stylize(""+e,"boolean");if(OC(e))return n.stylize("null","null")}function ik(n,e,t){return t[0]+(e===""?"":e+`
`)+"  "+n.join(`,
  `)+" "+t[1]}function kC(n,e){let t=D({},n);if(!e||!Vc(e))return n;let i=D({},e),r=Object.keys(e),o=r.length;for(;o--;)t[r[o]]=i[r[o]];return t}function FC(n,...e){let t={seen:[],stylize:AC};n!=null&&kC(t,n);let i=e[0],r=0,o="",s="";if(typeof i=="string"){if(e.length===1)return i;let a,l=0;for(let d=0;d<i.length-1;d++)if(i.charCodeAt(d)===37){let f=i.charCodeAt(++d);if(r+1!==e.length){switch(f){case 115:{let p=e[++r];typeof p=="number"||typeof p=="bigint"?a=ei(t,p):typeof p!="object"||p===null?a=String(p):a=Rt(p,B(D({},n),{compact:3,colors:!1,depth:0}));break}case 106:a=kc(e[++r]);break;case 100:{let p=e[++r];typeof p=="bigint"?a=ei(t,p):typeof p=="symbol"?a="NaN":a=ei(t,p);break}case 79:a=Rt(e[++r],n);break;case 111:a=Rt(e[++r],B(D({},n),{showHidden:!0,showProxy:!0,depth:4}));break;case 105:{let p=e[++r];typeof p=="bigint"?a=ei(t,p):typeof p=="symbol"?a="NaN":a=ei(t,parseInt(a));break}case 102:{let p=e[++r];typeof p=="symbol"?a="NaN":a=ei(t,parseInt(p));break}case 99:r+=1,a="";break;case 37:o+=i.slice(l,d),l=d+1;continue;default:continue}l!==d-1&&(o+=i.slice(l,d-1)),o+=a,l=d+1}else f===37&&(o+=i.slice(l,d),l=d+1)}l!==0&&(r++,s=" ",l<i.length&&(o+=i.slice(l)))}for(;r<e.length;){let a=e[r];o+=s,o+=typeof a!="string"?Rt(a,n):a,s=" ",r++}return o}var LC={getCallerStackFrame:VC,getErrorTrace:BC,getMeta:sk,transportJSON:ck,transportFormatted:lk,isBuffer:uk,isError:HC,prettyFormatLogObj:ak,prettyFormatErrorObj:$C},rk={runtime:[typeof window,typeof document].includes("undefined")?"Generic":"Browser",browser:globalThis?.navigator?.userAgent},ok=/(?:(?:file|https?|global code|[^@]+)@)?(?:file:)?((?:\/[^:/]+){2,})(?::(\d+))?(?::(\d+))?/;function sk(n,e,t,i,r,o){return Object.assign({},rk,{name:r,parentNames:o,date:new Date,logLevelId:n,logLevelName:e,path:i?void 0:VC(t)})}function VC(n,e=Error()){return UC(e?.stack?.split(`
`)?.filter(t=>!t.includes("Error: "))?.[n])}function BC(n){return(n?.stack?.split(`
`)??[])?.filter(e=>!e.includes("Error: "))?.reduce((e,t)=>(e.push(UC(t)),e),[])}function UC(n){let e=globalThis?.location?.origin,t={fullFilePath:void 0,fileName:void 0,fileNameWithLine:void 0,fileColumn:void 0,fileLine:void 0,filePath:void 0,filePathWithLine:void 0,method:void 0};if(n!=null){let i=n.match(ok);if(i){t.filePath=i[1].replace(/\?.*$/,""),t.fullFilePath=`${e}${t.filePath}`;let r=t.filePath.split("/");t.fileName=r[r.length-1],t.fileLine=i[2],t.fileColumn=i[3],t.filePathWithLine=`${t.filePath}:${t.fileLine}`,t.fileNameWithLine=`${t.fileName}:${t.fileLine}`}}return t}function HC(n){return n instanceof Error}function ak(n,e){return n.reduce((t,i)=>(HC(i)?t.errors.push($C(i,e)):t.args.push(i),t),{args:[],errors:[]})}function $C(n,e){let t=BC(n).map(r=>Ms(e,e.prettyErrorStackTemplate,D({},r),!0)),i={errorName:` ${n.name} `,errorMessage:Object.getOwnPropertyNames(n).reduce((r,o)=>(o!=="stack"&&r.push(n[o]),r),[]).join(", "),errorStack:t.join(`
`)};return Ms(e,e.prettyErrorTemplate,i)}function lk(n,e,t,i){let r=(t.length>0&&e.length>0?`
`:"")+t.join(`
`);i.prettyInspectOptions.colors=i.stylePrettyLogs,console.log(n+FC(i.prettyInspectOptions,...e)+r)}function ck(n){console.log(kc(n))}function uk(n){return!1}var Bc=class{constructor(e,t,i=4){this.logObj=t,this.stackDepthLevel=i,this.runtime=LC,this.settings={type:e?.type??"pretty",name:e?.name,parentNames:e?.parentNames,minLevel:e?.minLevel??0,argumentsArrayName:e?.argumentsArrayName,hideLogPositionForProduction:e?.hideLogPositionForProduction??!1,prettyLogTemplate:e?.prettyLogTemplate??"{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}	{{logLevelName}}	{{filePathWithLine}}{{nameWithDelimiterPrefix}}	",prettyErrorTemplate:e?.prettyErrorTemplate??`
{{errorName}} {{errorMessage}}
error stack:
{{errorStack}}`,prettyErrorStackTemplate:e?.prettyErrorStackTemplate??`  \u2022 {{fileName}}	{{method}}
	{{filePathWithLine}}`,prettyErrorParentNamesSeparator:e?.prettyErrorParentNamesSeparator??":",prettyErrorLoggerNameDelimiter:e?.prettyErrorLoggerNameDelimiter??"	",stylePrettyLogs:e?.stylePrettyLogs??!0,prettyLogTimeZone:e?.prettyLogTimeZone??"UTC",prettyLogStyles:e?.prettyLogStyles??{logLevelName:{"*":["bold","black","bgWhiteBright","dim"],SILLY:["bold","white"],TRACE:["bold","whiteBright"],DEBUG:["bold","green"],INFO:["bold","blue"],WARN:["bold","yellow"],ERROR:["bold","red"],FATAL:["bold","redBright"]},dateIsoStr:"white",filePathWithLine:"white",name:["white","bold"],nameWithDelimiterPrefix:["white","bold"],nameWithDelimiterSuffix:["white","bold"],errorName:["bold","bgRedBright","whiteBright"],fileName:["yellow"],fileNameWithLine:"white"},prettyInspectOptions:e?.prettyInspectOptions??{colors:!0,compact:!1,depth:1/0},metaProperty:e?.metaProperty??"_meta",maskPlaceholder:e?.maskPlaceholder??"[***]",maskValuesOfKeys:e?.maskValuesOfKeys??["password"],maskValuesOfKeysCaseInsensitive:e?.maskValuesOfKeysCaseInsensitive??!1,maskValuesRegEx:e?.maskValuesRegEx,prefix:[...e?.prefix??[]],attachedTransports:[...e?.attachedTransports??[]],overwrite:{mask:e?.overwrite?.mask,toLogObj:e?.overwrite?.toLogObj,addMeta:e?.overwrite?.addMeta,addPlaceholders:e?.overwrite?.addPlaceholders,formatMeta:e?.overwrite?.formatMeta,formatLogObj:e?.overwrite?.formatLogObj,transportFormatted:e?.overwrite?.transportFormatted,transportJSON:e?.overwrite?.transportJSON}}}log(e,t,...i){if(e<this.settings.minLevel)return;let r=[...this.settings.prefix,...i],o=this.settings.overwrite?.mask!=null?this.settings.overwrite?.mask(r):this.settings.maskValuesOfKeys!=null&&this.settings.maskValuesOfKeys.length>0?this._mask(r):r,s=this.logObj!=null?this._recursiveCloneAndExecuteFunctions(this.logObj):void 0,a=this.settings.overwrite?.toLogObj!=null?this.settings.overwrite?.toLogObj(o,s):this._toLogObj(o,s),l=this.settings.overwrite?.addMeta!=null?this.settings.overwrite?.addMeta(a,e,t):this._addMetaToLogObj(a,e,t),d,f;return this.settings.overwrite?.formatMeta!=null&&(d=this.settings.overwrite?.formatMeta(l?.[this.settings.metaProperty])),this.settings.overwrite?.formatLogObj!=null&&(f=this.settings.overwrite?.formatLogObj(o,this.settings)),this.settings.type==="pretty"&&(d=d??this._prettyFormatLogObjMeta(l?.[this.settings.metaProperty]),f=f??this.runtime.prettyFormatLogObj(o,this.settings)),d!=null&&f!=null?this.settings.overwrite?.transportFormatted!=null?this.settings.overwrite?.transportFormatted(d,f.args,f.errors,this.settings):this.runtime.transportFormatted(d,f.args,f.errors,this.settings):this.settings.overwrite?.transportJSON!=null?this.settings.overwrite?.transportJSON(l):this.settings.type!=="hidden"&&this.runtime.transportJSON(l),this.settings.attachedTransports!=null&&this.settings.attachedTransports.length>0&&this.settings.attachedTransports.forEach(p=>{p(l)}),l}attachTransport(e){this.settings.attachedTransports.push(e)}getSubLogger(e,t){let i=B(D(D({},this.settings),e),{parentNames:this.settings?.parentNames!=null&&this.settings?.name!=null?[...this.settings.parentNames,this.settings.name]:this.settings?.name!=null?[this.settings.name]:void 0,prefix:[...this.settings.prefix,...e?.prefix??[]]});return new this.constructor(i,t??this.logObj,this.stackDepthLevel)}_mask(e){let t=this.settings.maskValuesOfKeysCaseInsensitive!==!0?this.settings.maskValuesOfKeys:this.settings.maskValuesOfKeys.map(i=>i.toLowerCase());return e?.map(i=>this._recursiveCloneAndMaskValuesOfKeys(i,t))}_recursiveCloneAndMaskValuesOfKeys(e,t,i=[]){if(i.includes(e))return D({},e);if(typeof e=="object"&&e!==null&&i.push(e),this.runtime.isError(e)||this.runtime.isBuffer(e))return e;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Array.isArray(e))return e.map(r=>this._recursiveCloneAndMaskValuesOfKeys(r,t,i));if(e instanceof Date)return new Date(e.getTime());if(e instanceof URL)return xC(e);if(e!==null&&typeof e=="object"){let r=this.runtime.isError(e)?this._cloneError(e):Object.create(Object.getPrototypeOf(e));return Object.getOwnPropertyNames(e).reduce((o,s)=>(o[s]=t.includes(this.settings?.maskValuesOfKeysCaseInsensitive!==!0?s:s.toLowerCase())?this.settings.maskPlaceholder:(()=>{try{return this._recursiveCloneAndMaskValuesOfKeys(e[s],t,i)}catch{return null}})(),o),r)}else{if(typeof e=="string"){let r=e;for(let o of this.settings?.maskValuesRegEx||[])r=r.replace(o,this.settings?.maskPlaceholder||"");return r}return e}}_recursiveCloneAndExecuteFunctions(e,t=[]){return this.isObjectOrArray(e)&&t.includes(e)?this.shallowCopy(e):(this.isObjectOrArray(e)&&t.push(e),Array.isArray(e)?e.map(i=>this._recursiveCloneAndExecuteFunctions(i,t)):e instanceof Date?new Date(e.getTime()):this.isObject(e)?Object.getOwnPropertyNames(e).reduce((i,r)=>{let o=Object.getOwnPropertyDescriptor(e,r);if(o){Object.defineProperty(i,r,o);let s=e[r];i[r]=typeof s=="function"?s():this._recursiveCloneAndExecuteFunctions(s,t)}return i},Object.create(Object.getPrototypeOf(e))):e)}isObjectOrArray(e){return typeof e=="object"&&e!==null}isObject(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}shallowCopy(e){return Array.isArray(e)?[...e]:D({},e)}_toLogObj(e,t={}){return e=e?.map(i=>this.runtime.isError(i)?this._toErrorObject(i):i),this.settings.argumentsArrayName==null?e.length===1&&!Array.isArray(e[0])&&this.runtime.isBuffer(e[0])!==!0&&!(e[0]instanceof Date)?t=typeof e[0]=="object"&&e[0]!=null?D(D({},e[0]),t):D({0:e[0]},t):t=D(D({},t),e):t=B(D({},t),{[this.settings.argumentsArrayName]:e}),t}_cloneError(e){let t=new e.constructor;return Object.getOwnPropertyNames(e).forEach(i=>{t[i]=e[i]}),t}_toErrorObject(e){return{nativeError:e,name:e.name??"Error",message:e.message,stack:this.runtime.getErrorTrace(e)}}_addMetaToLogObj(e,t,i){return B(D({},e),{[this.settings.metaProperty]:this.runtime.getMeta(t,i,this.stackDepthLevel,this.settings.hideLogPositionForProduction,this.settings.name,this.settings.parentNames)})}_prettyFormatLogObjMeta(e){if(e==null)return"";let t=this.settings.prettyLogTemplate,i={};t.includes("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}")?t=t.replace("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}","{{dateIsoStr}}"):this.settings.prettyLogTimeZone==="UTC"?(i.yyyy=e?.date?.getUTCFullYear()??"----",i.mm=_t(e?.date?.getUTCMonth(),2,1),i.dd=_t(e?.date?.getUTCDate(),2),i.hh=_t(e?.date?.getUTCHours(),2),i.MM=_t(e?.date?.getUTCMinutes(),2),i.ss=_t(e?.date?.getUTCSeconds(),2),i.ms=_t(e?.date?.getUTCMilliseconds(),3)):(i.yyyy=e?.date?.getFullYear()??"----",i.mm=_t(e?.date?.getMonth(),2,1),i.dd=_t(e?.date?.getDate(),2),i.hh=_t(e?.date?.getHours(),2),i.MM=_t(e?.date?.getMinutes(),2),i.ss=_t(e?.date?.getSeconds(),2),i.ms=_t(e?.date?.getMilliseconds(),3));let r=this.settings.prettyLogTimeZone==="UTC"?e?.date:new Date(e?.date?.getTime()-e?.date?.getTimezoneOffset()*6e4);i.rawIsoStr=r?.toISOString(),i.dateIsoStr=r?.toISOString().replace("T"," ").replace("Z",""),i.logLevelName=e?.logLevelName,i.fileNameWithLine=e?.path?.fileNameWithLine??"",i.filePathWithLine=e?.path?.filePathWithLine??"",i.fullFilePath=e?.path?.fullFilePath??"";let o=this.settings.parentNames?.join(this.settings.prettyErrorParentNamesSeparator);return o=o!=null&&e?.name!=null?o+this.settings.prettyErrorParentNamesSeparator:void 0,i.name=e?.name!=null||o!=null?(o??"")+e?.name:"",i.nameWithDelimiterPrefix=i.name.length>0?this.settings.prettyErrorLoggerNameDelimiter+i.name:"",i.nameWithDelimiterSuffix=i.name.length>0?i.name+this.settings.prettyErrorLoggerNameDelimiter:"",this.settings.overwrite?.addPlaceholders!=null&&this.settings.overwrite?.addPlaceholders(e,i),Ms(this.settings,t,i)}};var Uc=class extends Bc{constructor(e,t){let i=typeof window<"u"&&typeof document<"u",r=i?window.chrome!==void 0&&window.CSS!==void 0&&window.CSS.supports("color","green"):!1,o=i?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1;e=e||{},e.stylePrettyLogs=e.stylePrettyLogs&&i&&!r?!1:e.stylePrettyLogs,super(e,t,o?4:5)}log(e,t,...i){return super.log(e,t,...i)}silly(...e){return super.log(0,"SILLY",...e)}trace(...e){return super.log(1,"TRACE",...e)}debug(...e){return super.log(2,"DEBUG",...e)}info(...e){return super.log(3,"INFO",...e)}warn(...e){return super.log(4,"WARN",...e)}error(...e){return super.log(5,"ERROR",...e)}fatal(...e){return super.log(6,"FATAL",...e)}getSubLogger(e,t){return super.getSubLogger(e,t)}};var GC="";var Uh={production:!1,version:GC,analytics:{}};function jC(n){let e=0;return Uh.production&&(e=3),new Uc({name:n,type:"pretty",minLevel:e,hideLogPositionForProduction:Uh.production})}var ro=class n{constructor(e){this.settingsService=e}logger=jC("LlmService");generateContent(e,t,i){let r=this.settingsService.llmApiKey,o=this.settingsService.selectedModelId;return!r||!o?(this.logger.error("generateContent: API key or model not set"),Yt(()=>new Error("API key and model must be set. Please check your settings."))):new G(s=>{let a=new Rc({apiKey:r});return T(this,null,function*(){try{let d=(yield a.models.generateContent({model:o,contents:[{role:"user",parts:[{text:t}]}],config:{systemInstruction:e,responseMimeType:"application/json",responseSchema:i,temperature:.8}})).text;if(!d)throw new Error("Invalid response format from LLM: no text");try{let f=JSON.parse(d);s.next(f),s.complete()}catch(f){this.logger.error("Failed to parse LLM response",f),s.error(new Error("Failed to parse the generated content. Please try again."))}}catch(l){this.logger.error("Error generating content",l),s.error(l instanceof Error?l:new Error("Failed to generate content. Please try again."))}}),()=>{}})}generateStory(){let e=this.settingsService.learningLanguage,t=this.settingsService.nativeLanguage,i=this.settingsService.textContent;if(!e||!t||!i)return this.logger.error("generateStory: Not all parameters set"),Yt(()=>new Error("Not all parameters are set. Please fill in all required fields."));let r=J0.replace("{learning_language}",e?.name_en).replace("{native_language}",t?.name_en),o={type:ut.OBJECT,properties:{learning_language_text:{type:ut.ARRAY,items:{type:ut.STRING,description:`Text in ${e?.name_en}`},description:`Array of sentences in ${e?.name_en}`,nullable:!1},native_language_text:{type:ut.ARRAY,items:{type:ut.STRING,description:`Text in ${t?.name_en}`},description:`Array of sentences in ${t?.name_en}`,nullable:!1}},required:["learning_language_text","native_language_text"]};return this.generateContent(r,i,o)}reviewRetelling(e,t){let i=this.settingsService.learningLanguage,r=this.settingsService.nativeLanguage;if(!i||!r||!e||!t)return this.logger.error("reviewRetelling: Not all parameters set"),Yt(()=>new Error("Not all parameters are set. Please fill in all required fields."));let o=X0.replace("{learning_language}",i?.name_en).replace("{native_language}",r?.name_en),s=`Original story in ${i?.name_en}:
${e}

User's retelling in ${i?.name_en}:
${t}`,a={type:ut.OBJECT,properties:{overall_review:{type:ut.STRING,description:`Overall review of the retelling in ${r?.name_en}`,nullable:!1},sentences:{type:ut.ARRAY,items:{type:ut.OBJECT,properties:{sentence:{type:ut.STRING,description:"The original sentence from the user's retelling",nullable:!1},status:{type:ut.STRING,description:'Status of the sentence: "correct" or "incorrect"',enum:["correct","incorrect"],nullable:!1},review:{type:ut.STRING,description:`Review of the sentence in ${r?.name_en} with corrections in ${i?.name_en}`,nullable:!0}},required:["sentence","status","review"]},description:"Array of sentences with their review status",nullable:!1}},required:["overall_review","sentences"]};return this.generateContent(o,s,a)}static \u0275fac=function(t){return new(t||n)(j(Qn))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};function dk(n,e){if(n&1&&(A(0,"p",19),Q(1),x()),n&2){let t=de().$implicit;O(),Gt(t.review)}}function fk(n,e){if(n&1&&(A(0,"div",13)(1,"div",14),we(2,"i",15),A(3,"div",16)(4,"p",17)(5,"strong"),Q(6),x()(),Te(7,dk,2,1,"p",18),x()()()),n&2){let t=e.$implicit,i=de(3);O(),Z("ngClass",i.getSentenceStatusClass(t.status)),O(),Z("ngClass",t.status==="correct"?"bi-check-circle-fill":"bi-x-circle-fill"),O(4),Gt(t.sentence),O(),Z("ngIf",t.review)}}function pk(n,e){if(n&1&&(A(0,"div",7)(1,"div",8)(2,"div",9)(3,"h4"),Q(4,"Review Results"),x()(),A(5,"div",10)(6,"h5"),Q(7,"Overall Review:"),x(),A(8,"p",11),Q(9),x(),A(10,"h5"),Q(11,"Sentence Analysis:"),x(),Te(12,fk,8,4,"div",12),x()()()),n&2){let t=de(2);O(9),Gt(t.retellingReview.overall_review),O(3),Z("ngForOf",t.retellingReview.sentences)}}function hk(n,e){if(n&1){let t=mt();A(0,"div",1)(1,"h3"),Q(2,"Practice Retelling"),x(),A(3,"p"),Q(4,"Try to retell the story in your own words:"),x(),A(5,"div",2)(6,"textarea",3),wn("ngModelChange",function(r){ce(t);let o=de();return Bn(o.userRetelling,r)||(o.userRetelling=r),ue(r)}),Q(7,"    "),x()(),A(8,"div",4)(9,"button",5),oe("click",function(){ce(t);let r=de();return ue(r.checkRetelling())}),Q(10),x()(),Te(11,pk,13,2,"div",6),x()}if(n&2){let t=de();O(6),Dn("ngModel",t.userRetelling),Z("disabled",t.isChecking),O(3),Z("disabled",!t.isCheckButtonEnabled),O(),Tt(" ",t.isChecking?"Checking...":"Check"," "),O(),Z("ngIf",t.retellingReview)}}var Hc=class n{constructor(e){this.llmService=e}learningLanguageText=[];userRetelling="";isChecking=!1;retellingReview=null;ngOnInit(){}get isCheckButtonEnabled(){return this.userRetelling.trim().length>0&&!this.isChecking}get shouldShowComponent(){return this.learningLanguageText.length>0}checkRetelling(){if(!this.isCheckButtonEnabled)return;this.isChecking=!0,this.retellingReview=null;let e=this.learningLanguageText.join(" ");this.llmService.reviewRetelling(e,this.userRetelling).subscribe({next:t=>{this.retellingReview=t,this.isChecking=!1},error:t=>{console.error("Error reviewing retelling:",t),alert(t.message||"An error occurred while reviewing your retelling. Please try again."),this.isChecking=!1}})}getSentenceStatusClass(e){return e==="correct"?"text-success":"text-danger"}static \u0275fac=function(t){return new(t||n)(X(ro))};static \u0275cmp=ke({type:n,selectors:[["app-retelling"]],inputs:{learningLanguageText:"learningLanguageText"},decls:1,vars:1,consts:[["class","retelling-container",4,"ngIf"],[1,"retelling-container"],[1,"form-group"],["rows","5","placeholder","Type your retelling here...",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"mt-2","mb-4"],[1,"btn","btn-primary",3,"click","disabled"],["class","review-results mt-3",4,"ngIf"],[1,"review-results","mt-3"],[1,"card"],[1,"card-header","bg-light"],[1,"card-body"],[1,"mb-4"],["class","sentence-review mb-3",4,"ngFor","ngForOf"],[1,"sentence-review","mb-3"],[1,"d-flex","align-items-start",3,"ngClass"],[1,"bi",3,"ngClass"],[1,"ms-2"],[1,"mb-1"],["class","mb-0",4,"ngIf"],[1,"mb-0"]],template:function(t,i){t&1&&Te(0,hk,12,5,"div",0),t&2&&Z("ngIf",i.shouldShowComponent)},dependencies:[an,Xf,Gn,Si,Yr,qn,qr,Ai],styles:[".retelling-container[_ngcontent-%COMP%]{margin-bottom:2rem}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.sentence-review[_ngcontent-%COMP%]{padding:.5rem;border-radius:.25rem}.sentence-review[_ngcontent-%COMP%]:nth-child(odd){background-color:#00000008}.text-success[_ngcontent-%COMP%]{color:#28a745}.text-danger[_ngcontent-%COMP%]{color:#dc3545}.bi[_ngcontent-%COMP%]{font-size:1.2rem;margin-right:.5rem}"]})};var $c=class n{constructor(e,t){this.llmService=e;this.settingsService=t}textFromSettings="";learningLanguageText=[];nativeLanguageText=[];translationIndices=[];isGenerating=!1;areSettingsValid=!1;subscriptions=new me;ngOnInit(){this.subscriptions.add(ci([this.settingsService.learningLanguage$,this.settingsService.nativeLanguage$,this.settingsService.llmApiKey$,this.settingsService.selectedModelId$,this.settingsService.textContent$]).subscribe(([e,t,i,r,o])=>{this.areSettingsValid=!!(e&&t&&i&&r&&o)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}onTextInputChange(e){this.textFromSettings=e,console.log("Text from settings:",e)}onShowTranslation(e){this.translationIndices.includes(e)?this.translationIndices=[]:this.translationIndices=[e]}generateStory(){if(!this.areSettingsValid){alert("Please fill in all required settings before generating a story.");return}this.isGenerating=!0,this.subscriptions.add(this.llmService.generateStory().subscribe({next:e=>{this.learningLanguageText=e.learning_language_text,this.nativeLanguageText=e.native_language_text,this.isGenerating=!1},error:e=>{alert(e.message||"An error occurred while generating the story. Please try again."),this.isGenerating=!1}}))}static \u0275fac=function(t){return new(t||n)(X(ro),X(Qn))};static \u0275cmp=ke({type:n,selectors:[["app-index"]],decls:15,vars:8,consts:[[1,"row"],[1,"col-12"],[3,"textInputChange"],[1,"row","mt-2"],[1,"btn","btn-primary",3,"click","disabled"],[1,"col-12","col-lg-6"],[3,"showTranslation","text","showTranslationIcons"],[3,"text","hideText","showItemIndices"],[3,"learningLanguageText"]],template:function(t,i){t&1&&(A(0,"div",0)(1,"div",1)(2,"app-settings",2),oe("textInputChange",function(o){return i.onTextInputChange(o)}),x()()(),A(3,"div",3)(4,"div",1)(5,"button",4),oe("click",function(){return i.generateStory()}),Q(6),x()()(),A(7,"div",3)(8,"div",5)(9,"app-story-text",6),oe("showTranslation",function(o){return i.onShowTranslation(o)}),x()(),A(10,"div",5),we(11,"app-story-text",7),x()(),A(12,"div",3)(13,"div",1),we(14,"app-retelling",8),x()()),t&2&&(O(5),Z("disabled",i.isGenerating||!i.areSettingsValid),O(),Tt(" ",i.isGenerating?"Generating...":"Generate text"," "),O(3),Z("text",i.learningLanguageText)("showTranslationIcons",!0),O(2),Z("text",i.nativeLanguageText)("hideText",!0)("showItemIndices",i.translationIndices),O(3),Z("learningLanguageText",i.learningLanguageText))},dependencies:[vc,yc,Hc],encapsulation:2})};var zC=[{path:"",component:$c}];var qC={providers:[$y({eventCoalescing:!0}),Pp(zC)]};var Gc=class n{title="language-stories";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-fluid","mt-4"]],template:function(t,i){t&1&&(A(0,"div",0),we(1,"router-outlet"),x())},dependencies:[as],encapsulation:2})};up(Gc,qC).catch(n=>console.error(n));
